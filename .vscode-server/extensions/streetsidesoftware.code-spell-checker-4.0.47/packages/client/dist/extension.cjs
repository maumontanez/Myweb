"use strict";var jj=Object.create;var hd=Object.defineProperty;var Bj=Object.getOwnPropertyDescriptor;var Wj=Object.getOwnPropertyNames;var Kj=Object.getPrototypeOf,$j=Object.prototype.hasOwnProperty;var F=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),qE=(t,e)=>{for(var n in e)hd(t,n,{get:e[n],enumerable:!0})},UE=(t,e,n,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of Wj(e))!$j.call(t,r)&&r!==n&&hd(t,r,{get:()=>e[r],enumerable:!(i=Bj(e,r))||i.enumerable});return t};var Fe=(t,e,n)=>(n=t!=null?jj(Kj(t)):{},UE(e||!t||!t.__esModule?hd(n,"default",{value:t,enumerable:!0}):n,t)),Hj=t=>UE(hd({},"__esModule",{value:!0}),t);var Pk=F((eu,oy)=>{(function(e,n){typeof eu=="object"&&typeof oy=="object"?oy.exports=n():typeof define=="function"&&define.amd?define([],n):typeof eu=="object"?eu.esprima=n():e.esprima=n()})(eu,function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={exports:{},id:i,loaded:!1};return t[i].call(r.exports,r,r.exports,n),r.loaded=!0,r.exports}return n.m=t,n.c=e,n.p="",n(0)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),r=n(3),s=n(8),o=n(15);function a(p,u,d){var h=null,m=function(j,ie){d&&d(j,ie),h&&h.visit(j,ie)},C=typeof d=="function"?m:null,D=!1;if(u){D=typeof u.comment=="boolean"&&u.comment;var w=typeof u.attachComment=="boolean"&&u.attachComment;(D||w)&&(h=new i.CommentHandler,h.attach=w,u.comment=!0,C=m)}var k=!1;u&&typeof u.sourceType=="string"&&(k=u.sourceType==="module");var I;u&&typeof u.jsx=="boolean"&&u.jsx?I=new r.JSXParser(p,u,C):I=new s.Parser(p,u,C);var B=k?I.parseModule():I.parseScript(),W=B;return D&&h&&(W.comments=h.comments),I.config.tokens&&(W.tokens=I.tokens),I.config.tolerant&&(W.errors=I.errorHandler.errors),W}e.parse=a;function c(p,u,d){var h=u||{};return h.sourceType="module",a(p,h,d)}e.parseModule=c;function l(p,u,d){var h=u||{};return h.sourceType="script",a(p,h,d)}e.parseScript=l;function f(p,u,d){var h=new o.Tokenizer(p,u),m;m=[];try{for(;;){var C=h.getNextToken();if(!C)break;d&&(C=d(C)),m.push(C)}}catch(D){h.errorHandler.tolerate(D)}return h.errorHandler.tolerant&&(m.errors=h.errors()),m}e.tokenize=f;var g=n(2);e.Syntax=g.Syntax,e.version="4.0.1"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),r=function(){function s(){this.attach=!1,this.comments=[],this.stack=[],this.leading=[],this.trailing=[]}return s.prototype.insertInnerComments=function(o,a){if(o.type===i.Syntax.BlockStatement&&o.body.length===0){for(var c=[],l=this.leading.length-1;l>=0;--l){var f=this.leading[l];a.end.offset>=f.start&&(c.unshift(f.comment),this.leading.splice(l,1),this.trailing.splice(l,1))}c.length&&(o.innerComments=c)}},s.prototype.findTrailingComments=function(o){var a=[];if(this.trailing.length>0){for(var c=this.trailing.length-1;c>=0;--c){var l=this.trailing[c];l.start>=o.end.offset&&a.unshift(l.comment)}return this.trailing.length=0,a}var f=this.stack[this.stack.length-1];if(f&&f.node.trailingComments){var g=f.node.trailingComments[0];g&&g.range[0]>=o.end.offset&&(a=f.node.trailingComments,delete f.node.trailingComments)}return a},s.prototype.findLeadingComments=function(o){for(var a=[],c;this.stack.length>0;){var l=this.stack[this.stack.length-1];if(l&&l.start>=o.start.offset)c=l.node,this.stack.pop();else break}if(c){for(var f=c.leadingComments?c.leadingComments.length:0,g=f-1;g>=0;--g){var p=c.leadingComments[g];p.range[1]<=o.start.offset&&(a.unshift(p),c.leadingComments.splice(g,1))}return c.leadingComments&&c.leadingComments.length===0&&delete c.leadingComments,a}for(var g=this.leading.length-1;g>=0;--g){var l=this.leading[g];l.start<=o.start.offset&&(a.unshift(l.comment),this.leading.splice(g,1))}return a},s.prototype.visitNode=function(o,a){if(!(o.type===i.Syntax.Program&&o.body.length>0)){this.insertInnerComments(o,a);var c=this.findTrailingComments(a),l=this.findLeadingComments(a);l.length>0&&(o.leadingComments=l),c.length>0&&(o.trailingComments=c),this.stack.push({node:o,start:a.start.offset})}},s.prototype.visitComment=function(o,a){var c=o.type[0]==="L"?"Line":"Block",l={type:c,value:o.value};if(o.range&&(l.range=o.range),o.loc&&(l.loc=o.loc),this.comments.push(l),this.attach){var f={comment:{type:c,value:o.value,range:[a.start.offset,a.end.offset]},start:a.start.offset};o.loc&&(f.comment.loc=o.loc),o.type=c,this.leading.push(f),this.trailing.push(f)}},s.prototype.visit=function(o,a){o.type==="LineComment"?this.visitComment(o,a):o.type==="BlockComment"?this.visitComment(o,a):this.attach&&this.visitNode(o,a)},s}();e.CommentHandler=r},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Syntax={AssignmentExpression:"AssignmentExpression",AssignmentPattern:"AssignmentPattern",ArrayExpression:"ArrayExpression",ArrayPattern:"ArrayPattern",ArrowFunctionExpression:"ArrowFunctionExpression",AwaitExpression:"AwaitExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ClassBody:"ClassBody",ClassDeclaration:"ClassDeclaration",ClassExpression:"ClassExpression",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DoWhileStatement:"DoWhileStatement",DebuggerStatement:"DebuggerStatement",EmptyStatement:"EmptyStatement",ExportAllDeclaration:"ExportAllDeclaration",ExportDefaultDeclaration:"ExportDefaultDeclaration",ExportNamedDeclaration:"ExportNamedDeclaration",ExportSpecifier:"ExportSpecifier",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForOfStatement:"ForOfStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",ImportDeclaration:"ImportDeclaration",ImportDefaultSpecifier:"ImportDefaultSpecifier",ImportNamespaceSpecifier:"ImportNamespaceSpecifier",ImportSpecifier:"ImportSpecifier",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",MetaProperty:"MetaProperty",MethodDefinition:"MethodDefinition",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",ObjectPattern:"ObjectPattern",Program:"Program",Property:"Property",RestElement:"RestElement",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SpreadElement:"SpreadElement",Super:"Super",SwitchCase:"SwitchCase",SwitchStatement:"SwitchStatement",TaggedTemplateExpression:"TaggedTemplateExpression",TemplateElement:"TemplateElement",TemplateLiteral:"TemplateLiteral",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement",YieldExpression:"YieldExpression"}},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,h){d.__proto__=h}||function(d,h){for(var m in h)h.hasOwnProperty(m)&&(d[m]=h[m])};return function(d,h){u(d,h);function m(){this.constructor=d}d.prototype=h===null?Object.create(h):(m.prototype=h.prototype,new m)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(4),s=n(5),o=n(6),a=n(7),c=n(8),l=n(13),f=n(14);l.TokenName[100]="JSXIdentifier",l.TokenName[101]="JSXText";function g(u){var d;switch(u.type){case o.JSXSyntax.JSXIdentifier:var h=u;d=h.name;break;case o.JSXSyntax.JSXNamespacedName:var m=u;d=g(m.namespace)+":"+g(m.name);break;case o.JSXSyntax.JSXMemberExpression:var C=u;d=g(C.object)+"."+g(C.property);break;default:break}return d}var p=function(u){i(d,u);function d(h,m,C){return u.call(this,h,m,C)||this}return d.prototype.parsePrimaryExpression=function(){return this.match("<")?this.parseJSXRoot():u.prototype.parsePrimaryExpression.call(this)},d.prototype.startJSX=function(){this.scanner.index=this.startMarker.index,this.scanner.lineNumber=this.startMarker.line,this.scanner.lineStart=this.startMarker.index-this.startMarker.column},d.prototype.finishJSX=function(){this.nextToken()},d.prototype.reenterJSX=function(){this.startJSX(),this.expectJSX("}"),this.config.tokens&&this.tokens.pop()},d.prototype.createJSXNode=function(){return this.collectComments(),{index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}},d.prototype.createJSXChildNode=function(){return{index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}},d.prototype.scanXHTMLEntity=function(h){for(var m="&",C=!0,D=!1,w=!1,k=!1;!this.scanner.eof()&&C&&!D;){var I=this.scanner.source[this.scanner.index];if(I===h)break;if(D=I===";",m+=I,++this.scanner.index,!D)switch(m.length){case 2:w=I==="#";break;case 3:w&&(k=I==="x",C=k||r.Character.isDecimalDigit(I.charCodeAt(0)),w=w&&!k);break;default:C=C&&!(w&&!r.Character.isDecimalDigit(I.charCodeAt(0))),C=C&&!(k&&!r.Character.isHexDigit(I.charCodeAt(0)));break}}if(C&&D&&m.length>2){var B=m.substr(1,m.length-2);w&&B.length>1?m=String.fromCharCode(parseInt(B.substr(1),10)):k&&B.length>2?m=String.fromCharCode(parseInt("0"+B.substr(1),16)):!w&&!k&&f.XHTMLEntities[B]&&(m=f.XHTMLEntities[B])}return m},d.prototype.lexJSX=function(){var h=this.scanner.source.charCodeAt(this.scanner.index);if(h===60||h===62||h===47||h===58||h===61||h===123||h===125){var m=this.scanner.source[this.scanner.index++];return{type:7,value:m,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:this.scanner.index-1,end:this.scanner.index}}if(h===34||h===39){for(var C=this.scanner.index,D=this.scanner.source[this.scanner.index++],w="";!this.scanner.eof();){var k=this.scanner.source[this.scanner.index++];if(k===D)break;k==="&"?w+=this.scanXHTMLEntity(D):w+=k}return{type:8,value:w,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:C,end:this.scanner.index}}if(h===46){var I=this.scanner.source.charCodeAt(this.scanner.index+1),B=this.scanner.source.charCodeAt(this.scanner.index+2),m=I===46&&B===46?"...":".",C=this.scanner.index;return this.scanner.index+=m.length,{type:7,value:m,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:C,end:this.scanner.index}}if(h===96)return{type:10,value:"",lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:this.scanner.index,end:this.scanner.index};if(r.Character.isIdentifierStart(h)&&h!==92){var C=this.scanner.index;for(++this.scanner.index;!this.scanner.eof();){var k=this.scanner.source.charCodeAt(this.scanner.index);if(r.Character.isIdentifierPart(k)&&k!==92)++this.scanner.index;else if(k===45)++this.scanner.index;else break}var W=this.scanner.source.slice(C,this.scanner.index);return{type:100,value:W,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:C,end:this.scanner.index}}return this.scanner.lex()},d.prototype.nextJSXToken=function(){this.collectComments(),this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart;var h=this.lexJSX();return this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart,this.config.tokens&&this.tokens.push(this.convertToken(h)),h},d.prototype.nextJSXText=function(){this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart;for(var h=this.scanner.index,m="";!this.scanner.eof();){var C=this.scanner.source[this.scanner.index];if(C==="{"||C==="<")break;++this.scanner.index,m+=C,r.Character.isLineTerminator(C.charCodeAt(0))&&(++this.scanner.lineNumber,C==="\r"&&this.scanner.source[this.scanner.index]===`
`&&++this.scanner.index,this.scanner.lineStart=this.scanner.index)}this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart;var D={type:101,value:m,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:h,end:this.scanner.index};return m.length>0&&this.config.tokens&&this.tokens.push(this.convertToken(D)),D},d.prototype.peekJSXToken=function(){var h=this.scanner.saveState();this.scanner.scanComments();var m=this.lexJSX();return this.scanner.restoreState(h),m},d.prototype.expectJSX=function(h){var m=this.nextJSXToken();(m.type!==7||m.value!==h)&&this.throwUnexpectedToken(m)},d.prototype.matchJSX=function(h){var m=this.peekJSXToken();return m.type===7&&m.value===h},d.prototype.parseJSXIdentifier=function(){var h=this.createJSXNode(),m=this.nextJSXToken();return m.type!==100&&this.throwUnexpectedToken(m),this.finalize(h,new s.JSXIdentifier(m.value))},d.prototype.parseJSXElementName=function(){var h=this.createJSXNode(),m=this.parseJSXIdentifier();if(this.matchJSX(":")){var C=m;this.expectJSX(":");var D=this.parseJSXIdentifier();m=this.finalize(h,new s.JSXNamespacedName(C,D))}else if(this.matchJSX("."))for(;this.matchJSX(".");){var w=m;this.expectJSX(".");var k=this.parseJSXIdentifier();m=this.finalize(h,new s.JSXMemberExpression(w,k))}return m},d.prototype.parseJSXAttributeName=function(){var h=this.createJSXNode(),m,C=this.parseJSXIdentifier();if(this.matchJSX(":")){var D=C;this.expectJSX(":");var w=this.parseJSXIdentifier();m=this.finalize(h,new s.JSXNamespacedName(D,w))}else m=C;return m},d.prototype.parseJSXStringLiteralAttribute=function(){var h=this.createJSXNode(),m=this.nextJSXToken();m.type!==8&&this.throwUnexpectedToken(m);var C=this.getTokenRaw(m);return this.finalize(h,new a.Literal(m.value,C))},d.prototype.parseJSXExpressionAttribute=function(){var h=this.createJSXNode();this.expectJSX("{"),this.finishJSX(),this.match("}")&&this.tolerateError("JSX attributes must only be assigned a non-empty expression");var m=this.parseAssignmentExpression();return this.reenterJSX(),this.finalize(h,new s.JSXExpressionContainer(m))},d.prototype.parseJSXAttributeValue=function(){return this.matchJSX("{")?this.parseJSXExpressionAttribute():this.matchJSX("<")?this.parseJSXElement():this.parseJSXStringLiteralAttribute()},d.prototype.parseJSXNameValueAttribute=function(){var h=this.createJSXNode(),m=this.parseJSXAttributeName(),C=null;return this.matchJSX("=")&&(this.expectJSX("="),C=this.parseJSXAttributeValue()),this.finalize(h,new s.JSXAttribute(m,C))},d.prototype.parseJSXSpreadAttribute=function(){var h=this.createJSXNode();this.expectJSX("{"),this.expectJSX("..."),this.finishJSX();var m=this.parseAssignmentExpression();return this.reenterJSX(),this.finalize(h,new s.JSXSpreadAttribute(m))},d.prototype.parseJSXAttributes=function(){for(var h=[];!this.matchJSX("/")&&!this.matchJSX(">");){var m=this.matchJSX("{")?this.parseJSXSpreadAttribute():this.parseJSXNameValueAttribute();h.push(m)}return h},d.prototype.parseJSXOpeningElement=function(){var h=this.createJSXNode();this.expectJSX("<");var m=this.parseJSXElementName(),C=this.parseJSXAttributes(),D=this.matchJSX("/");return D&&this.expectJSX("/"),this.expectJSX(">"),this.finalize(h,new s.JSXOpeningElement(m,D,C))},d.prototype.parseJSXBoundaryElement=function(){var h=this.createJSXNode();if(this.expectJSX("<"),this.matchJSX("/")){this.expectJSX("/");var m=this.parseJSXElementName();return this.expectJSX(">"),this.finalize(h,new s.JSXClosingElement(m))}var C=this.parseJSXElementName(),D=this.parseJSXAttributes(),w=this.matchJSX("/");return w&&this.expectJSX("/"),this.expectJSX(">"),this.finalize(h,new s.JSXOpeningElement(C,w,D))},d.prototype.parseJSXEmptyExpression=function(){var h=this.createJSXChildNode();return this.collectComments(),this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart,this.finalize(h,new s.JSXEmptyExpression)},d.prototype.parseJSXExpressionContainer=function(){var h=this.createJSXNode();this.expectJSX("{");var m;return this.matchJSX("}")?(m=this.parseJSXEmptyExpression(),this.expectJSX("}")):(this.finishJSX(),m=this.parseAssignmentExpression(),this.reenterJSX()),this.finalize(h,new s.JSXExpressionContainer(m))},d.prototype.parseJSXChildren=function(){for(var h=[];!this.scanner.eof();){var m=this.createJSXChildNode(),C=this.nextJSXText();if(C.start<C.end){var D=this.getTokenRaw(C),w=this.finalize(m,new s.JSXText(C.value,D));h.push(w)}if(this.scanner.source[this.scanner.index]==="{"){var k=this.parseJSXExpressionContainer();h.push(k)}else break}return h},d.prototype.parseComplexJSXElement=function(h){for(var m=[];!this.scanner.eof();){h.children=h.children.concat(this.parseJSXChildren());var C=this.createJSXChildNode(),D=this.parseJSXBoundaryElement();if(D.type===o.JSXSyntax.JSXOpeningElement){var w=D;if(w.selfClosing){var k=this.finalize(C,new s.JSXElement(w,[],null));h.children.push(k)}else m.push(h),h={node:C,opening:w,closing:null,children:[]}}if(D.type===o.JSXSyntax.JSXClosingElement){h.closing=D;var I=g(h.opening.name),B=g(h.closing.name);if(I!==B&&this.tolerateError("Expected corresponding JSX closing tag for %0",I),m.length>0){var k=this.finalize(h.node,new s.JSXElement(h.opening,h.children,h.closing));h=m[m.length-1],h.children.push(k),m.pop()}else break}}return h},d.prototype.parseJSXElement=function(){var h=this.createJSXNode(),m=this.parseJSXOpeningElement(),C=[],D=null;if(!m.selfClosing){var w=this.parseComplexJSXElement({node:h,opening:m,closing:D,children:C});C=w.children,D=w.closing}return this.finalize(h,new s.JSXElement(m,C,D))},d.prototype.parseJSXRoot=function(){this.config.tokens&&this.tokens.pop(),this.startJSX();var h=this.parseJSXElement();return this.finishJSX(),h},d.prototype.isStartOfExpression=function(){return u.prototype.isStartOfExpression.call(this)||this.match("<")},d}(c.Parser);e.JSXParser=p},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]/,NonAsciiIdentifierPart:/[\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/};e.Character={fromCodePoint:function(i){return i<65536?String.fromCharCode(i):String.fromCharCode(55296+(i-65536>>10))+String.fromCharCode(56320+(i-65536&1023))},isWhiteSpace:function(i){return i===32||i===9||i===11||i===12||i===160||i>=5760&&[5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(i)>=0},isLineTerminator:function(i){return i===10||i===13||i===8232||i===8233},isIdentifierStart:function(i){return i===36||i===95||i>=65&&i<=90||i>=97&&i<=122||i===92||i>=128&&n.NonAsciiIdentifierStart.test(e.Character.fromCodePoint(i))},isIdentifierPart:function(i){return i===36||i===95||i>=65&&i<=90||i>=97&&i<=122||i>=48&&i<=57||i===92||i>=128&&n.NonAsciiIdentifierPart.test(e.Character.fromCodePoint(i))},isDecimalDigit:function(i){return i>=48&&i<=57},isHexDigit:function(i){return i>=48&&i<=57||i>=65&&i<=70||i>=97&&i<=102},isOctalDigit:function(i){return i>=48&&i<=55}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(6),r=function(){function h(m){this.type=i.JSXSyntax.JSXClosingElement,this.name=m}return h}();e.JSXClosingElement=r;var s=function(){function h(m,C,D){this.type=i.JSXSyntax.JSXElement,this.openingElement=m,this.children=C,this.closingElement=D}return h}();e.JSXElement=s;var o=function(){function h(){this.type=i.JSXSyntax.JSXEmptyExpression}return h}();e.JSXEmptyExpression=o;var a=function(){function h(m){this.type=i.JSXSyntax.JSXExpressionContainer,this.expression=m}return h}();e.JSXExpressionContainer=a;var c=function(){function h(m){this.type=i.JSXSyntax.JSXIdentifier,this.name=m}return h}();e.JSXIdentifier=c;var l=function(){function h(m,C){this.type=i.JSXSyntax.JSXMemberExpression,this.object=m,this.property=C}return h}();e.JSXMemberExpression=l;var f=function(){function h(m,C){this.type=i.JSXSyntax.JSXAttribute,this.name=m,this.value=C}return h}();e.JSXAttribute=f;var g=function(){function h(m,C){this.type=i.JSXSyntax.JSXNamespacedName,this.namespace=m,this.name=C}return h}();e.JSXNamespacedName=g;var p=function(){function h(m,C,D){this.type=i.JSXSyntax.JSXOpeningElement,this.name=m,this.selfClosing=C,this.attributes=D}return h}();e.JSXOpeningElement=p;var u=function(){function h(m){this.type=i.JSXSyntax.JSXSpreadAttribute,this.argument=m}return h}();e.JSXSpreadAttribute=u;var d=function(){function h(m,C){this.type=i.JSXSyntax.JSXText,this.value=m,this.raw=C}return h}();e.JSXText=d},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.JSXSyntax={JSXAttribute:"JSXAttribute",JSXClosingElement:"JSXClosingElement",JSXElement:"JSXElement",JSXEmptyExpression:"JSXEmptyExpression",JSXExpressionContainer:"JSXExpressionContainer",JSXIdentifier:"JSXIdentifier",JSXMemberExpression:"JSXMemberExpression",JSXNamespacedName:"JSXNamespacedName",JSXOpeningElement:"JSXOpeningElement",JSXSpreadAttribute:"JSXSpreadAttribute",JSXText:"JSXText"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),r=function(){function L(M){this.type=i.Syntax.ArrayExpression,this.elements=M}return L}();e.ArrayExpression=r;var s=function(){function L(M){this.type=i.Syntax.ArrayPattern,this.elements=M}return L}();e.ArrayPattern=s;var o=function(){function L(M,Y,Ee){this.type=i.Syntax.ArrowFunctionExpression,this.id=null,this.params=M,this.body=Y,this.generator=!1,this.expression=Ee,this.async=!1}return L}();e.ArrowFunctionExpression=o;var a=function(){function L(M,Y,Ee){this.type=i.Syntax.AssignmentExpression,this.operator=M,this.left=Y,this.right=Ee}return L}();e.AssignmentExpression=a;var c=function(){function L(M,Y){this.type=i.Syntax.AssignmentPattern,this.left=M,this.right=Y}return L}();e.AssignmentPattern=c;var l=function(){function L(M,Y,Ee){this.type=i.Syntax.ArrowFunctionExpression,this.id=null,this.params=M,this.body=Y,this.generator=!1,this.expression=Ee,this.async=!0}return L}();e.AsyncArrowFunctionExpression=l;var f=function(){function L(M,Y,Ee){this.type=i.Syntax.FunctionDeclaration,this.id=M,this.params=Y,this.body=Ee,this.generator=!1,this.expression=!1,this.async=!0}return L}();e.AsyncFunctionDeclaration=f;var g=function(){function L(M,Y,Ee){this.type=i.Syntax.FunctionExpression,this.id=M,this.params=Y,this.body=Ee,this.generator=!1,this.expression=!1,this.async=!0}return L}();e.AsyncFunctionExpression=g;var p=function(){function L(M){this.type=i.Syntax.AwaitExpression,this.argument=M}return L}();e.AwaitExpression=p;var u=function(){function L(M,Y,Ee){var Kt=M==="||"||M==="&&";this.type=Kt?i.Syntax.LogicalExpression:i.Syntax.BinaryExpression,this.operator=M,this.left=Y,this.right=Ee}return L}();e.BinaryExpression=u;var d=function(){function L(M){this.type=i.Syntax.BlockStatement,this.body=M}return L}();e.BlockStatement=d;var h=function(){function L(M){this.type=i.Syntax.BreakStatement,this.label=M}return L}();e.BreakStatement=h;var m=function(){function L(M,Y){this.type=i.Syntax.CallExpression,this.callee=M,this.arguments=Y}return L}();e.CallExpression=m;var C=function(){function L(M,Y){this.type=i.Syntax.CatchClause,this.param=M,this.body=Y}return L}();e.CatchClause=C;var D=function(){function L(M){this.type=i.Syntax.ClassBody,this.body=M}return L}();e.ClassBody=D;var w=function(){function L(M,Y,Ee){this.type=i.Syntax.ClassDeclaration,this.id=M,this.superClass=Y,this.body=Ee}return L}();e.ClassDeclaration=w;var k=function(){function L(M,Y,Ee){this.type=i.Syntax.ClassExpression,this.id=M,this.superClass=Y,this.body=Ee}return L}();e.ClassExpression=k;var I=function(){function L(M,Y){this.type=i.Syntax.MemberExpression,this.computed=!0,this.object=M,this.property=Y}return L}();e.ComputedMemberExpression=I;var B=function(){function L(M,Y,Ee){this.type=i.Syntax.ConditionalExpression,this.test=M,this.consequent=Y,this.alternate=Ee}return L}();e.ConditionalExpression=B;var W=function(){function L(M){this.type=i.Syntax.ContinueStatement,this.label=M}return L}();e.ContinueStatement=W;var j=function(){function L(){this.type=i.Syntax.DebuggerStatement}return L}();e.DebuggerStatement=j;var ie=function(){function L(M,Y){this.type=i.Syntax.ExpressionStatement,this.expression=M,this.directive=Y}return L}();e.Directive=ie;var ne=function(){function L(M,Y){this.type=i.Syntax.DoWhileStatement,this.body=M,this.test=Y}return L}();e.DoWhileStatement=ne;var H=function(){function L(){this.type=i.Syntax.EmptyStatement}return L}();e.EmptyStatement=H;var N=function(){function L(M){this.type=i.Syntax.ExportAllDeclaration,this.source=M}return L}();e.ExportAllDeclaration=N;var $=function(){function L(M){this.type=i.Syntax.ExportDefaultDeclaration,this.declaration=M}return L}();e.ExportDefaultDeclaration=$;var te=function(){function L(M,Y,Ee){this.type=i.Syntax.ExportNamedDeclaration,this.declaration=M,this.specifiers=Y,this.source=Ee}return L}();e.ExportNamedDeclaration=te;var K=function(){function L(M,Y){this.type=i.Syntax.ExportSpecifier,this.exported=Y,this.local=M}return L}();e.ExportSpecifier=K;var G=function(){function L(M){this.type=i.Syntax.ExpressionStatement,this.expression=M}return L}();e.ExpressionStatement=G;var Q=function(){function L(M,Y,Ee){this.type=i.Syntax.ForInStatement,this.left=M,this.right=Y,this.body=Ee,this.each=!1}return L}();e.ForInStatement=Q;var ae=function(){function L(M,Y,Ee){this.type=i.Syntax.ForOfStatement,this.left=M,this.right=Y,this.body=Ee}return L}();e.ForOfStatement=ae;var se=function(){function L(M,Y,Ee,Kt){this.type=i.Syntax.ForStatement,this.init=M,this.test=Y,this.update=Ee,this.body=Kt}return L}();e.ForStatement=se;var re=function(){function L(M,Y,Ee,Kt){this.type=i.Syntax.FunctionDeclaration,this.id=M,this.params=Y,this.body=Ee,this.generator=Kt,this.expression=!1,this.async=!1}return L}();e.FunctionDeclaration=re;var ye=function(){function L(M,Y,Ee,Kt){this.type=i.Syntax.FunctionExpression,this.id=M,this.params=Y,this.body=Ee,this.generator=Kt,this.expression=!1,this.async=!1}return L}();e.FunctionExpression=ye;var ve=function(){function L(M){this.type=i.Syntax.Identifier,this.name=M}return L}();e.Identifier=ve;var $e=function(){function L(M,Y,Ee){this.type=i.Syntax.IfStatement,this.test=M,this.consequent=Y,this.alternate=Ee}return L}();e.IfStatement=$e;var ke=function(){function L(M,Y){this.type=i.Syntax.ImportDeclaration,this.specifiers=M,this.source=Y}return L}();e.ImportDeclaration=ke;var ht=function(){function L(M){this.type=i.Syntax.ImportDefaultSpecifier,this.local=M}return L}();e.ImportDefaultSpecifier=ht;var wt=function(){function L(M){this.type=i.Syntax.ImportNamespaceSpecifier,this.local=M}return L}();e.ImportNamespaceSpecifier=wt;var Jn=function(){function L(M,Y){this.type=i.Syntax.ImportSpecifier,this.local=M,this.imported=Y}return L}();e.ImportSpecifier=Jn;var qn=function(){function L(M,Y){this.type=i.Syntax.LabeledStatement,this.label=M,this.body=Y}return L}();e.LabeledStatement=qn;var Un=function(){function L(M,Y){this.type=i.Syntax.Literal,this.value=M,this.raw=Y}return L}();e.Literal=Un;var jn=function(){function L(M,Y){this.type=i.Syntax.MetaProperty,this.meta=M,this.property=Y}return L}();e.MetaProperty=jn;var Xn=function(){function L(M,Y,Ee,Kt,b){this.type=i.Syntax.MethodDefinition,this.key=M,this.computed=Y,this.value=Ee,this.kind=Kt,this.static=b}return L}();e.MethodDefinition=Xn;var nt=function(){function L(M){this.type=i.Syntax.Program,this.body=M,this.sourceType="module"}return L}();e.Module=nt;var pi=function(){function L(M,Y){this.type=i.Syntax.NewExpression,this.callee=M,this.arguments=Y}return L}();e.NewExpression=pi;var Bn=function(){function L(M){this.type=i.Syntax.ObjectExpression,this.properties=M}return L}();e.ObjectExpression=Bn;var rn=function(){function L(M){this.type=i.Syntax.ObjectPattern,this.properties=M}return L}();e.ObjectPattern=rn;var Ri=function(){function L(M,Y,Ee,Kt,b,V){this.type=i.Syntax.Property,this.key=Y,this.computed=Ee,this.value=Kt,this.kind=M,this.method=b,this.shorthand=V}return L}();e.Property=Ri;var cn=function(){function L(M,Y,Ee,Kt){this.type=i.Syntax.Literal,this.value=M,this.raw=Y,this.regex={pattern:Ee,flags:Kt}}return L}();e.RegexLiteral=cn;var Yn=function(){function L(M){this.type=i.Syntax.RestElement,this.argument=M}return L}();e.RestElement=Yn;var lt=function(){function L(M){this.type=i.Syntax.ReturnStatement,this.argument=M}return L}();e.ReturnStatement=lt;var xt=function(){function L(M){this.type=i.Syntax.Program,this.body=M,this.sourceType="script"}return L}();e.Script=xt;var Gt=function(){function L(M){this.type=i.Syntax.SequenceExpression,this.expressions=M}return L}();e.SequenceExpression=Gt;var mn=function(){function L(M){this.type=i.Syntax.SpreadElement,this.argument=M}return L}();e.SpreadElement=mn;var Wt=function(){function L(M,Y){this.type=i.Syntax.MemberExpression,this.computed=!1,this.object=M,this.property=Y}return L}();e.StaticMemberExpression=Wt;var Wn=function(){function L(){this.type=i.Syntax.Super}return L}();e.Super=Wn;var Qn=function(){function L(M,Y){this.type=i.Syntax.SwitchCase,this.test=M,this.consequent=Y}return L}();e.SwitchCase=Qn;var yn=function(){function L(M,Y){this.type=i.Syntax.SwitchStatement,this.discriminant=M,this.cases=Y}return L}();e.SwitchStatement=yn;var Zn=function(){function L(M,Y){this.type=i.Syntax.TaggedTemplateExpression,this.tag=M,this.quasi=Y}return L}();e.TaggedTemplateExpression=Zn;var Et=function(){function L(M,Y){this.type=i.Syntax.TemplateElement,this.value=M,this.tail=Y}return L}();e.TemplateElement=Et;var v=function(){function L(M,Y){this.type=i.Syntax.TemplateLiteral,this.quasis=M,this.expressions=Y}return L}();e.TemplateLiteral=v;var P=function(){function L(){this.type=i.Syntax.ThisExpression}return L}();e.ThisExpression=P;var q=function(){function L(M){this.type=i.Syntax.ThrowStatement,this.argument=M}return L}();e.ThrowStatement=q;var z=function(){function L(M,Y,Ee){this.type=i.Syntax.TryStatement,this.block=M,this.handler=Y,this.finalizer=Ee}return L}();e.TryStatement=z;var Ce=function(){function L(M,Y){this.type=i.Syntax.UnaryExpression,this.operator=M,this.argument=Y,this.prefix=!0}return L}();e.UnaryExpression=Ce;var ge=function(){function L(M,Y,Ee){this.type=i.Syntax.UpdateExpression,this.operator=M,this.argument=Y,this.prefix=Ee}return L}();e.UpdateExpression=ge;var we=function(){function L(M,Y){this.type=i.Syntax.VariableDeclaration,this.declarations=M,this.kind=Y}return L}();e.VariableDeclaration=we;var xe=function(){function L(M,Y){this.type=i.Syntax.VariableDeclarator,this.id=M,this.init=Y}return L}();e.VariableDeclarator=xe;var ue=function(){function L(M,Y){this.type=i.Syntax.WhileStatement,this.test=M,this.body=Y}return L}();e.WhileStatement=ue;var Se=function(){function L(M,Y){this.type=i.Syntax.WithStatement,this.object=M,this.body=Y}return L}();e.WithStatement=Se;var de=function(){function L(M,Y){this.type=i.Syntax.YieldExpression,this.argument=M,this.delegate=Y}return L}();e.YieldExpression=de},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(9),r=n(10),s=n(11),o=n(7),a=n(12),c=n(2),l=n(13),f="ArrowParameterPlaceHolder",g=function(){function p(u,d,h){d===void 0&&(d={}),this.config={range:typeof d.range=="boolean"&&d.range,loc:typeof d.loc=="boolean"&&d.loc,source:null,tokens:typeof d.tokens=="boolean"&&d.tokens,comment:typeof d.comment=="boolean"&&d.comment,tolerant:typeof d.tolerant=="boolean"&&d.tolerant},this.config.loc&&d.source&&d.source!==null&&(this.config.source=String(d.source)),this.delegate=h,this.errorHandler=new r.ErrorHandler,this.errorHandler.tolerant=this.config.tolerant,this.scanner=new a.Scanner(u,this.errorHandler),this.scanner.trackComment=this.config.comment,this.operatorPrecedence={")":0,";":0,",":0,"=":0,"]":0,"||":1,"&&":2,"|":3,"^":4,"&":5,"==":6,"!=":6,"===":6,"!==":6,"<":7,">":7,"<=":7,">=":7,"<<":8,">>":8,">>>":8,"+":9,"-":9,"*":11,"/":11,"%":11},this.lookahead={type:2,value:"",lineNumber:this.scanner.lineNumber,lineStart:0,start:0,end:0},this.hasLineTerminator=!1,this.context={isModule:!1,await:!1,allowIn:!0,allowStrictDirective:!0,allowYield:!0,firstCoverInitializedNameError:null,isAssignmentTarget:!1,isBindingElement:!1,inFunctionBody:!1,inIteration:!1,inSwitch:!1,labelSet:{},strict:!1},this.tokens=[],this.startMarker={index:0,line:this.scanner.lineNumber,column:0},this.lastMarker={index:0,line:this.scanner.lineNumber,column:0},this.nextToken(),this.lastMarker={index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}}return p.prototype.throwError=function(u){for(var d=[],h=1;h<arguments.length;h++)d[h-1]=arguments[h];var m=Array.prototype.slice.call(arguments,1),C=u.replace(/%(\d)/g,function(I,B){return i.assert(B<m.length,"Message reference must be in range"),m[B]}),D=this.lastMarker.index,w=this.lastMarker.line,k=this.lastMarker.column+1;throw this.errorHandler.createError(D,w,k,C)},p.prototype.tolerateError=function(u){for(var d=[],h=1;h<arguments.length;h++)d[h-1]=arguments[h];var m=Array.prototype.slice.call(arguments,1),C=u.replace(/%(\d)/g,function(I,B){return i.assert(B<m.length,"Message reference must be in range"),m[B]}),D=this.lastMarker.index,w=this.scanner.lineNumber,k=this.lastMarker.column+1;this.errorHandler.tolerateError(D,w,k,C)},p.prototype.unexpectedTokenError=function(u,d){var h=d||s.Messages.UnexpectedToken,m;if(u?(d||(h=u.type===2?s.Messages.UnexpectedEOS:u.type===3?s.Messages.UnexpectedIdentifier:u.type===6?s.Messages.UnexpectedNumber:u.type===8?s.Messages.UnexpectedString:u.type===10?s.Messages.UnexpectedTemplate:s.Messages.UnexpectedToken,u.type===4&&(this.scanner.isFutureReservedWord(u.value)?h=s.Messages.UnexpectedReserved:this.context.strict&&this.scanner.isStrictModeReservedWord(u.value)&&(h=s.Messages.StrictReservedWord))),m=u.value):m="ILLEGAL",h=h.replace("%0",m),u&&typeof u.lineNumber=="number"){var C=u.start,D=u.lineNumber,w=this.lastMarker.index-this.lastMarker.column,k=u.start-w+1;return this.errorHandler.createError(C,D,k,h)}else{var C=this.lastMarker.index,D=this.lastMarker.line,k=this.lastMarker.column+1;return this.errorHandler.createError(C,D,k,h)}},p.prototype.throwUnexpectedToken=function(u,d){throw this.unexpectedTokenError(u,d)},p.prototype.tolerateUnexpectedToken=function(u,d){this.errorHandler.tolerate(this.unexpectedTokenError(u,d))},p.prototype.collectComments=function(){if(!this.config.comment)this.scanner.scanComments();else{var u=this.scanner.scanComments();if(u.length>0&&this.delegate)for(var d=0;d<u.length;++d){var h=u[d],m=void 0;m={type:h.multiLine?"BlockComment":"LineComment",value:this.scanner.source.slice(h.slice[0],h.slice[1])},this.config.range&&(m.range=h.range),this.config.loc&&(m.loc=h.loc);var C={start:{line:h.loc.start.line,column:h.loc.start.column,offset:h.range[0]},end:{line:h.loc.end.line,column:h.loc.end.column,offset:h.range[1]}};this.delegate(m,C)}}},p.prototype.getTokenRaw=function(u){return this.scanner.source.slice(u.start,u.end)},p.prototype.convertToken=function(u){var d={type:l.TokenName[u.type],value:this.getTokenRaw(u)};if(this.config.range&&(d.range=[u.start,u.end]),this.config.loc&&(d.loc={start:{line:this.startMarker.line,column:this.startMarker.column},end:{line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}}),u.type===9){var h=u.pattern,m=u.flags;d.regex={pattern:h,flags:m}}return d},p.prototype.nextToken=function(){var u=this.lookahead;this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart,this.collectComments(),this.scanner.index!==this.startMarker.index&&(this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart);var d=this.scanner.lex();return this.hasLineTerminator=u.lineNumber!==d.lineNumber,d&&this.context.strict&&d.type===3&&this.scanner.isStrictModeReservedWord(d.value)&&(d.type=4),this.lookahead=d,this.config.tokens&&d.type!==2&&this.tokens.push(this.convertToken(d)),u},p.prototype.nextRegexToken=function(){this.collectComments();var u=this.scanner.scanRegExp();return this.config.tokens&&(this.tokens.pop(),this.tokens.push(this.convertToken(u))),this.lookahead=u,this.nextToken(),u},p.prototype.createNode=function(){return{index:this.startMarker.index,line:this.startMarker.line,column:this.startMarker.column}},p.prototype.startNode=function(u,d){d===void 0&&(d=0);var h=u.start-u.lineStart,m=u.lineNumber;return h<0&&(h+=d,m--),{index:u.start,line:m,column:h}},p.prototype.finalize=function(u,d){if(this.config.range&&(d.range=[u.index,this.lastMarker.index]),this.config.loc&&(d.loc={start:{line:u.line,column:u.column},end:{line:this.lastMarker.line,column:this.lastMarker.column}},this.config.source&&(d.loc.source=this.config.source)),this.delegate){var h={start:{line:u.line,column:u.column,offset:u.index},end:{line:this.lastMarker.line,column:this.lastMarker.column,offset:this.lastMarker.index}};this.delegate(d,h)}return d},p.prototype.expect=function(u){var d=this.nextToken();(d.type!==7||d.value!==u)&&this.throwUnexpectedToken(d)},p.prototype.expectCommaSeparator=function(){if(this.config.tolerant){var u=this.lookahead;u.type===7&&u.value===","?this.nextToken():u.type===7&&u.value===";"?(this.nextToken(),this.tolerateUnexpectedToken(u)):this.tolerateUnexpectedToken(u,s.Messages.UnexpectedToken)}else this.expect(",")},p.prototype.expectKeyword=function(u){var d=this.nextToken();(d.type!==4||d.value!==u)&&this.throwUnexpectedToken(d)},p.prototype.match=function(u){return this.lookahead.type===7&&this.lookahead.value===u},p.prototype.matchKeyword=function(u){return this.lookahead.type===4&&this.lookahead.value===u},p.prototype.matchContextualKeyword=function(u){return this.lookahead.type===3&&this.lookahead.value===u},p.prototype.matchAssign=function(){if(this.lookahead.type!==7)return!1;var u=this.lookahead.value;return u==="="||u==="*="||u==="**="||u==="/="||u==="%="||u==="+="||u==="-="||u==="<<="||u===">>="||u===">>>="||u==="&="||u==="^="||u==="|="},p.prototype.isolateCoverGrammar=function(u){var d=this.context.isBindingElement,h=this.context.isAssignmentTarget,m=this.context.firstCoverInitializedNameError;this.context.isBindingElement=!0,this.context.isAssignmentTarget=!0,this.context.firstCoverInitializedNameError=null;var C=u.call(this);return this.context.firstCoverInitializedNameError!==null&&this.throwUnexpectedToken(this.context.firstCoverInitializedNameError),this.context.isBindingElement=d,this.context.isAssignmentTarget=h,this.context.firstCoverInitializedNameError=m,C},p.prototype.inheritCoverGrammar=function(u){var d=this.context.isBindingElement,h=this.context.isAssignmentTarget,m=this.context.firstCoverInitializedNameError;this.context.isBindingElement=!0,this.context.isAssignmentTarget=!0,this.context.firstCoverInitializedNameError=null;var C=u.call(this);return this.context.isBindingElement=this.context.isBindingElement&&d,this.context.isAssignmentTarget=this.context.isAssignmentTarget&&h,this.context.firstCoverInitializedNameError=m||this.context.firstCoverInitializedNameError,C},p.prototype.consumeSemicolon=function(){this.match(";")?this.nextToken():this.hasLineTerminator||(this.lookahead.type!==2&&!this.match("}")&&this.throwUnexpectedToken(this.lookahead),this.lastMarker.index=this.startMarker.index,this.lastMarker.line=this.startMarker.line,this.lastMarker.column=this.startMarker.column)},p.prototype.parsePrimaryExpression=function(){var u=this.createNode(),d,h,m;switch(this.lookahead.type){case 3:(this.context.isModule||this.context.await)&&this.lookahead.value==="await"&&this.tolerateUnexpectedToken(this.lookahead),d=this.matchAsyncFunction()?this.parseFunctionExpression():this.finalize(u,new o.Identifier(this.nextToken().value));break;case 6:case 8:this.context.strict&&this.lookahead.octal&&this.tolerateUnexpectedToken(this.lookahead,s.Messages.StrictOctalLiteral),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,h=this.nextToken(),m=this.getTokenRaw(h),d=this.finalize(u,new o.Literal(h.value,m));break;case 1:this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,h=this.nextToken(),m=this.getTokenRaw(h),d=this.finalize(u,new o.Literal(h.value==="true",m));break;case 5:this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,h=this.nextToken(),m=this.getTokenRaw(h),d=this.finalize(u,new o.Literal(null,m));break;case 10:d=this.parseTemplateLiteral();break;case 7:switch(this.lookahead.value){case"(":this.context.isBindingElement=!1,d=this.inheritCoverGrammar(this.parseGroupExpression);break;case"[":d=this.inheritCoverGrammar(this.parseArrayInitializer);break;case"{":d=this.inheritCoverGrammar(this.parseObjectInitializer);break;case"/":case"/=":this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.scanner.index=this.startMarker.index,h=this.nextRegexToken(),m=this.getTokenRaw(h),d=this.finalize(u,new o.RegexLiteral(h.regex,m,h.pattern,h.flags));break;default:d=this.throwUnexpectedToken(this.nextToken())}break;case 4:!this.context.strict&&this.context.allowYield&&this.matchKeyword("yield")?d=this.parseIdentifierName():!this.context.strict&&this.matchKeyword("let")?d=this.finalize(u,new o.Identifier(this.nextToken().value)):(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.matchKeyword("function")?d=this.parseFunctionExpression():this.matchKeyword("this")?(this.nextToken(),d=this.finalize(u,new o.ThisExpression)):this.matchKeyword("class")?d=this.parseClassExpression():d=this.throwUnexpectedToken(this.nextToken()));break;default:d=this.throwUnexpectedToken(this.nextToken())}return d},p.prototype.parseSpreadElement=function(){var u=this.createNode();this.expect("...");var d=this.inheritCoverGrammar(this.parseAssignmentExpression);return this.finalize(u,new o.SpreadElement(d))},p.prototype.parseArrayInitializer=function(){var u=this.createNode(),d=[];for(this.expect("[");!this.match("]");)if(this.match(","))this.nextToken(),d.push(null);else if(this.match("...")){var h=this.parseSpreadElement();this.match("]")||(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.expect(",")),d.push(h)}else d.push(this.inheritCoverGrammar(this.parseAssignmentExpression)),this.match("]")||this.expect(",");return this.expect("]"),this.finalize(u,new o.ArrayExpression(d))},p.prototype.parsePropertyMethod=function(u){this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var d=this.context.strict,h=this.context.allowStrictDirective;this.context.allowStrictDirective=u.simple;var m=this.isolateCoverGrammar(this.parseFunctionSourceElements);return this.context.strict&&u.firstRestricted&&this.tolerateUnexpectedToken(u.firstRestricted,u.message),this.context.strict&&u.stricted&&this.tolerateUnexpectedToken(u.stricted,u.message),this.context.strict=d,this.context.allowStrictDirective=h,m},p.prototype.parsePropertyMethodFunction=function(){var u=!1,d=this.createNode(),h=this.context.allowYield;this.context.allowYield=!0;var m=this.parseFormalParameters(),C=this.parsePropertyMethod(m);return this.context.allowYield=h,this.finalize(d,new o.FunctionExpression(null,m.params,C,u))},p.prototype.parsePropertyMethodAsyncFunction=function(){var u=this.createNode(),d=this.context.allowYield,h=this.context.await;this.context.allowYield=!1,this.context.await=!0;var m=this.parseFormalParameters(),C=this.parsePropertyMethod(m);return this.context.allowYield=d,this.context.await=h,this.finalize(u,new o.AsyncFunctionExpression(null,m.params,C))},p.prototype.parseObjectPropertyKey=function(){var u=this.createNode(),d=this.nextToken(),h;switch(d.type){case 8:case 6:this.context.strict&&d.octal&&this.tolerateUnexpectedToken(d,s.Messages.StrictOctalLiteral);var m=this.getTokenRaw(d);h=this.finalize(u,new o.Literal(d.value,m));break;case 3:case 1:case 5:case 4:h=this.finalize(u,new o.Identifier(d.value));break;case 7:d.value==="["?(h=this.isolateCoverGrammar(this.parseAssignmentExpression),this.expect("]")):h=this.throwUnexpectedToken(d);break;default:h=this.throwUnexpectedToken(d)}return h},p.prototype.isPropertyKey=function(u,d){return u.type===c.Syntax.Identifier&&u.name===d||u.type===c.Syntax.Literal&&u.value===d},p.prototype.parseObjectProperty=function(u){var d=this.createNode(),h=this.lookahead,m,C=null,D=null,w=!1,k=!1,I=!1,B=!1;if(h.type===3){var W=h.value;this.nextToken(),w=this.match("["),B=!this.hasLineTerminator&&W==="async"&&!this.match(":")&&!this.match("(")&&!this.match("*")&&!this.match(","),C=B?this.parseObjectPropertyKey():this.finalize(d,new o.Identifier(W))}else this.match("*")?this.nextToken():(w=this.match("["),C=this.parseObjectPropertyKey());var j=this.qualifiedPropertyName(this.lookahead);if(h.type===3&&!B&&h.value==="get"&&j)m="get",w=this.match("["),C=this.parseObjectPropertyKey(),this.context.allowYield=!1,D=this.parseGetterMethod();else if(h.type===3&&!B&&h.value==="set"&&j)m="set",w=this.match("["),C=this.parseObjectPropertyKey(),D=this.parseSetterMethod();else if(h.type===7&&h.value==="*"&&j)m="init",w=this.match("["),C=this.parseObjectPropertyKey(),D=this.parseGeneratorMethod(),k=!0;else if(C||this.throwUnexpectedToken(this.lookahead),m="init",this.match(":")&&!B)!w&&this.isPropertyKey(C,"__proto__")&&(u.value&&this.tolerateError(s.Messages.DuplicateProtoProperty),u.value=!0),this.nextToken(),D=this.inheritCoverGrammar(this.parseAssignmentExpression);else if(this.match("("))D=B?this.parsePropertyMethodAsyncFunction():this.parsePropertyMethodFunction(),k=!0;else if(h.type===3){var W=this.finalize(d,new o.Identifier(h.value));if(this.match("=")){this.context.firstCoverInitializedNameError=this.lookahead,this.nextToken(),I=!0;var ie=this.isolateCoverGrammar(this.parseAssignmentExpression);D=this.finalize(d,new o.AssignmentPattern(W,ie))}else I=!0,D=W}else this.throwUnexpectedToken(this.nextToken());return this.finalize(d,new o.Property(m,C,w,D,k,I))},p.prototype.parseObjectInitializer=function(){var u=this.createNode();this.expect("{");for(var d=[],h={value:!1};!this.match("}");)d.push(this.parseObjectProperty(h)),this.match("}")||this.expectCommaSeparator();return this.expect("}"),this.finalize(u,new o.ObjectExpression(d))},p.prototype.parseTemplateHead=function(){i.assert(this.lookahead.head,"Template literal must start with a template head");var u=this.createNode(),d=this.nextToken(),h=d.value,m=d.cooked;return this.finalize(u,new o.TemplateElement({raw:h,cooked:m},d.tail))},p.prototype.parseTemplateElement=function(){this.lookahead.type!==10&&this.throwUnexpectedToken();var u=this.createNode(),d=this.nextToken(),h=d.value,m=d.cooked;return this.finalize(u,new o.TemplateElement({raw:h,cooked:m},d.tail))},p.prototype.parseTemplateLiteral=function(){var u=this.createNode(),d=[],h=[],m=this.parseTemplateHead();for(h.push(m);!m.tail;)d.push(this.parseExpression()),m=this.parseTemplateElement(),h.push(m);return this.finalize(u,new o.TemplateLiteral(h,d))},p.prototype.reinterpretExpressionAsPattern=function(u){switch(u.type){case c.Syntax.Identifier:case c.Syntax.MemberExpression:case c.Syntax.RestElement:case c.Syntax.AssignmentPattern:break;case c.Syntax.SpreadElement:u.type=c.Syntax.RestElement,this.reinterpretExpressionAsPattern(u.argument);break;case c.Syntax.ArrayExpression:u.type=c.Syntax.ArrayPattern;for(var d=0;d<u.elements.length;d++)u.elements[d]!==null&&this.reinterpretExpressionAsPattern(u.elements[d]);break;case c.Syntax.ObjectExpression:u.type=c.Syntax.ObjectPattern;for(var d=0;d<u.properties.length;d++)this.reinterpretExpressionAsPattern(u.properties[d].value);break;case c.Syntax.AssignmentExpression:u.type=c.Syntax.AssignmentPattern,delete u.operator,this.reinterpretExpressionAsPattern(u.left);break;default:break}},p.prototype.parseGroupExpression=function(){var u;if(this.expect("("),this.match(")"))this.nextToken(),this.match("=>")||this.expect("=>"),u={type:f,params:[],async:!1};else{var d=this.lookahead,h=[];if(this.match("..."))u=this.parseRestElement(h),this.expect(")"),this.match("=>")||this.expect("=>"),u={type:f,params:[u],async:!1};else{var m=!1;if(this.context.isBindingElement=!0,u=this.inheritCoverGrammar(this.parseAssignmentExpression),this.match(",")){var C=[];for(this.context.isAssignmentTarget=!1,C.push(u);this.lookahead.type!==2&&this.match(",");){if(this.nextToken(),this.match(")")){this.nextToken();for(var D=0;D<C.length;D++)this.reinterpretExpressionAsPattern(C[D]);m=!0,u={type:f,params:C,async:!1}}else if(this.match("...")){this.context.isBindingElement||this.throwUnexpectedToken(this.lookahead),C.push(this.parseRestElement(h)),this.expect(")"),this.match("=>")||this.expect("=>"),this.context.isBindingElement=!1;for(var D=0;D<C.length;D++)this.reinterpretExpressionAsPattern(C[D]);m=!0,u={type:f,params:C,async:!1}}else C.push(this.inheritCoverGrammar(this.parseAssignmentExpression));if(m)break}m||(u=this.finalize(this.startNode(d),new o.SequenceExpression(C)))}if(!m){if(this.expect(")"),this.match("=>")&&(u.type===c.Syntax.Identifier&&u.name==="yield"&&(m=!0,u={type:f,params:[u],async:!1}),!m)){if(this.context.isBindingElement||this.throwUnexpectedToken(this.lookahead),u.type===c.Syntax.SequenceExpression)for(var D=0;D<u.expressions.length;D++)this.reinterpretExpressionAsPattern(u.expressions[D]);else this.reinterpretExpressionAsPattern(u);var w=u.type===c.Syntax.SequenceExpression?u.expressions:[u];u={type:f,params:w,async:!1}}this.context.isBindingElement=!1}}}return u},p.prototype.parseArguments=function(){this.expect("(");var u=[];if(!this.match(")"))for(;;){var d=this.match("...")?this.parseSpreadElement():this.isolateCoverGrammar(this.parseAssignmentExpression);if(u.push(d),this.match(")")||(this.expectCommaSeparator(),this.match(")")))break}return this.expect(")"),u},p.prototype.isIdentifierName=function(u){return u.type===3||u.type===4||u.type===1||u.type===5},p.prototype.parseIdentifierName=function(){var u=this.createNode(),d=this.nextToken();return this.isIdentifierName(d)||this.throwUnexpectedToken(d),this.finalize(u,new o.Identifier(d.value))},p.prototype.parseNewExpression=function(){var u=this.createNode(),d=this.parseIdentifierName();i.assert(d.name==="new","New expression must start with `new`");var h;if(this.match("."))if(this.nextToken(),this.lookahead.type===3&&this.context.inFunctionBody&&this.lookahead.value==="target"){var m=this.parseIdentifierName();h=new o.MetaProperty(d,m)}else this.throwUnexpectedToken(this.lookahead);else{var C=this.isolateCoverGrammar(this.parseLeftHandSideExpression),D=this.match("(")?this.parseArguments():[];h=new o.NewExpression(C,D),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}return this.finalize(u,h)},p.prototype.parseAsyncArgument=function(){var u=this.parseAssignmentExpression();return this.context.firstCoverInitializedNameError=null,u},p.prototype.parseAsyncArguments=function(){this.expect("(");var u=[];if(!this.match(")"))for(;;){var d=this.match("...")?this.parseSpreadElement():this.isolateCoverGrammar(this.parseAsyncArgument);if(u.push(d),this.match(")")||(this.expectCommaSeparator(),this.match(")")))break}return this.expect(")"),u},p.prototype.parseLeftHandSideExpressionAllowCall=function(){var u=this.lookahead,d=this.matchContextualKeyword("async"),h=this.context.allowIn;this.context.allowIn=!0;var m;for(this.matchKeyword("super")&&this.context.inFunctionBody?(m=this.createNode(),this.nextToken(),m=this.finalize(m,new o.Super),!this.match("(")&&!this.match(".")&&!this.match("[")&&this.throwUnexpectedToken(this.lookahead)):m=this.inheritCoverGrammar(this.matchKeyword("new")?this.parseNewExpression:this.parsePrimaryExpression);;)if(this.match(".")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect(".");var C=this.parseIdentifierName();m=this.finalize(this.startNode(u),new o.StaticMemberExpression(m,C))}else if(this.match("(")){var D=d&&u.lineNumber===this.lookahead.lineNumber;this.context.isBindingElement=!1,this.context.isAssignmentTarget=!1;var w=D?this.parseAsyncArguments():this.parseArguments();if(m=this.finalize(this.startNode(u),new o.CallExpression(m,w)),D&&this.match("=>")){for(var k=0;k<w.length;++k)this.reinterpretExpressionAsPattern(w[k]);m={type:f,params:w,async:!0}}}else if(this.match("[")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("[");var C=this.isolateCoverGrammar(this.parseExpression);this.expect("]"),m=this.finalize(this.startNode(u),new o.ComputedMemberExpression(m,C))}else if(this.lookahead.type===10&&this.lookahead.head){var I=this.parseTemplateLiteral();m=this.finalize(this.startNode(u),new o.TaggedTemplateExpression(m,I))}else break;return this.context.allowIn=h,m},p.prototype.parseSuper=function(){var u=this.createNode();return this.expectKeyword("super"),!this.match("[")&&!this.match(".")&&this.throwUnexpectedToken(this.lookahead),this.finalize(u,new o.Super)},p.prototype.parseLeftHandSideExpression=function(){i.assert(this.context.allowIn,"callee of new expression always allow in keyword.");for(var u=this.startNode(this.lookahead),d=this.matchKeyword("super")&&this.context.inFunctionBody?this.parseSuper():this.inheritCoverGrammar(this.matchKeyword("new")?this.parseNewExpression:this.parsePrimaryExpression);;)if(this.match("[")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("[");var h=this.isolateCoverGrammar(this.parseExpression);this.expect("]"),d=this.finalize(u,new o.ComputedMemberExpression(d,h))}else if(this.match(".")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect(".");var h=this.parseIdentifierName();d=this.finalize(u,new o.StaticMemberExpression(d,h))}else if(this.lookahead.type===10&&this.lookahead.head){var m=this.parseTemplateLiteral();d=this.finalize(u,new o.TaggedTemplateExpression(d,m))}else break;return d},p.prototype.parseUpdateExpression=function(){var u,d=this.lookahead;if(this.match("++")||this.match("--")){var h=this.startNode(d),m=this.nextToken();u=this.inheritCoverGrammar(this.parseUnaryExpression),this.context.strict&&u.type===c.Syntax.Identifier&&this.scanner.isRestrictedWord(u.name)&&this.tolerateError(s.Messages.StrictLHSPrefix),this.context.isAssignmentTarget||this.tolerateError(s.Messages.InvalidLHSInAssignment);var C=!0;u=this.finalize(h,new o.UpdateExpression(m.value,u,C)),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}else if(u=this.inheritCoverGrammar(this.parseLeftHandSideExpressionAllowCall),!this.hasLineTerminator&&this.lookahead.type===7&&(this.match("++")||this.match("--"))){this.context.strict&&u.type===c.Syntax.Identifier&&this.scanner.isRestrictedWord(u.name)&&this.tolerateError(s.Messages.StrictLHSPostfix),this.context.isAssignmentTarget||this.tolerateError(s.Messages.InvalidLHSInAssignment),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var D=this.nextToken().value,C=!1;u=this.finalize(this.startNode(d),new o.UpdateExpression(D,u,C))}return u},p.prototype.parseAwaitExpression=function(){var u=this.createNode();this.nextToken();var d=this.parseUnaryExpression();return this.finalize(u,new o.AwaitExpression(d))},p.prototype.parseUnaryExpression=function(){var u;if(this.match("+")||this.match("-")||this.match("~")||this.match("!")||this.matchKeyword("delete")||this.matchKeyword("void")||this.matchKeyword("typeof")){var d=this.startNode(this.lookahead),h=this.nextToken();u=this.inheritCoverGrammar(this.parseUnaryExpression),u=this.finalize(d,new o.UnaryExpression(h.value,u)),this.context.strict&&u.operator==="delete"&&u.argument.type===c.Syntax.Identifier&&this.tolerateError(s.Messages.StrictDelete),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}else this.context.await&&this.matchContextualKeyword("await")?u=this.parseAwaitExpression():u=this.parseUpdateExpression();return u},p.prototype.parseExponentiationExpression=function(){var u=this.lookahead,d=this.inheritCoverGrammar(this.parseUnaryExpression);if(d.type!==c.Syntax.UnaryExpression&&this.match("**")){this.nextToken(),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var h=d,m=this.isolateCoverGrammar(this.parseExponentiationExpression);d=this.finalize(this.startNode(u),new o.BinaryExpression("**",h,m))}return d},p.prototype.binaryPrecedence=function(u){var d=u.value,h;return u.type===7?h=this.operatorPrecedence[d]||0:u.type===4?h=d==="instanceof"||this.context.allowIn&&d==="in"?7:0:h=0,h},p.prototype.parseBinaryExpression=function(){var u=this.lookahead,d=this.inheritCoverGrammar(this.parseExponentiationExpression),h=this.lookahead,m=this.binaryPrecedence(h);if(m>0){this.nextToken(),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;for(var C=[u,this.lookahead],D=d,w=this.isolateCoverGrammar(this.parseExponentiationExpression),k=[D,h.value,w],I=[m];m=this.binaryPrecedence(this.lookahead),!(m<=0);){for(;k.length>2&&m<=I[I.length-1];){w=k.pop();var B=k.pop();I.pop(),D=k.pop(),C.pop();var W=this.startNode(C[C.length-1]);k.push(this.finalize(W,new o.BinaryExpression(B,D,w)))}k.push(this.nextToken().value),I.push(m),C.push(this.lookahead),k.push(this.isolateCoverGrammar(this.parseExponentiationExpression))}var j=k.length-1;d=k[j];for(var ie=C.pop();j>1;){var ne=C.pop(),H=ie&&ie.lineStart,W=this.startNode(ne,H),B=k[j-1];d=this.finalize(W,new o.BinaryExpression(B,k[j-2],d)),j-=2,ie=ne}}return d},p.prototype.parseConditionalExpression=function(){var u=this.lookahead,d=this.inheritCoverGrammar(this.parseBinaryExpression);if(this.match("?")){this.nextToken();var h=this.context.allowIn;this.context.allowIn=!0;var m=this.isolateCoverGrammar(this.parseAssignmentExpression);this.context.allowIn=h,this.expect(":");var C=this.isolateCoverGrammar(this.parseAssignmentExpression);d=this.finalize(this.startNode(u),new o.ConditionalExpression(d,m,C)),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}return d},p.prototype.checkPatternParam=function(u,d){switch(d.type){case c.Syntax.Identifier:this.validateParam(u,d,d.name);break;case c.Syntax.RestElement:this.checkPatternParam(u,d.argument);break;case c.Syntax.AssignmentPattern:this.checkPatternParam(u,d.left);break;case c.Syntax.ArrayPattern:for(var h=0;h<d.elements.length;h++)d.elements[h]!==null&&this.checkPatternParam(u,d.elements[h]);break;case c.Syntax.ObjectPattern:for(var h=0;h<d.properties.length;h++)this.checkPatternParam(u,d.properties[h].value);break;default:break}u.simple=u.simple&&d instanceof o.Identifier},p.prototype.reinterpretAsCoverFormalsList=function(u){var d=[u],h,m=!1;switch(u.type){case c.Syntax.Identifier:break;case f:d=u.params,m=u.async;break;default:return null}h={simple:!0,paramSet:{}};for(var C=0;C<d.length;++C){var D=d[C];D.type===c.Syntax.AssignmentPattern?D.right.type===c.Syntax.YieldExpression&&(D.right.argument&&this.throwUnexpectedToken(this.lookahead),D.right.type=c.Syntax.Identifier,D.right.name="yield",delete D.right.argument,delete D.right.delegate):m&&D.type===c.Syntax.Identifier&&D.name==="await"&&this.throwUnexpectedToken(this.lookahead),this.checkPatternParam(h,D),d[C]=D}if(this.context.strict||!this.context.allowYield)for(var C=0;C<d.length;++C){var D=d[C];D.type===c.Syntax.YieldExpression&&this.throwUnexpectedToken(this.lookahead)}if(h.message===s.Messages.StrictParamDupe){var w=this.context.strict?h.stricted:h.firstRestricted;this.throwUnexpectedToken(w,h.message)}return{simple:h.simple,params:d,stricted:h.stricted,firstRestricted:h.firstRestricted,message:h.message}},p.prototype.parseAssignmentExpression=function(){var u;if(!this.context.allowYield&&this.matchKeyword("yield"))u=this.parseYieldExpression();else{var d=this.lookahead,h=d;if(u=this.parseConditionalExpression(),h.type===3&&h.lineNumber===this.lookahead.lineNumber&&h.value==="async"&&(this.lookahead.type===3||this.matchKeyword("yield"))){var m=this.parsePrimaryExpression();this.reinterpretExpressionAsPattern(m),u={type:f,params:[m],async:!0}}if(u.type===f||this.match("=>")){this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var C=u.async,D=this.reinterpretAsCoverFormalsList(u);if(D){this.hasLineTerminator&&this.tolerateUnexpectedToken(this.lookahead),this.context.firstCoverInitializedNameError=null;var w=this.context.strict,k=this.context.allowStrictDirective;this.context.allowStrictDirective=D.simple;var I=this.context.allowYield,B=this.context.await;this.context.allowYield=!0,this.context.await=C;var W=this.startNode(d);this.expect("=>");var j=void 0;if(this.match("{")){var ie=this.context.allowIn;this.context.allowIn=!0,j=this.parseFunctionSourceElements(),this.context.allowIn=ie}else j=this.isolateCoverGrammar(this.parseAssignmentExpression);var ne=j.type!==c.Syntax.BlockStatement;this.context.strict&&D.firstRestricted&&this.throwUnexpectedToken(D.firstRestricted,D.message),this.context.strict&&D.stricted&&this.tolerateUnexpectedToken(D.stricted,D.message),u=C?this.finalize(W,new o.AsyncArrowFunctionExpression(D.params,j,ne)):this.finalize(W,new o.ArrowFunctionExpression(D.params,j,ne)),this.context.strict=w,this.context.allowStrictDirective=k,this.context.allowYield=I,this.context.await=B}}else if(this.matchAssign()){if(this.context.isAssignmentTarget||this.tolerateError(s.Messages.InvalidLHSInAssignment),this.context.strict&&u.type===c.Syntax.Identifier){var H=u;this.scanner.isRestrictedWord(H.name)&&this.tolerateUnexpectedToken(h,s.Messages.StrictLHSAssignment),this.scanner.isStrictModeReservedWord(H.name)&&this.tolerateUnexpectedToken(h,s.Messages.StrictReservedWord)}this.match("=")?this.reinterpretExpressionAsPattern(u):(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1),h=this.nextToken();var N=h.value,$=this.isolateCoverGrammar(this.parseAssignmentExpression);u=this.finalize(this.startNode(d),new o.AssignmentExpression(N,u,$)),this.context.firstCoverInitializedNameError=null}}return u},p.prototype.parseExpression=function(){var u=this.lookahead,d=this.isolateCoverGrammar(this.parseAssignmentExpression);if(this.match(",")){var h=[];for(h.push(d);this.lookahead.type!==2&&this.match(",");)this.nextToken(),h.push(this.isolateCoverGrammar(this.parseAssignmentExpression));d=this.finalize(this.startNode(u),new o.SequenceExpression(h))}return d},p.prototype.parseStatementListItem=function(){var u;if(this.context.isAssignmentTarget=!0,this.context.isBindingElement=!0,this.lookahead.type===4)switch(this.lookahead.value){case"export":this.context.isModule||this.tolerateUnexpectedToken(this.lookahead,s.Messages.IllegalExportDeclaration),u=this.parseExportDeclaration();break;case"import":this.context.isModule||this.tolerateUnexpectedToken(this.lookahead,s.Messages.IllegalImportDeclaration),u=this.parseImportDeclaration();break;case"const":u=this.parseLexicalDeclaration({inFor:!1});break;case"function":u=this.parseFunctionDeclaration();break;case"class":u=this.parseClassDeclaration();break;case"let":u=this.isLexicalDeclaration()?this.parseLexicalDeclaration({inFor:!1}):this.parseStatement();break;default:u=this.parseStatement();break}else u=this.parseStatement();return u},p.prototype.parseBlock=function(){var u=this.createNode();this.expect("{");for(var d=[];!this.match("}");)d.push(this.parseStatementListItem());return this.expect("}"),this.finalize(u,new o.BlockStatement(d))},p.prototype.parseLexicalBinding=function(u,d){var h=this.createNode(),m=[],C=this.parsePattern(m,u);this.context.strict&&C.type===c.Syntax.Identifier&&this.scanner.isRestrictedWord(C.name)&&this.tolerateError(s.Messages.StrictVarName);var D=null;return u==="const"?!this.matchKeyword("in")&&!this.matchContextualKeyword("of")&&(this.match("=")?(this.nextToken(),D=this.isolateCoverGrammar(this.parseAssignmentExpression)):this.throwError(s.Messages.DeclarationMissingInitializer,"const")):(!d.inFor&&C.type!==c.Syntax.Identifier||this.match("="))&&(this.expect("="),D=this.isolateCoverGrammar(this.parseAssignmentExpression)),this.finalize(h,new o.VariableDeclarator(C,D))},p.prototype.parseBindingList=function(u,d){for(var h=[this.parseLexicalBinding(u,d)];this.match(",");)this.nextToken(),h.push(this.parseLexicalBinding(u,d));return h},p.prototype.isLexicalDeclaration=function(){var u=this.scanner.saveState();this.scanner.scanComments();var d=this.scanner.lex();return this.scanner.restoreState(u),d.type===3||d.type===7&&d.value==="["||d.type===7&&d.value==="{"||d.type===4&&d.value==="let"||d.type===4&&d.value==="yield"},p.prototype.parseLexicalDeclaration=function(u){var d=this.createNode(),h=this.nextToken().value;i.assert(h==="let"||h==="const","Lexical declaration must be either let or const");var m=this.parseBindingList(h,u);return this.consumeSemicolon(),this.finalize(d,new o.VariableDeclaration(m,h))},p.prototype.parseBindingRestElement=function(u,d){var h=this.createNode();this.expect("...");var m=this.parsePattern(u,d);return this.finalize(h,new o.RestElement(m))},p.prototype.parseArrayPattern=function(u,d){var h=this.createNode();this.expect("[");for(var m=[];!this.match("]");)if(this.match(","))this.nextToken(),m.push(null);else{if(this.match("...")){m.push(this.parseBindingRestElement(u,d));break}else m.push(this.parsePatternWithDefault(u,d));this.match("]")||this.expect(",")}return this.expect("]"),this.finalize(h,new o.ArrayPattern(m))},p.prototype.parsePropertyPattern=function(u,d){var h=this.createNode(),m=!1,C=!1,D=!1,w,k;if(this.lookahead.type===3){var I=this.lookahead;w=this.parseVariableIdentifier();var B=this.finalize(h,new o.Identifier(I.value));if(this.match("=")){u.push(I),C=!0,this.nextToken();var W=this.parseAssignmentExpression();k=this.finalize(this.startNode(I),new o.AssignmentPattern(B,W))}else this.match(":")?(this.expect(":"),k=this.parsePatternWithDefault(u,d)):(u.push(I),C=!0,k=B)}else m=this.match("["),w=this.parseObjectPropertyKey(),this.expect(":"),k=this.parsePatternWithDefault(u,d);return this.finalize(h,new o.Property("init",w,m,k,D,C))},p.prototype.parseObjectPattern=function(u,d){var h=this.createNode(),m=[];for(this.expect("{");!this.match("}");)m.push(this.parsePropertyPattern(u,d)),this.match("}")||this.expect(",");return this.expect("}"),this.finalize(h,new o.ObjectPattern(m))},p.prototype.parsePattern=function(u,d){var h;return this.match("[")?h=this.parseArrayPattern(u,d):this.match("{")?h=this.parseObjectPattern(u,d):(this.matchKeyword("let")&&(d==="const"||d==="let")&&this.tolerateUnexpectedToken(this.lookahead,s.Messages.LetInLexicalBinding),u.push(this.lookahead),h=this.parseVariableIdentifier(d)),h},p.prototype.parsePatternWithDefault=function(u,d){var h=this.lookahead,m=this.parsePattern(u,d);if(this.match("=")){this.nextToken();var C=this.context.allowYield;this.context.allowYield=!0;var D=this.isolateCoverGrammar(this.parseAssignmentExpression);this.context.allowYield=C,m=this.finalize(this.startNode(h),new o.AssignmentPattern(m,D))}return m},p.prototype.parseVariableIdentifier=function(u){var d=this.createNode(),h=this.nextToken();return h.type===4&&h.value==="yield"?this.context.strict?this.tolerateUnexpectedToken(h,s.Messages.StrictReservedWord):this.context.allowYield||this.throwUnexpectedToken(h):h.type!==3?this.context.strict&&h.type===4&&this.scanner.isStrictModeReservedWord(h.value)?this.tolerateUnexpectedToken(h,s.Messages.StrictReservedWord):(this.context.strict||h.value!=="let"||u!=="var")&&this.throwUnexpectedToken(h):(this.context.isModule||this.context.await)&&h.type===3&&h.value==="await"&&this.tolerateUnexpectedToken(h),this.finalize(d,new o.Identifier(h.value))},p.prototype.parseVariableDeclaration=function(u){var d=this.createNode(),h=[],m=this.parsePattern(h,"var");this.context.strict&&m.type===c.Syntax.Identifier&&this.scanner.isRestrictedWord(m.name)&&this.tolerateError(s.Messages.StrictVarName);var C=null;return this.match("=")?(this.nextToken(),C=this.isolateCoverGrammar(this.parseAssignmentExpression)):m.type!==c.Syntax.Identifier&&!u.inFor&&this.expect("="),this.finalize(d,new o.VariableDeclarator(m,C))},p.prototype.parseVariableDeclarationList=function(u){var d={inFor:u.inFor},h=[];for(h.push(this.parseVariableDeclaration(d));this.match(",");)this.nextToken(),h.push(this.parseVariableDeclaration(d));return h},p.prototype.parseVariableStatement=function(){var u=this.createNode();this.expectKeyword("var");var d=this.parseVariableDeclarationList({inFor:!1});return this.consumeSemicolon(),this.finalize(u,new o.VariableDeclaration(d,"var"))},p.prototype.parseEmptyStatement=function(){var u=this.createNode();return this.expect(";"),this.finalize(u,new o.EmptyStatement)},p.prototype.parseExpressionStatement=function(){var u=this.createNode(),d=this.parseExpression();return this.consumeSemicolon(),this.finalize(u,new o.ExpressionStatement(d))},p.prototype.parseIfClause=function(){return this.context.strict&&this.matchKeyword("function")&&this.tolerateError(s.Messages.StrictFunction),this.parseStatement()},p.prototype.parseIfStatement=function(){var u=this.createNode(),d,h=null;this.expectKeyword("if"),this.expect("(");var m=this.parseExpression();return!this.match(")")&&this.config.tolerant?(this.tolerateUnexpectedToken(this.nextToken()),d=this.finalize(this.createNode(),new o.EmptyStatement)):(this.expect(")"),d=this.parseIfClause(),this.matchKeyword("else")&&(this.nextToken(),h=this.parseIfClause())),this.finalize(u,new o.IfStatement(m,d,h))},p.prototype.parseDoWhileStatement=function(){var u=this.createNode();this.expectKeyword("do");var d=this.context.inIteration;this.context.inIteration=!0;var h=this.parseStatement();this.context.inIteration=d,this.expectKeyword("while"),this.expect("(");var m=this.parseExpression();return!this.match(")")&&this.config.tolerant?this.tolerateUnexpectedToken(this.nextToken()):(this.expect(")"),this.match(";")&&this.nextToken()),this.finalize(u,new o.DoWhileStatement(h,m))},p.prototype.parseWhileStatement=function(){var u=this.createNode(),d;this.expectKeyword("while"),this.expect("(");var h=this.parseExpression();if(!this.match(")")&&this.config.tolerant)this.tolerateUnexpectedToken(this.nextToken()),d=this.finalize(this.createNode(),new o.EmptyStatement);else{this.expect(")");var m=this.context.inIteration;this.context.inIteration=!0,d=this.parseStatement(),this.context.inIteration=m}return this.finalize(u,new o.WhileStatement(h,d))},p.prototype.parseForStatement=function(){var u=null,d=null,h=null,m=!0,C,D,w=this.createNode();if(this.expectKeyword("for"),this.expect("("),this.match(";"))this.nextToken();else if(this.matchKeyword("var")){u=this.createNode(),this.nextToken();var k=this.context.allowIn;this.context.allowIn=!1;var I=this.parseVariableDeclarationList({inFor:!0});if(this.context.allowIn=k,I.length===1&&this.matchKeyword("in")){var B=I[0];B.init&&(B.id.type===c.Syntax.ArrayPattern||B.id.type===c.Syntax.ObjectPattern||this.context.strict)&&this.tolerateError(s.Messages.ForInOfLoopInitializer,"for-in"),u=this.finalize(u,new o.VariableDeclaration(I,"var")),this.nextToken(),C=u,D=this.parseExpression(),u=null}else I.length===1&&I[0].init===null&&this.matchContextualKeyword("of")?(u=this.finalize(u,new o.VariableDeclaration(I,"var")),this.nextToken(),C=u,D=this.parseAssignmentExpression(),u=null,m=!1):(u=this.finalize(u,new o.VariableDeclaration(I,"var")),this.expect(";"))}else if(this.matchKeyword("const")||this.matchKeyword("let")){u=this.createNode();var W=this.nextToken().value;if(!this.context.strict&&this.lookahead.value==="in")u=this.finalize(u,new o.Identifier(W)),this.nextToken(),C=u,D=this.parseExpression(),u=null;else{var k=this.context.allowIn;this.context.allowIn=!1;var I=this.parseBindingList(W,{inFor:!0});this.context.allowIn=k,I.length===1&&I[0].init===null&&this.matchKeyword("in")?(u=this.finalize(u,new o.VariableDeclaration(I,W)),this.nextToken(),C=u,D=this.parseExpression(),u=null):I.length===1&&I[0].init===null&&this.matchContextualKeyword("of")?(u=this.finalize(u,new o.VariableDeclaration(I,W)),this.nextToken(),C=u,D=this.parseAssignmentExpression(),u=null,m=!1):(this.consumeSemicolon(),u=this.finalize(u,new o.VariableDeclaration(I,W)))}}else{var j=this.lookahead,k=this.context.allowIn;if(this.context.allowIn=!1,u=this.inheritCoverGrammar(this.parseAssignmentExpression),this.context.allowIn=k,this.matchKeyword("in"))(!this.context.isAssignmentTarget||u.type===c.Syntax.AssignmentExpression)&&this.tolerateError(s.Messages.InvalidLHSInForIn),this.nextToken(),this.reinterpretExpressionAsPattern(u),C=u,D=this.parseExpression(),u=null;else if(this.matchContextualKeyword("of"))(!this.context.isAssignmentTarget||u.type===c.Syntax.AssignmentExpression)&&this.tolerateError(s.Messages.InvalidLHSInForLoop),this.nextToken(),this.reinterpretExpressionAsPattern(u),C=u,D=this.parseAssignmentExpression(),u=null,m=!1;else{if(this.match(",")){for(var ie=[u];this.match(",");)this.nextToken(),ie.push(this.isolateCoverGrammar(this.parseAssignmentExpression));u=this.finalize(this.startNode(j),new o.SequenceExpression(ie))}this.expect(";")}}typeof C>"u"&&(this.match(";")||(d=this.parseExpression()),this.expect(";"),this.match(")")||(h=this.parseExpression()));var ne;if(!this.match(")")&&this.config.tolerant)this.tolerateUnexpectedToken(this.nextToken()),ne=this.finalize(this.createNode(),new o.EmptyStatement);else{this.expect(")");var H=this.context.inIteration;this.context.inIteration=!0,ne=this.isolateCoverGrammar(this.parseStatement),this.context.inIteration=H}return typeof C>"u"?this.finalize(w,new o.ForStatement(u,d,h,ne)):m?this.finalize(w,new o.ForInStatement(C,D,ne)):this.finalize(w,new o.ForOfStatement(C,D,ne))},p.prototype.parseContinueStatement=function(){var u=this.createNode();this.expectKeyword("continue");var d=null;if(this.lookahead.type===3&&!this.hasLineTerminator){var h=this.parseVariableIdentifier();d=h;var m="$"+h.name;Object.prototype.hasOwnProperty.call(this.context.labelSet,m)||this.throwError(s.Messages.UnknownLabel,h.name)}return this.consumeSemicolon(),d===null&&!this.context.inIteration&&this.throwError(s.Messages.IllegalContinue),this.finalize(u,new o.ContinueStatement(d))},p.prototype.parseBreakStatement=function(){var u=this.createNode();this.expectKeyword("break");var d=null;if(this.lookahead.type===3&&!this.hasLineTerminator){var h=this.parseVariableIdentifier(),m="$"+h.name;Object.prototype.hasOwnProperty.call(this.context.labelSet,m)||this.throwError(s.Messages.UnknownLabel,h.name),d=h}return this.consumeSemicolon(),d===null&&!this.context.inIteration&&!this.context.inSwitch&&this.throwError(s.Messages.IllegalBreak),this.finalize(u,new o.BreakStatement(d))},p.prototype.parseReturnStatement=function(){this.context.inFunctionBody||this.tolerateError(s.Messages.IllegalReturn);var u=this.createNode();this.expectKeyword("return");var d=!this.match(";")&&!this.match("}")&&!this.hasLineTerminator&&this.lookahead.type!==2||this.lookahead.type===8||this.lookahead.type===10,h=d?this.parseExpression():null;return this.consumeSemicolon(),this.finalize(u,new o.ReturnStatement(h))},p.prototype.parseWithStatement=function(){this.context.strict&&this.tolerateError(s.Messages.StrictModeWith);var u=this.createNode(),d;this.expectKeyword("with"),this.expect("(");var h=this.parseExpression();return!this.match(")")&&this.config.tolerant?(this.tolerateUnexpectedToken(this.nextToken()),d=this.finalize(this.createNode(),new o.EmptyStatement)):(this.expect(")"),d=this.parseStatement()),this.finalize(u,new o.WithStatement(h,d))},p.prototype.parseSwitchCase=function(){var u=this.createNode(),d;this.matchKeyword("default")?(this.nextToken(),d=null):(this.expectKeyword("case"),d=this.parseExpression()),this.expect(":");for(var h=[];!(this.match("}")||this.matchKeyword("default")||this.matchKeyword("case"));)h.push(this.parseStatementListItem());return this.finalize(u,new o.SwitchCase(d,h))},p.prototype.parseSwitchStatement=function(){var u=this.createNode();this.expectKeyword("switch"),this.expect("(");var d=this.parseExpression();this.expect(")");var h=this.context.inSwitch;this.context.inSwitch=!0;var m=[],C=!1;for(this.expect("{");!this.match("}");){var D=this.parseSwitchCase();D.test===null&&(C&&this.throwError(s.Messages.MultipleDefaultsInSwitch),C=!0),m.push(D)}return this.expect("}"),this.context.inSwitch=h,this.finalize(u,new o.SwitchStatement(d,m))},p.prototype.parseLabelledStatement=function(){var u=this.createNode(),d=this.parseExpression(),h;if(d.type===c.Syntax.Identifier&&this.match(":")){this.nextToken();var m=d,C="$"+m.name;Object.prototype.hasOwnProperty.call(this.context.labelSet,C)&&this.throwError(s.Messages.Redeclaration,"Label",m.name),this.context.labelSet[C]=!0;var D=void 0;if(this.matchKeyword("class"))this.tolerateUnexpectedToken(this.lookahead),D=this.parseClassDeclaration();else if(this.matchKeyword("function")){var w=this.lookahead,k=this.parseFunctionDeclaration();this.context.strict?this.tolerateUnexpectedToken(w,s.Messages.StrictFunction):k.generator&&this.tolerateUnexpectedToken(w,s.Messages.GeneratorInLegacyContext),D=k}else D=this.parseStatement();delete this.context.labelSet[C],h=new o.LabeledStatement(m,D)}else this.consumeSemicolon(),h=new o.ExpressionStatement(d);return this.finalize(u,h)},p.prototype.parseThrowStatement=function(){var u=this.createNode();this.expectKeyword("throw"),this.hasLineTerminator&&this.throwError(s.Messages.NewlineAfterThrow);var d=this.parseExpression();return this.consumeSemicolon(),this.finalize(u,new o.ThrowStatement(d))},p.prototype.parseCatchClause=function(){var u=this.createNode();this.expectKeyword("catch"),this.expect("("),this.match(")")&&this.throwUnexpectedToken(this.lookahead);for(var d=[],h=this.parsePattern(d),m={},C=0;C<d.length;C++){var D="$"+d[C].value;Object.prototype.hasOwnProperty.call(m,D)&&this.tolerateError(s.Messages.DuplicateBinding,d[C].value),m[D]=!0}this.context.strict&&h.type===c.Syntax.Identifier&&this.scanner.isRestrictedWord(h.name)&&this.tolerateError(s.Messages.StrictCatchVariable),this.expect(")");var w=this.parseBlock();return this.finalize(u,new o.CatchClause(h,w))},p.prototype.parseFinallyClause=function(){return this.expectKeyword("finally"),this.parseBlock()},p.prototype.parseTryStatement=function(){var u=this.createNode();this.expectKeyword("try");var d=this.parseBlock(),h=this.matchKeyword("catch")?this.parseCatchClause():null,m=this.matchKeyword("finally")?this.parseFinallyClause():null;return!h&&!m&&this.throwError(s.Messages.NoCatchOrFinally),this.finalize(u,new o.TryStatement(d,h,m))},p.prototype.parseDebuggerStatement=function(){var u=this.createNode();return this.expectKeyword("debugger"),this.consumeSemicolon(),this.finalize(u,new o.DebuggerStatement)},p.prototype.parseStatement=function(){var u;switch(this.lookahead.type){case 1:case 5:case 6:case 8:case 10:case 9:u=this.parseExpressionStatement();break;case 7:var d=this.lookahead.value;d==="{"?u=this.parseBlock():d==="("?u=this.parseExpressionStatement():d===";"?u=this.parseEmptyStatement():u=this.parseExpressionStatement();break;case 3:u=this.matchAsyncFunction()?this.parseFunctionDeclaration():this.parseLabelledStatement();break;case 4:switch(this.lookahead.value){case"break":u=this.parseBreakStatement();break;case"continue":u=this.parseContinueStatement();break;case"debugger":u=this.parseDebuggerStatement();break;case"do":u=this.parseDoWhileStatement();break;case"for":u=this.parseForStatement();break;case"function":u=this.parseFunctionDeclaration();break;case"if":u=this.parseIfStatement();break;case"return":u=this.parseReturnStatement();break;case"switch":u=this.parseSwitchStatement();break;case"throw":u=this.parseThrowStatement();break;case"try":u=this.parseTryStatement();break;case"var":u=this.parseVariableStatement();break;case"while":u=this.parseWhileStatement();break;case"with":u=this.parseWithStatement();break;default:u=this.parseExpressionStatement();break}break;default:u=this.throwUnexpectedToken(this.lookahead)}return u},p.prototype.parseFunctionSourceElements=function(){var u=this.createNode();this.expect("{");var d=this.parseDirectivePrologues(),h=this.context.labelSet,m=this.context.inIteration,C=this.context.inSwitch,D=this.context.inFunctionBody;for(this.context.labelSet={},this.context.inIteration=!1,this.context.inSwitch=!1,this.context.inFunctionBody=!0;this.lookahead.type!==2&&!this.match("}");)d.push(this.parseStatementListItem());return this.expect("}"),this.context.labelSet=h,this.context.inIteration=m,this.context.inSwitch=C,this.context.inFunctionBody=D,this.finalize(u,new o.BlockStatement(d))},p.prototype.validateParam=function(u,d,h){var m="$"+h;this.context.strict?(this.scanner.isRestrictedWord(h)&&(u.stricted=d,u.message=s.Messages.StrictParamName),Object.prototype.hasOwnProperty.call(u.paramSet,m)&&(u.stricted=d,u.message=s.Messages.StrictParamDupe)):u.firstRestricted||(this.scanner.isRestrictedWord(h)?(u.firstRestricted=d,u.message=s.Messages.StrictParamName):this.scanner.isStrictModeReservedWord(h)?(u.firstRestricted=d,u.message=s.Messages.StrictReservedWord):Object.prototype.hasOwnProperty.call(u.paramSet,m)&&(u.stricted=d,u.message=s.Messages.StrictParamDupe)),typeof Object.defineProperty=="function"?Object.defineProperty(u.paramSet,m,{value:!0,enumerable:!0,writable:!0,configurable:!0}):u.paramSet[m]=!0},p.prototype.parseRestElement=function(u){var d=this.createNode();this.expect("...");var h=this.parsePattern(u);return this.match("=")&&this.throwError(s.Messages.DefaultRestParameter),this.match(")")||this.throwError(s.Messages.ParameterAfterRestParameter),this.finalize(d,new o.RestElement(h))},p.prototype.parseFormalParameter=function(u){for(var d=[],h=this.match("...")?this.parseRestElement(d):this.parsePatternWithDefault(d),m=0;m<d.length;m++)this.validateParam(u,d[m],d[m].value);u.simple=u.simple&&h instanceof o.Identifier,u.params.push(h)},p.prototype.parseFormalParameters=function(u){var d;if(d={simple:!0,params:[],firstRestricted:u},this.expect("("),!this.match(")"))for(d.paramSet={};this.lookahead.type!==2&&(this.parseFormalParameter(d),!(this.match(")")||(this.expect(","),this.match(")")))););return this.expect(")"),{simple:d.simple,params:d.params,stricted:d.stricted,firstRestricted:d.firstRestricted,message:d.message}},p.prototype.matchAsyncFunction=function(){var u=this.matchContextualKeyword("async");if(u){var d=this.scanner.saveState();this.scanner.scanComments();var h=this.scanner.lex();this.scanner.restoreState(d),u=d.lineNumber===h.lineNumber&&h.type===4&&h.value==="function"}return u},p.prototype.parseFunctionDeclaration=function(u){var d=this.createNode(),h=this.matchContextualKeyword("async");h&&this.nextToken(),this.expectKeyword("function");var m=h?!1:this.match("*");m&&this.nextToken();var C,D=null,w=null;if(!u||!this.match("(")){var k=this.lookahead;D=this.parseVariableIdentifier(),this.context.strict?this.scanner.isRestrictedWord(k.value)&&this.tolerateUnexpectedToken(k,s.Messages.StrictFunctionName):this.scanner.isRestrictedWord(k.value)?(w=k,C=s.Messages.StrictFunctionName):this.scanner.isStrictModeReservedWord(k.value)&&(w=k,C=s.Messages.StrictReservedWord)}var I=this.context.await,B=this.context.allowYield;this.context.await=h,this.context.allowYield=!m;var W=this.parseFormalParameters(w),j=W.params,ie=W.stricted;w=W.firstRestricted,W.message&&(C=W.message);var ne=this.context.strict,H=this.context.allowStrictDirective;this.context.allowStrictDirective=W.simple;var N=this.parseFunctionSourceElements();return this.context.strict&&w&&this.throwUnexpectedToken(w,C),this.context.strict&&ie&&this.tolerateUnexpectedToken(ie,C),this.context.strict=ne,this.context.allowStrictDirective=H,this.context.await=I,this.context.allowYield=B,h?this.finalize(d,new o.AsyncFunctionDeclaration(D,j,N)):this.finalize(d,new o.FunctionDeclaration(D,j,N,m))},p.prototype.parseFunctionExpression=function(){var u=this.createNode(),d=this.matchContextualKeyword("async");d&&this.nextToken(),this.expectKeyword("function");var h=d?!1:this.match("*");h&&this.nextToken();var m,C=null,D,w=this.context.await,k=this.context.allowYield;if(this.context.await=d,this.context.allowYield=!h,!this.match("(")){var I=this.lookahead;C=!this.context.strict&&!h&&this.matchKeyword("yield")?this.parseIdentifierName():this.parseVariableIdentifier(),this.context.strict?this.scanner.isRestrictedWord(I.value)&&this.tolerateUnexpectedToken(I,s.Messages.StrictFunctionName):this.scanner.isRestrictedWord(I.value)?(D=I,m=s.Messages.StrictFunctionName):this.scanner.isStrictModeReservedWord(I.value)&&(D=I,m=s.Messages.StrictReservedWord)}var B=this.parseFormalParameters(D),W=B.params,j=B.stricted;D=B.firstRestricted,B.message&&(m=B.message);var ie=this.context.strict,ne=this.context.allowStrictDirective;this.context.allowStrictDirective=B.simple;var H=this.parseFunctionSourceElements();return this.context.strict&&D&&this.throwUnexpectedToken(D,m),this.context.strict&&j&&this.tolerateUnexpectedToken(j,m),this.context.strict=ie,this.context.allowStrictDirective=ne,this.context.await=w,this.context.allowYield=k,d?this.finalize(u,new o.AsyncFunctionExpression(C,W,H)):this.finalize(u,new o.FunctionExpression(C,W,H,h))},p.prototype.parseDirective=function(){var u=this.lookahead,d=this.createNode(),h=this.parseExpression(),m=h.type===c.Syntax.Literal?this.getTokenRaw(u).slice(1,-1):null;return this.consumeSemicolon(),this.finalize(d,m?new o.Directive(h,m):new o.ExpressionStatement(h))},p.prototype.parseDirectivePrologues=function(){for(var u=null,d=[];;){var h=this.lookahead;if(h.type!==8)break;var m=this.parseDirective();d.push(m);var C=m.directive;if(typeof C!="string")break;C==="use strict"?(this.context.strict=!0,u&&this.tolerateUnexpectedToken(u,s.Messages.StrictOctalLiteral),this.context.allowStrictDirective||this.tolerateUnexpectedToken(h,s.Messages.IllegalLanguageModeDirective)):!u&&h.octal&&(u=h)}return d},p.prototype.qualifiedPropertyName=function(u){switch(u.type){case 3:case 8:case 1:case 5:case 6:case 4:return!0;case 7:return u.value==="[";default:break}return!1},p.prototype.parseGetterMethod=function(){var u=this.createNode(),d=!1,h=this.context.allowYield;this.context.allowYield=!d;var m=this.parseFormalParameters();m.params.length>0&&this.tolerateError(s.Messages.BadGetterArity);var C=this.parsePropertyMethod(m);return this.context.allowYield=h,this.finalize(u,new o.FunctionExpression(null,m.params,C,d))},p.prototype.parseSetterMethod=function(){var u=this.createNode(),d=!1,h=this.context.allowYield;this.context.allowYield=!d;var m=this.parseFormalParameters();m.params.length!==1?this.tolerateError(s.Messages.BadSetterArity):m.params[0]instanceof o.RestElement&&this.tolerateError(s.Messages.BadSetterRestParameter);var C=this.parsePropertyMethod(m);return this.context.allowYield=h,this.finalize(u,new o.FunctionExpression(null,m.params,C,d))},p.prototype.parseGeneratorMethod=function(){var u=this.createNode(),d=!0,h=this.context.allowYield;this.context.allowYield=!0;var m=this.parseFormalParameters();this.context.allowYield=!1;var C=this.parsePropertyMethod(m);return this.context.allowYield=h,this.finalize(u,new o.FunctionExpression(null,m.params,C,d))},p.prototype.isStartOfExpression=function(){var u=!0,d=this.lookahead.value;switch(this.lookahead.type){case 7:u=d==="["||d==="("||d==="{"||d==="+"||d==="-"||d==="!"||d==="~"||d==="++"||d==="--"||d==="/"||d==="/=";break;case 4:u=d==="class"||d==="delete"||d==="function"||d==="let"||d==="new"||d==="super"||d==="this"||d==="typeof"||d==="void"||d==="yield";break;default:break}return u},p.prototype.parseYieldExpression=function(){var u=this.createNode();this.expectKeyword("yield");var d=null,h=!1;if(!this.hasLineTerminator){var m=this.context.allowYield;this.context.allowYield=!1,h=this.match("*"),h?(this.nextToken(),d=this.parseAssignmentExpression()):this.isStartOfExpression()&&(d=this.parseAssignmentExpression()),this.context.allowYield=m}return this.finalize(u,new o.YieldExpression(d,h))},p.prototype.parseClassElement=function(u){var d=this.lookahead,h=this.createNode(),m="",C=null,D=null,w=!1,k=!1,I=!1,B=!1;if(this.match("*"))this.nextToken();else{w=this.match("["),C=this.parseObjectPropertyKey();var W=C;if(W.name==="static"&&(this.qualifiedPropertyName(this.lookahead)||this.match("*"))&&(d=this.lookahead,I=!0,w=this.match("["),this.match("*")?this.nextToken():C=this.parseObjectPropertyKey()),d.type===3&&!this.hasLineTerminator&&d.value==="async"){var j=this.lookahead.value;j!==":"&&j!=="("&&j!=="*"&&(B=!0,d=this.lookahead,C=this.parseObjectPropertyKey(),d.type===3&&d.value==="constructor"&&this.tolerateUnexpectedToken(d,s.Messages.ConstructorIsAsync))}}var ie=this.qualifiedPropertyName(this.lookahead);return d.type===3?d.value==="get"&&ie?(m="get",w=this.match("["),C=this.parseObjectPropertyKey(),this.context.allowYield=!1,D=this.parseGetterMethod()):d.value==="set"&&ie&&(m="set",w=this.match("["),C=this.parseObjectPropertyKey(),D=this.parseSetterMethod()):d.type===7&&d.value==="*"&&ie&&(m="init",w=this.match("["),C=this.parseObjectPropertyKey(),D=this.parseGeneratorMethod(),k=!0),!m&&C&&this.match("(")&&(m="init",D=B?this.parsePropertyMethodAsyncFunction():this.parsePropertyMethodFunction(),k=!0),m||this.throwUnexpectedToken(this.lookahead),m==="init"&&(m="method"),w||(I&&this.isPropertyKey(C,"prototype")&&this.throwUnexpectedToken(d,s.Messages.StaticPrototype),!I&&this.isPropertyKey(C,"constructor")&&((m!=="method"||!k||D&&D.generator)&&this.throwUnexpectedToken(d,s.Messages.ConstructorSpecialMethod),u.value?this.throwUnexpectedToken(d,s.Messages.DuplicateConstructor):u.value=!0,m="constructor")),this.finalize(h,new o.MethodDefinition(C,w,D,m,I))},p.prototype.parseClassElementList=function(){var u=[],d={value:!1};for(this.expect("{");!this.match("}");)this.match(";")?this.nextToken():u.push(this.parseClassElement(d));return this.expect("}"),u},p.prototype.parseClassBody=function(){var u=this.createNode(),d=this.parseClassElementList();return this.finalize(u,new o.ClassBody(d))},p.prototype.parseClassDeclaration=function(u){var d=this.createNode(),h=this.context.strict;this.context.strict=!0,this.expectKeyword("class");var m=u&&this.lookahead.type!==3?null:this.parseVariableIdentifier(),C=null;this.matchKeyword("extends")&&(this.nextToken(),C=this.isolateCoverGrammar(this.parseLeftHandSideExpressionAllowCall));var D=this.parseClassBody();return this.context.strict=h,this.finalize(d,new o.ClassDeclaration(m,C,D))},p.prototype.parseClassExpression=function(){var u=this.createNode(),d=this.context.strict;this.context.strict=!0,this.expectKeyword("class");var h=this.lookahead.type===3?this.parseVariableIdentifier():null,m=null;this.matchKeyword("extends")&&(this.nextToken(),m=this.isolateCoverGrammar(this.parseLeftHandSideExpressionAllowCall));var C=this.parseClassBody();return this.context.strict=d,this.finalize(u,new o.ClassExpression(h,m,C))},p.prototype.parseModule=function(){this.context.strict=!0,this.context.isModule=!0,this.scanner.isModule=!0;for(var u=this.createNode(),d=this.parseDirectivePrologues();this.lookahead.type!==2;)d.push(this.parseStatementListItem());return this.finalize(u,new o.Module(d))},p.prototype.parseScript=function(){for(var u=this.createNode(),d=this.parseDirectivePrologues();this.lookahead.type!==2;)d.push(this.parseStatementListItem());return this.finalize(u,new o.Script(d))},p.prototype.parseModuleSpecifier=function(){var u=this.createNode();this.lookahead.type!==8&&this.throwError(s.Messages.InvalidModuleSpecifier);var d=this.nextToken(),h=this.getTokenRaw(d);return this.finalize(u,new o.Literal(d.value,h))},p.prototype.parseImportSpecifier=function(){var u=this.createNode(),d,h;return this.lookahead.type===3?(d=this.parseVariableIdentifier(),h=d,this.matchContextualKeyword("as")&&(this.nextToken(),h=this.parseVariableIdentifier())):(d=this.parseIdentifierName(),h=d,this.matchContextualKeyword("as")?(this.nextToken(),h=this.parseVariableIdentifier()):this.throwUnexpectedToken(this.nextToken())),this.finalize(u,new o.ImportSpecifier(h,d))},p.prototype.parseNamedImports=function(){this.expect("{");for(var u=[];!this.match("}");)u.push(this.parseImportSpecifier()),this.match("}")||this.expect(",");return this.expect("}"),u},p.prototype.parseImportDefaultSpecifier=function(){var u=this.createNode(),d=this.parseIdentifierName();return this.finalize(u,new o.ImportDefaultSpecifier(d))},p.prototype.parseImportNamespaceSpecifier=function(){var u=this.createNode();this.expect("*"),this.matchContextualKeyword("as")||this.throwError(s.Messages.NoAsAfterImportNamespace),this.nextToken();var d=this.parseIdentifierName();return this.finalize(u,new o.ImportNamespaceSpecifier(d))},p.prototype.parseImportDeclaration=function(){this.context.inFunctionBody&&this.throwError(s.Messages.IllegalImportDeclaration);var u=this.createNode();this.expectKeyword("import");var d,h=[];if(this.lookahead.type===8)d=this.parseModuleSpecifier();else{if(this.match("{")?h=h.concat(this.parseNamedImports()):this.match("*")?h.push(this.parseImportNamespaceSpecifier()):this.isIdentifierName(this.lookahead)&&!this.matchKeyword("default")?(h.push(this.parseImportDefaultSpecifier()),this.match(",")&&(this.nextToken(),this.match("*")?h.push(this.parseImportNamespaceSpecifier()):this.match("{")?h=h.concat(this.parseNamedImports()):this.throwUnexpectedToken(this.lookahead))):this.throwUnexpectedToken(this.nextToken()),!this.matchContextualKeyword("from")){var m=this.lookahead.value?s.Messages.UnexpectedToken:s.Messages.MissingFromClause;this.throwError(m,this.lookahead.value)}this.nextToken(),d=this.parseModuleSpecifier()}return this.consumeSemicolon(),this.finalize(u,new o.ImportDeclaration(h,d))},p.prototype.parseExportSpecifier=function(){var u=this.createNode(),d=this.parseIdentifierName(),h=d;return this.matchContextualKeyword("as")&&(this.nextToken(),h=this.parseIdentifierName()),this.finalize(u,new o.ExportSpecifier(d,h))},p.prototype.parseExportDeclaration=function(){this.context.inFunctionBody&&this.throwError(s.Messages.IllegalExportDeclaration);var u=this.createNode();this.expectKeyword("export");var d;if(this.matchKeyword("default"))if(this.nextToken(),this.matchKeyword("function")){var h=this.parseFunctionDeclaration(!0);d=this.finalize(u,new o.ExportDefaultDeclaration(h))}else if(this.matchKeyword("class")){var h=this.parseClassDeclaration(!0);d=this.finalize(u,new o.ExportDefaultDeclaration(h))}else if(this.matchContextualKeyword("async")){var h=this.matchAsyncFunction()?this.parseFunctionDeclaration(!0):this.parseAssignmentExpression();d=this.finalize(u,new o.ExportDefaultDeclaration(h))}else{this.matchContextualKeyword("from")&&this.throwError(s.Messages.UnexpectedToken,this.lookahead.value);var h=this.match("{")?this.parseObjectInitializer():this.match("[")?this.parseArrayInitializer():this.parseAssignmentExpression();this.consumeSemicolon(),d=this.finalize(u,new o.ExportDefaultDeclaration(h))}else if(this.match("*")){if(this.nextToken(),!this.matchContextualKeyword("from")){var m=this.lookahead.value?s.Messages.UnexpectedToken:s.Messages.MissingFromClause;this.throwError(m,this.lookahead.value)}this.nextToken();var C=this.parseModuleSpecifier();this.consumeSemicolon(),d=this.finalize(u,new o.ExportAllDeclaration(C))}else if(this.lookahead.type===4){var h=void 0;switch(this.lookahead.value){case"let":case"const":h=this.parseLexicalDeclaration({inFor:!1});break;case"var":case"class":case"function":h=this.parseStatementListItem();break;default:this.throwUnexpectedToken(this.lookahead)}d=this.finalize(u,new o.ExportNamedDeclaration(h,[],null))}else if(this.matchAsyncFunction()){var h=this.parseFunctionDeclaration();d=this.finalize(u,new o.ExportNamedDeclaration(h,[],null))}else{var D=[],w=null,k=!1;for(this.expect("{");!this.match("}");)k=k||this.matchKeyword("default"),D.push(this.parseExportSpecifier()),this.match("}")||this.expect(",");if(this.expect("}"),this.matchContextualKeyword("from"))this.nextToken(),w=this.parseModuleSpecifier(),this.consumeSemicolon();else if(k){var m=this.lookahead.value?s.Messages.UnexpectedToken:s.Messages.MissingFromClause;this.throwError(m,this.lookahead.value)}else this.consumeSemicolon();d=this.finalize(u,new o.ExportNamedDeclaration(null,D,w))}return d},p}();e.Parser=g},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});function n(i,r){if(!i)throw new Error("ASSERT: "+r)}e.assert=n},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function i(){this.errors=[],this.tolerant=!1}return i.prototype.recordError=function(r){this.errors.push(r)},i.prototype.tolerate=function(r){if(this.tolerant)this.recordError(r);else throw r},i.prototype.constructError=function(r,s){var o=new Error(r);try{throw o}catch(a){Object.create&&Object.defineProperty&&(o=Object.create(a),Object.defineProperty(o,"column",{value:s}))}return o},i.prototype.createError=function(r,s,o,a){var c="Line "+s+": "+a,l=this.constructError(c,o);return l.index=r,l.lineNumber=s,l.description=a,l},i.prototype.throwError=function(r,s,o,a){throw this.createError(r,s,o,a)},i.prototype.tolerateError=function(r,s,o,a){var c=this.createError(r,s,o,a);if(this.tolerant)this.recordError(c);else throw c},i}();e.ErrorHandler=n},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Messages={BadGetterArity:"Getter must not have any formal parameters",BadSetterArity:"Setter must have exactly one formal parameter",BadSetterRestParameter:"Setter function argument must not be a rest parameter",ConstructorIsAsync:"Class constructor may not be an async method",ConstructorSpecialMethod:"Class constructor may not be an accessor",DeclarationMissingInitializer:"Missing initializer in %0 declaration",DefaultRestParameter:"Unexpected token =",DuplicateBinding:"Duplicate binding %0",DuplicateConstructor:"A class may only have one constructor",DuplicateProtoProperty:"Duplicate __proto__ fields are not allowed in object literals",ForInOfLoopInitializer:"%0 loop variable declaration may not have an initializer",GeneratorInLegacyContext:"Generator declarations are not allowed in legacy contexts",IllegalBreak:"Illegal break statement",IllegalContinue:"Illegal continue statement",IllegalExportDeclaration:"Unexpected token",IllegalImportDeclaration:"Unexpected token",IllegalLanguageModeDirective:"Illegal 'use strict' directive in function with non-simple parameter list",IllegalReturn:"Illegal return statement",InvalidEscapedReservedWord:"Keyword must not contain escaped characters",InvalidHexEscapeSequence:"Invalid hexadecimal escape sequence",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",InvalidLHSInForLoop:"Invalid left-hand side in for-loop",InvalidModuleSpecifier:"Unexpected token",InvalidRegExp:"Invalid regular expression",LetInLexicalBinding:"let is disallowed as a lexically bound name",MissingFromClause:"Unexpected token",MultipleDefaultsInSwitch:"More than one default clause in switch statement",NewlineAfterThrow:"Illegal newline after throw",NoAsAfterImportNamespace:"Unexpected token",NoCatchOrFinally:"Missing catch or finally after try",ParameterAfterRestParameter:"Rest parameter must be last formal parameter",Redeclaration:"%0 '%1' has already been declared",StaticPrototype:"Classes may not have static property named prototype",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictFunction:"In strict mode code, functions can only be declared at top level or inside a block",StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictModeWith:"Strict mode code may not include a with statement",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictReservedWord:"Use of future reserved word in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",TemplateOctalLiteral:"Octal literals are not allowed in template strings.",UnexpectedEOS:"Unexpected end of input",UnexpectedIdentifier:"Unexpected identifier",UnexpectedNumber:"Unexpected number",UnexpectedReserved:"Unexpected reserved word",UnexpectedString:"Unexpected string",UnexpectedTemplate:"Unexpected quasi %0",UnexpectedToken:"Unexpected token %0",UnexpectedTokenIllegal:"Unexpected token ILLEGAL",UnknownLabel:"Undefined label '%0'",UnterminatedRegExp:"Invalid regular expression: missing /"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(9),r=n(4),s=n(11);function o(l){return"0123456789abcdef".indexOf(l.toLowerCase())}function a(l){return"01234567".indexOf(l)}var c=function(){function l(f,g){this.source=f,this.errorHandler=g,this.trackComment=!1,this.isModule=!1,this.length=f.length,this.index=0,this.lineNumber=f.length>0?1:0,this.lineStart=0,this.curlyStack=[]}return l.prototype.saveState=function(){return{index:this.index,lineNumber:this.lineNumber,lineStart:this.lineStart}},l.prototype.restoreState=function(f){this.index=f.index,this.lineNumber=f.lineNumber,this.lineStart=f.lineStart},l.prototype.eof=function(){return this.index>=this.length},l.prototype.throwUnexpectedToken=function(f){return f===void 0&&(f=s.Messages.UnexpectedTokenIllegal),this.errorHandler.throwError(this.index,this.lineNumber,this.index-this.lineStart+1,f)},l.prototype.tolerateUnexpectedToken=function(f){f===void 0&&(f=s.Messages.UnexpectedTokenIllegal),this.errorHandler.tolerateError(this.index,this.lineNumber,this.index-this.lineStart+1,f)},l.prototype.skipSingleLineComment=function(f){var g=[],p,u;for(this.trackComment&&(g=[],p=this.index-f,u={start:{line:this.lineNumber,column:this.index-this.lineStart-f},end:{}});!this.eof();){var d=this.source.charCodeAt(this.index);if(++this.index,r.Character.isLineTerminator(d)){if(this.trackComment){u.end={line:this.lineNumber,column:this.index-this.lineStart-1};var h={multiLine:!1,slice:[p+f,this.index-1],range:[p,this.index-1],loc:u};g.push(h)}return d===13&&this.source.charCodeAt(this.index)===10&&++this.index,++this.lineNumber,this.lineStart=this.index,g}}if(this.trackComment){u.end={line:this.lineNumber,column:this.index-this.lineStart};var h={multiLine:!1,slice:[p+f,this.index],range:[p,this.index],loc:u};g.push(h)}return g},l.prototype.skipMultiLineComment=function(){var f=[],g,p;for(this.trackComment&&(f=[],g=this.index-2,p={start:{line:this.lineNumber,column:this.index-this.lineStart-2},end:{}});!this.eof();){var u=this.source.charCodeAt(this.index);if(r.Character.isLineTerminator(u))u===13&&this.source.charCodeAt(this.index+1)===10&&++this.index,++this.lineNumber,++this.index,this.lineStart=this.index;else if(u===42){if(this.source.charCodeAt(this.index+1)===47){if(this.index+=2,this.trackComment){p.end={line:this.lineNumber,column:this.index-this.lineStart};var d={multiLine:!0,slice:[g+2,this.index-2],range:[g,this.index],loc:p};f.push(d)}return f}++this.index}else++this.index}if(this.trackComment){p.end={line:this.lineNumber,column:this.index-this.lineStart};var d={multiLine:!0,slice:[g+2,this.index],range:[g,this.index],loc:p};f.push(d)}return this.tolerateUnexpectedToken(),f},l.prototype.scanComments=function(){var f;this.trackComment&&(f=[]);for(var g=this.index===0;!this.eof();){var p=this.source.charCodeAt(this.index);if(r.Character.isWhiteSpace(p))++this.index;else if(r.Character.isLineTerminator(p))++this.index,p===13&&this.source.charCodeAt(this.index)===10&&++this.index,++this.lineNumber,this.lineStart=this.index,g=!0;else if(p===47)if(p=this.source.charCodeAt(this.index+1),p===47){this.index+=2;var u=this.skipSingleLineComment(2);this.trackComment&&(f=f.concat(u)),g=!0}else if(p===42){this.index+=2;var u=this.skipMultiLineComment();this.trackComment&&(f=f.concat(u))}else break;else if(g&&p===45)if(this.source.charCodeAt(this.index+1)===45&&this.source.charCodeAt(this.index+2)===62){this.index+=3;var u=this.skipSingleLineComment(3);this.trackComment&&(f=f.concat(u))}else break;else if(p===60&&!this.isModule)if(this.source.slice(this.index+1,this.index+4)==="!--"){this.index+=4;var u=this.skipSingleLineComment(4);this.trackComment&&(f=f.concat(u))}else break;else break}return f},l.prototype.isFutureReservedWord=function(f){switch(f){case"enum":case"export":case"import":case"super":return!0;default:return!1}},l.prototype.isStrictModeReservedWord=function(f){switch(f){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"yield":case"let":return!0;default:return!1}},l.prototype.isRestrictedWord=function(f){return f==="eval"||f==="arguments"},l.prototype.isKeyword=function(f){switch(f.length){case 2:return f==="if"||f==="in"||f==="do";case 3:return f==="var"||f==="for"||f==="new"||f==="try"||f==="let";case 4:return f==="this"||f==="else"||f==="case"||f==="void"||f==="with"||f==="enum";case 5:return f==="while"||f==="break"||f==="catch"||f==="throw"||f==="const"||f==="yield"||f==="class"||f==="super";case 6:return f==="return"||f==="typeof"||f==="delete"||f==="switch"||f==="export"||f==="import";case 7:return f==="default"||f==="finally"||f==="extends";case 8:return f==="function"||f==="continue"||f==="debugger";case 10:return f==="instanceof";default:return!1}},l.prototype.codePointAt=function(f){var g=this.source.charCodeAt(f);if(g>=55296&&g<=56319){var p=this.source.charCodeAt(f+1);if(p>=56320&&p<=57343){var u=g;g=(u-55296)*1024+p-56320+65536}}return g},l.prototype.scanHexEscape=function(f){for(var g=f==="u"?4:2,p=0,u=0;u<g;++u)if(!this.eof()&&r.Character.isHexDigit(this.source.charCodeAt(this.index)))p=p*16+o(this.source[this.index++]);else return null;return String.fromCharCode(p)},l.prototype.scanUnicodeCodePointEscape=function(){var f=this.source[this.index],g=0;for(f==="}"&&this.throwUnexpectedToken();!this.eof()&&(f=this.source[this.index++],!!r.Character.isHexDigit(f.charCodeAt(0)));)g=g*16+o(f);return(g>1114111||f!=="}")&&this.throwUnexpectedToken(),r.Character.fromCodePoint(g)},l.prototype.getIdentifier=function(){for(var f=this.index++;!this.eof();){var g=this.source.charCodeAt(this.index);if(g===92)return this.index=f,this.getComplexIdentifier();if(g>=55296&&g<57343)return this.index=f,this.getComplexIdentifier();if(r.Character.isIdentifierPart(g))++this.index;else break}return this.source.slice(f,this.index)},l.prototype.getComplexIdentifier=function(){var f=this.codePointAt(this.index),g=r.Character.fromCodePoint(f);this.index+=g.length;var p;for(f===92&&(this.source.charCodeAt(this.index)!==117&&this.throwUnexpectedToken(),++this.index,this.source[this.index]==="{"?(++this.index,p=this.scanUnicodeCodePointEscape()):(p=this.scanHexEscape("u"),(p===null||p==="\\"||!r.Character.isIdentifierStart(p.charCodeAt(0)))&&this.throwUnexpectedToken()),g=p);!this.eof()&&(f=this.codePointAt(this.index),!!r.Character.isIdentifierPart(f));)p=r.Character.fromCodePoint(f),g+=p,this.index+=p.length,f===92&&(g=g.substr(0,g.length-1),this.source.charCodeAt(this.index)!==117&&this.throwUnexpectedToken(),++this.index,this.source[this.index]==="{"?(++this.index,p=this.scanUnicodeCodePointEscape()):(p=this.scanHexEscape("u"),(p===null||p==="\\"||!r.Character.isIdentifierPart(p.charCodeAt(0)))&&this.throwUnexpectedToken()),g+=p);return g},l.prototype.octalToDecimal=function(f){var g=f!=="0",p=a(f);return!this.eof()&&r.Character.isOctalDigit(this.source.charCodeAt(this.index))&&(g=!0,p=p*8+a(this.source[this.index++]),"0123".indexOf(f)>=0&&!this.eof()&&r.Character.isOctalDigit(this.source.charCodeAt(this.index))&&(p=p*8+a(this.source[this.index++]))),{code:p,octal:g}},l.prototype.scanIdentifier=function(){var f,g=this.index,p=this.source.charCodeAt(g)===92?this.getComplexIdentifier():this.getIdentifier();if(p.length===1?f=3:this.isKeyword(p)?f=4:p==="null"?f=5:p==="true"||p==="false"?f=1:f=3,f!==3&&g+p.length!==this.index){var u=this.index;this.index=g,this.tolerateUnexpectedToken(s.Messages.InvalidEscapedReservedWord),this.index=u}return{type:f,value:p,lineNumber:this.lineNumber,lineStart:this.lineStart,start:g,end:this.index}},l.prototype.scanPunctuator=function(){var f=this.index,g=this.source[this.index];switch(g){case"(":case"{":g==="{"&&this.curlyStack.push("{"),++this.index;break;case".":++this.index,this.source[this.index]==="."&&this.source[this.index+1]==="."&&(this.index+=2,g="...");break;case"}":++this.index,this.curlyStack.pop();break;case")":case";":case",":case"[":case"]":case":":case"?":case"~":++this.index;break;default:g=this.source.substr(this.index,4),g===">>>="?this.index+=4:(g=g.substr(0,3),g==="==="||g==="!=="||g===">>>"||g==="<<="||g===">>="||g==="**="?this.index+=3:(g=g.substr(0,2),g==="&&"||g==="||"||g==="=="||g==="!="||g==="+="||g==="-="||g==="*="||g==="/="||g==="++"||g==="--"||g==="<<"||g===">>"||g==="&="||g==="|="||g==="^="||g==="%="||g==="<="||g===">="||g==="=>"||g==="**"?this.index+=2:(g=this.source[this.index],"<>=!+-*%&|^/".indexOf(g)>=0&&++this.index)))}return this.index===f&&this.throwUnexpectedToken(),{type:7,value:g,lineNumber:this.lineNumber,lineStart:this.lineStart,start:f,end:this.index}},l.prototype.scanHexLiteral=function(f){for(var g="";!this.eof()&&r.Character.isHexDigit(this.source.charCodeAt(this.index));)g+=this.source[this.index++];return g.length===0&&this.throwUnexpectedToken(),r.Character.isIdentifierStart(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(),{type:6,value:parseInt("0x"+g,16),lineNumber:this.lineNumber,lineStart:this.lineStart,start:f,end:this.index}},l.prototype.scanBinaryLiteral=function(f){for(var g="",p;!this.eof()&&(p=this.source[this.index],!(p!=="0"&&p!=="1"));)g+=this.source[this.index++];return g.length===0&&this.throwUnexpectedToken(),this.eof()||(p=this.source.charCodeAt(this.index),(r.Character.isIdentifierStart(p)||r.Character.isDecimalDigit(p))&&this.throwUnexpectedToken()),{type:6,value:parseInt(g,2),lineNumber:this.lineNumber,lineStart:this.lineStart,start:f,end:this.index}},l.prototype.scanOctalLiteral=function(f,g){var p="",u=!1;for(r.Character.isOctalDigit(f.charCodeAt(0))?(u=!0,p="0"+this.source[this.index++]):++this.index;!this.eof()&&r.Character.isOctalDigit(this.source.charCodeAt(this.index));)p+=this.source[this.index++];return!u&&p.length===0&&this.throwUnexpectedToken(),(r.Character.isIdentifierStart(this.source.charCodeAt(this.index))||r.Character.isDecimalDigit(this.source.charCodeAt(this.index)))&&this.throwUnexpectedToken(),{type:6,value:parseInt(p,8),octal:u,lineNumber:this.lineNumber,lineStart:this.lineStart,start:g,end:this.index}},l.prototype.isImplicitOctalLiteral=function(){for(var f=this.index+1;f<this.length;++f){var g=this.source[f];if(g==="8"||g==="9")return!1;if(!r.Character.isOctalDigit(g.charCodeAt(0)))return!0}return!0},l.prototype.scanNumericLiteral=function(){var f=this.index,g=this.source[f];i.assert(r.Character.isDecimalDigit(g.charCodeAt(0))||g===".","Numeric literal must start with a decimal digit or a decimal point");var p="";if(g!=="."){if(p=this.source[this.index++],g=this.source[this.index],p==="0"){if(g==="x"||g==="X")return++this.index,this.scanHexLiteral(f);if(g==="b"||g==="B")return++this.index,this.scanBinaryLiteral(f);if(g==="o"||g==="O")return this.scanOctalLiteral(g,f);if(g&&r.Character.isOctalDigit(g.charCodeAt(0))&&this.isImplicitOctalLiteral())return this.scanOctalLiteral(g,f)}for(;r.Character.isDecimalDigit(this.source.charCodeAt(this.index));)p+=this.source[this.index++];g=this.source[this.index]}if(g==="."){for(p+=this.source[this.index++];r.Character.isDecimalDigit(this.source.charCodeAt(this.index));)p+=this.source[this.index++];g=this.source[this.index]}if(g==="e"||g==="E")if(p+=this.source[this.index++],g=this.source[this.index],(g==="+"||g==="-")&&(p+=this.source[this.index++]),r.Character.isDecimalDigit(this.source.charCodeAt(this.index)))for(;r.Character.isDecimalDigit(this.source.charCodeAt(this.index));)p+=this.source[this.index++];else this.throwUnexpectedToken();return r.Character.isIdentifierStart(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(),{type:6,value:parseFloat(p),lineNumber:this.lineNumber,lineStart:this.lineStart,start:f,end:this.index}},l.prototype.scanStringLiteral=function(){var f=this.index,g=this.source[f];i.assert(g==="'"||g==='"',"String literal must starts with a quote"),++this.index;for(var p=!1,u="";!this.eof();){var d=this.source[this.index++];if(d===g){g="";break}else if(d==="\\")if(d=this.source[this.index++],!d||!r.Character.isLineTerminator(d.charCodeAt(0)))switch(d){case"u":if(this.source[this.index]==="{")++this.index,u+=this.scanUnicodeCodePointEscape();else{var h=this.scanHexEscape(d);h===null&&this.throwUnexpectedToken(),u+=h}break;case"x":var m=this.scanHexEscape(d);m===null&&this.throwUnexpectedToken(s.Messages.InvalidHexEscapeSequence),u+=m;break;case"n":u+=`
`;break;case"r":u+="\r";break;case"t":u+="	";break;case"b":u+="\b";break;case"f":u+="\f";break;case"v":u+="\v";break;case"8":case"9":u+=d,this.tolerateUnexpectedToken();break;default:if(d&&r.Character.isOctalDigit(d.charCodeAt(0))){var C=this.octalToDecimal(d);p=C.octal||p,u+=String.fromCharCode(C.code)}else u+=d;break}else++this.lineNumber,d==="\r"&&this.source[this.index]===`
`&&++this.index,this.lineStart=this.index;else{if(r.Character.isLineTerminator(d.charCodeAt(0)))break;u+=d}}return g!==""&&(this.index=f,this.throwUnexpectedToken()),{type:8,value:u,octal:p,lineNumber:this.lineNumber,lineStart:this.lineStart,start:f,end:this.index}},l.prototype.scanTemplate=function(){var f="",g=!1,p=this.index,u=this.source[p]==="`",d=!1,h=2;for(++this.index;!this.eof();){var m=this.source[this.index++];if(m==="`"){h=1,d=!0,g=!0;break}else if(m==="$"){if(this.source[this.index]==="{"){this.curlyStack.push("${"),++this.index,g=!0;break}f+=m}else if(m==="\\")if(m=this.source[this.index++],r.Character.isLineTerminator(m.charCodeAt(0)))++this.lineNumber,m==="\r"&&this.source[this.index]===`
`&&++this.index,this.lineStart=this.index;else switch(m){case"n":f+=`
`;break;case"r":f+="\r";break;case"t":f+="	";break;case"u":if(this.source[this.index]==="{")++this.index,f+=this.scanUnicodeCodePointEscape();else{var C=this.index,D=this.scanHexEscape(m);D!==null?f+=D:(this.index=C,f+=m)}break;case"x":var w=this.scanHexEscape(m);w===null&&this.throwUnexpectedToken(s.Messages.InvalidHexEscapeSequence),f+=w;break;case"b":f+="\b";break;case"f":f+="\f";break;case"v":f+="\v";break;default:m==="0"?(r.Character.isDecimalDigit(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(s.Messages.TemplateOctalLiteral),f+="\0"):r.Character.isOctalDigit(m.charCodeAt(0))?this.throwUnexpectedToken(s.Messages.TemplateOctalLiteral):f+=m;break}else r.Character.isLineTerminator(m.charCodeAt(0))?(++this.lineNumber,m==="\r"&&this.source[this.index]===`
`&&++this.index,this.lineStart=this.index,f+=`
`):f+=m}return g||this.throwUnexpectedToken(),u||this.curlyStack.pop(),{type:10,value:this.source.slice(p+1,this.index-h),cooked:f,head:u,tail:d,lineNumber:this.lineNumber,lineStart:this.lineStart,start:p,end:this.index}},l.prototype.testRegExp=function(f,g){var p="\uFFFF",u=f,d=this;g.indexOf("u")>=0&&(u=u.replace(/\\u\{([0-9a-fA-F]+)\}|\\u([a-fA-F0-9]{4})/g,function(h,m,C){var D=parseInt(m||C,16);return D>1114111&&d.throwUnexpectedToken(s.Messages.InvalidRegExp),D<=65535?String.fromCharCode(D):p}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,p));try{RegExp(u)}catch{this.throwUnexpectedToken(s.Messages.InvalidRegExp)}try{return new RegExp(f,g)}catch{return null}},l.prototype.scanRegExpBody=function(){var f=this.source[this.index];i.assert(f==="/","Regular expression literal must start with a slash");for(var g=this.source[this.index++],p=!1,u=!1;!this.eof();)if(f=this.source[this.index++],g+=f,f==="\\")f=this.source[this.index++],r.Character.isLineTerminator(f.charCodeAt(0))&&this.throwUnexpectedToken(s.Messages.UnterminatedRegExp),g+=f;else if(r.Character.isLineTerminator(f.charCodeAt(0)))this.throwUnexpectedToken(s.Messages.UnterminatedRegExp);else if(p)f==="]"&&(p=!1);else if(f==="/"){u=!0;break}else f==="["&&(p=!0);return u||this.throwUnexpectedToken(s.Messages.UnterminatedRegExp),g.substr(1,g.length-2)},l.prototype.scanRegExpFlags=function(){for(var f="",g="";!this.eof();){var p=this.source[this.index];if(!r.Character.isIdentifierPart(p.charCodeAt(0)))break;if(++this.index,p==="\\"&&!this.eof())if(p=this.source[this.index],p==="u"){++this.index;var u=this.index,d=this.scanHexEscape("u");if(d!==null)for(g+=d,f+="\\u";u<this.index;++u)f+=this.source[u];else this.index=u,g+="u",f+="\\u";this.tolerateUnexpectedToken()}else f+="\\",this.tolerateUnexpectedToken();else g+=p,f+=p}return g},l.prototype.scanRegExp=function(){var f=this.index,g=this.scanRegExpBody(),p=this.scanRegExpFlags(),u=this.testRegExp(g,p);return{type:9,value:"",pattern:g,flags:p,regex:u,lineNumber:this.lineNumber,lineStart:this.lineStart,start:f,end:this.index}},l.prototype.lex=function(){if(this.eof())return{type:2,value:"",lineNumber:this.lineNumber,lineStart:this.lineStart,start:this.index,end:this.index};var f=this.source.charCodeAt(this.index);return r.Character.isIdentifierStart(f)?this.scanIdentifier():f===40||f===41||f===59?this.scanPunctuator():f===39||f===34?this.scanStringLiteral():f===46?r.Character.isDecimalDigit(this.source.charCodeAt(this.index+1))?this.scanNumericLiteral():this.scanPunctuator():r.Character.isDecimalDigit(f)?this.scanNumericLiteral():f===96||f===125&&this.curlyStack[this.curlyStack.length-1]==="${"?this.scanTemplate():f>=55296&&f<57343&&r.Character.isIdentifierStart(this.codePointAt(this.index))?this.scanIdentifier():this.scanPunctuator()},l}();e.Scanner=c},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenName={},e.TokenName[1]="Boolean",e.TokenName[2]="<end>",e.TokenName[3]="Identifier",e.TokenName[4]="Keyword",e.TokenName[5]="Null",e.TokenName[6]="Numeric",e.TokenName[7]="Punctuator",e.TokenName[8]="String",e.TokenName[9]="RegularExpression",e.TokenName[10]="Template"},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.XHTMLEntities={quot:'"',amp:"&",apos:"'",gt:">",nbsp:"\xA0",iexcl:"\xA1",cent:"\xA2",pound:"\xA3",curren:"\xA4",yen:"\xA5",brvbar:"\xA6",sect:"\xA7",uml:"\xA8",copy:"\xA9",ordf:"\xAA",laquo:"\xAB",not:"\xAC",shy:"\xAD",reg:"\xAE",macr:"\xAF",deg:"\xB0",plusmn:"\xB1",sup2:"\xB2",sup3:"\xB3",acute:"\xB4",micro:"\xB5",para:"\xB6",middot:"\xB7",cedil:"\xB8",sup1:"\xB9",ordm:"\xBA",raquo:"\xBB",frac14:"\xBC",frac12:"\xBD",frac34:"\xBE",iquest:"\xBF",Agrave:"\xC0",Aacute:"\xC1",Acirc:"\xC2",Atilde:"\xC3",Auml:"\xC4",Aring:"\xC5",AElig:"\xC6",Ccedil:"\xC7",Egrave:"\xC8",Eacute:"\xC9",Ecirc:"\xCA",Euml:"\xCB",Igrave:"\xCC",Iacute:"\xCD",Icirc:"\xCE",Iuml:"\xCF",ETH:"\xD0",Ntilde:"\xD1",Ograve:"\xD2",Oacute:"\xD3",Ocirc:"\xD4",Otilde:"\xD5",Ouml:"\xD6",times:"\xD7",Oslash:"\xD8",Ugrave:"\xD9",Uacute:"\xDA",Ucirc:"\xDB",Uuml:"\xDC",Yacute:"\xDD",THORN:"\xDE",szlig:"\xDF",agrave:"\xE0",aacute:"\xE1",acirc:"\xE2",atilde:"\xE3",auml:"\xE4",aring:"\xE5",aelig:"\xE6",ccedil:"\xE7",egrave:"\xE8",eacute:"\xE9",ecirc:"\xEA",euml:"\xEB",igrave:"\xEC",iacute:"\xED",icirc:"\xEE",iuml:"\xEF",eth:"\xF0",ntilde:"\xF1",ograve:"\xF2",oacute:"\xF3",ocirc:"\xF4",otilde:"\xF5",ouml:"\xF6",divide:"\xF7",oslash:"\xF8",ugrave:"\xF9",uacute:"\xFA",ucirc:"\xFB",uuml:"\xFC",yacute:"\xFD",thorn:"\xFE",yuml:"\xFF",OElig:"\u0152",oelig:"\u0153",Scaron:"\u0160",scaron:"\u0161",Yuml:"\u0178",fnof:"\u0192",circ:"\u02C6",tilde:"\u02DC",Alpha:"\u0391",Beta:"\u0392",Gamma:"\u0393",Delta:"\u0394",Epsilon:"\u0395",Zeta:"\u0396",Eta:"\u0397",Theta:"\u0398",Iota:"\u0399",Kappa:"\u039A",Lambda:"\u039B",Mu:"\u039C",Nu:"\u039D",Xi:"\u039E",Omicron:"\u039F",Pi:"\u03A0",Rho:"\u03A1",Sigma:"\u03A3",Tau:"\u03A4",Upsilon:"\u03A5",Phi:"\u03A6",Chi:"\u03A7",Psi:"\u03A8",Omega:"\u03A9",alpha:"\u03B1",beta:"\u03B2",gamma:"\u03B3",delta:"\u03B4",epsilon:"\u03B5",zeta:"\u03B6",eta:"\u03B7",theta:"\u03B8",iota:"\u03B9",kappa:"\u03BA",lambda:"\u03BB",mu:"\u03BC",nu:"\u03BD",xi:"\u03BE",omicron:"\u03BF",pi:"\u03C0",rho:"\u03C1",sigmaf:"\u03C2",sigma:"\u03C3",tau:"\u03C4",upsilon:"\u03C5",phi:"\u03C6",chi:"\u03C7",psi:"\u03C8",omega:"\u03C9",thetasym:"\u03D1",upsih:"\u03D2",piv:"\u03D6",ensp:"\u2002",emsp:"\u2003",thinsp:"\u2009",zwnj:"\u200C",zwj:"\u200D",lrm:"\u200E",rlm:"\u200F",ndash:"\u2013",mdash:"\u2014",lsquo:"\u2018",rsquo:"\u2019",sbquo:"\u201A",ldquo:"\u201C",rdquo:"\u201D",bdquo:"\u201E",dagger:"\u2020",Dagger:"\u2021",bull:"\u2022",hellip:"\u2026",permil:"\u2030",prime:"\u2032",Prime:"\u2033",lsaquo:"\u2039",rsaquo:"\u203A",oline:"\u203E",frasl:"\u2044",euro:"\u20AC",image:"\u2111",weierp:"\u2118",real:"\u211C",trade:"\u2122",alefsym:"\u2135",larr:"\u2190",uarr:"\u2191",rarr:"\u2192",darr:"\u2193",harr:"\u2194",crarr:"\u21B5",lArr:"\u21D0",uArr:"\u21D1",rArr:"\u21D2",dArr:"\u21D3",hArr:"\u21D4",forall:"\u2200",part:"\u2202",exist:"\u2203",empty:"\u2205",nabla:"\u2207",isin:"\u2208",notin:"\u2209",ni:"\u220B",prod:"\u220F",sum:"\u2211",minus:"\u2212",lowast:"\u2217",radic:"\u221A",prop:"\u221D",infin:"\u221E",ang:"\u2220",and:"\u2227",or:"\u2228",cap:"\u2229",cup:"\u222A",int:"\u222B",there4:"\u2234",sim:"\u223C",cong:"\u2245",asymp:"\u2248",ne:"\u2260",equiv:"\u2261",le:"\u2264",ge:"\u2265",sub:"\u2282",sup:"\u2283",nsub:"\u2284",sube:"\u2286",supe:"\u2287",oplus:"\u2295",otimes:"\u2297",perp:"\u22A5",sdot:"\u22C5",lceil:"\u2308",rceil:"\u2309",lfloor:"\u230A",rfloor:"\u230B",loz:"\u25CA",spades:"\u2660",clubs:"\u2663",hearts:"\u2665",diams:"\u2666",lang:"\u27E8",rang:"\u27E9"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(10),r=n(12),s=n(13),o=function(){function c(){this.values=[],this.curly=this.paren=-1}return c.prototype.beforeFunctionExpression=function(l){return["(","{","[","in","typeof","instanceof","new","return","case","delete","throw","void","=","+=","-=","*=","**=","/=","%=","<<=",">>=",">>>=","&=","|=","^=",",","+","-","*","**","/","%","++","--","<<",">>",">>>","&","|","^","!","~","&&","||","?",":","===","==",">=","<=","<",">","!=","!=="].indexOf(l)>=0},c.prototype.isRegexStart=function(){var l=this.values[this.values.length-1],f=l!==null;switch(l){case"this":case"]":f=!1;break;case")":var g=this.values[this.paren-1];f=g==="if"||g==="while"||g==="for"||g==="with";break;case"}":if(f=!1,this.values[this.curly-3]==="function"){var p=this.values[this.curly-4];f=p?!this.beforeFunctionExpression(p):!1}else if(this.values[this.curly-4]==="function"){var p=this.values[this.curly-5];f=p?!this.beforeFunctionExpression(p):!0}break;default:break}return f},c.prototype.push=function(l){l.type===7||l.type===4?(l.value==="{"?this.curly=this.values.length:l.value==="("&&(this.paren=this.values.length),this.values.push(l.value)):this.values.push(null)},c}(),a=function(){function c(l,f){this.errorHandler=new i.ErrorHandler,this.errorHandler.tolerant=f?typeof f.tolerant=="boolean"&&f.tolerant:!1,this.scanner=new r.Scanner(l,this.errorHandler),this.scanner.trackComment=f?typeof f.comment=="boolean"&&f.comment:!1,this.trackRange=f?typeof f.range=="boolean"&&f.range:!1,this.trackLoc=f?typeof f.loc=="boolean"&&f.loc:!1,this.buffer=[],this.reader=new o}return c.prototype.errors=function(){return this.errorHandler.errors},c.prototype.getNextToken=function(){if(this.buffer.length===0){var l=this.scanner.scanComments();if(this.scanner.trackComment)for(var f=0;f<l.length;++f){var g=l[f],p=this.scanner.source.slice(g.slice[0],g.slice[1]),u={type:g.multiLine?"BlockComment":"LineComment",value:p};this.trackRange&&(u.range=g.range),this.trackLoc&&(u.loc=g.loc),this.buffer.push(u)}if(!this.scanner.eof()){var d=void 0;this.trackLoc&&(d={start:{line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart},end:{}});var h=this.scanner.source[this.scanner.index]==="/"&&this.reader.isRegexStart(),m=h?this.scanner.scanRegExp():this.scanner.lex();this.reader.push(m);var C={type:s.TokenName[m.type],value:this.scanner.source.slice(m.start,m.end)};if(this.trackRange&&(C.range=[m.start,m.end]),this.trackLoc&&(d.end={line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart},C.loc=d),m.type===9){var D=m.pattern,w=m.flags;C.regex={pattern:D,flags:w}}this.buffer.push(C)}}return this.buffer.shift()},c}();e.Tokenizer=a}])})});var _d=F(Tn=>{function aW(t){return Array.isArray?Array.isArray(t):Id(t)==="[object Array]"}Tn.isArray=aW;function cW(t){return typeof t=="boolean"}Tn.isBoolean=cW;function uW(t){return t===null}Tn.isNull=uW;function lW(t){return t==null}Tn.isNullOrUndefined=lW;function dW(t){return typeof t=="number"}Tn.isNumber=dW;function fW(t){return typeof t=="string"}Tn.isString=fW;function pW(t){return typeof t=="symbol"}Tn.isSymbol=pW;function hW(t){return t===void 0}Tn.isUndefined=hW;function gW(t){return Id(t)==="[object RegExp]"}Tn.isRegExp=gW;function mW(t){return typeof t=="object"&&t!==null}Tn.isObject=mW;function yW(t){return Id(t)==="[object Date]"}Tn.isDate=yW;function CW(t){return Id(t)==="[object Error]"||t instanceof Error}Tn.isError=CW;function vW(t){return typeof t=="function"}Tn.isFunction=vW;function SW(t){return t===null||typeof t=="boolean"||typeof t=="number"||typeof t=="string"||typeof t=="symbol"||typeof t>"u"}Tn.isPrimitive=SW;Tn.isBuffer=require("buffer").Buffer.isBuffer;function Id(t){return Object.prototype.toString.call(t)}});var Mk=F((jte,Ok)=>{var Rk=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9],be,Ak=t=>t<1e5?t<100?t<10?0:1:t<1e4?t<1e3?2:3:4:t<1e7?t<1e6?5:6:t<1e9?t<1e8?7:8:9;function Ik(t,e){if(t===e)return 0;if(~~t===t&&~~e===e){if(t===0||e===0)return t<e?-1:1;if(t<0||e<0){if(e>=0)return-1;if(t>=0)return 1;t=-t,e=-e}let r=Ak(t),s=Ak(e),o=0;return r<s?(t*=Rk[s-r-1],e/=10,o=-1):r>s&&(e*=Rk[r-s-1],t/=10,o=1),t===e?o:t<e?-1:1}let n=String(t),i=String(e);return n===i?0:n<i?-1:1}function bW(t){let e=0;for(;t>=32;)e|=t&1,t>>=1;return t+e}function _k(t,e,n,i){let r=e+1;if(r===n)return 1;if(i(t[r++],t[e])<0){for(;r<n&&i(t[r],t[r-1])<0;)r++;Nk(t,e,r),Nk(be,e,r)}else for(;r<n&&i(t[r],t[r-1])>=0;)r++;return r-e}function Nk(t,e,n){for(n--;e<n;){let i=t[e];t[e++]=t[n],t[n--]=i}}function Lk(t,e,n,i,r){for(i===e&&i++;i<n;i++){let s=t[i],o=be[i],a=e,c=i;for(;a<c;){let f=a+c>>>1;r(s,t[f])<0?c=f:a=f+1}let l=i-a;switch(l){case 3:t[a+3]=t[a+2],be[a+3]=be[a+2];case 2:t[a+2]=t[a+1],be[a+2]=be[a+1];case 1:t[a+1]=t[a],be[a+1]=be[a];break;default:for(;l>0;)t[a+l]=t[a+l-1],be[a+l]=be[a+l-1],l--}t[a]=s,be[a]=o}}function ay(t,e,n,i,r,s){let o=0,a=0,c=1;if(s(t,e[n+r])>0){for(a=i-r;c<a&&s(t,e[n+r+c])>0;)o=c,c=(c<<1)+1,c<=0&&(c=a);c>a&&(c=a),o+=r,c+=r}else{for(a=r+1;c<a&&s(t,e[n+r-c])<=0;)o=c,c=(c<<1)+1,c<=0&&(c=a);c>a&&(c=a);let l=o;o=r-c,c=r-l}for(o++;o<c;){let l=o+(c-o>>>1);s(t,e[n+l])>0?o=l+1:c=l}return c}function cy(t,e,n,i,r,s){let o=0,a=0,c=1;if(s(t,e[n+r])<0){for(a=r+1;c<a&&s(t,e[n+r-c])<0;)o=c,c=(c<<1)+1,c<=0&&(c=a);c>a&&(c=a);let l=o;o=r-c,c=r-l}else{for(a=i-r;c<a&&s(t,e[n+r+c])>=0;)o=c,c=(c<<1)+1,c<=0&&(c=a);c>a&&(c=a),o+=r,c+=r}for(o++;o<c;){let l=o+(c-o>>>1);s(t,e[n+l])<0?c=l:o=l+1}return c}var uy=class{constructor(e,n){this.array=e,this.compare=n;let{length:i}=e;this.length=i,this.minGallop=7,this.tmpStorageLength=i<2*256?i>>>1:256,this.tmp=new Array(this.tmpStorageLength),this.tmpIndex=new Array(this.tmpStorageLength),this.stackLength=i<120?5:i<1542?10:i<119151?19:40,this.runStart=new Array(this.stackLength),this.runLength=new Array(this.stackLength),this.stackSize=0}pushRun(e,n){this.runStart[this.stackSize]=e,this.runLength[this.stackSize]=n,this.stackSize+=1}mergeRuns(){for(;this.stackSize>1;){let e=this.stackSize-2;if(e>=1&&this.runLength[e-1]<=this.runLength[e]+this.runLength[e+1]||e>=2&&this.runLength[e-2]<=this.runLength[e]+this.runLength[e-1])this.runLength[e-1]<this.runLength[e+1]&&e--;else if(this.runLength[e]>this.runLength[e+1])break;this.mergeAt(e)}}forceMergeRuns(){for(;this.stackSize>1;){let e=this.stackSize-2;e>0&&this.runLength[e-1]<this.runLength[e+1]&&e--,this.mergeAt(e)}}mergeAt(e){let{compare:n}=this,{array:i}=this,r=this.runStart[e],s=this.runLength[e],o=this.runStart[e+1],a=this.runLength[e+1];this.runLength[e]=s+a,e===this.stackSize-3&&(this.runStart[e+1]=this.runStart[e+2],this.runLength[e+1]=this.runLength[e+2]),this.stackSize--;let c=cy(i[o],i,r,s,0,n);r+=c,s-=c,s!==0&&(a=ay(i[r+s-1],i,o,a,a-1,n),a!==0&&(s<=a?this.mergeLow(r,s,o,a):this.mergeHigh(r,s,o,a)))}mergeLow(e,n,i,r){let{compare:s}=this,{array:o}=this,{tmp:a}=this,{tmpIndex:c}=this,l=0;for(l=0;l<n;l++)a[l]=o[e+l],c[l]=be[e+l];let f=0,g=i,p=e;if(o[p]=o[g],be[p]=be[g],p++,g++,--r===0){for(l=0;l<n;l++)o[p+l]=a[f+l],be[p+l]=c[f+l];return}if(n===1){for(l=0;l<r;l++)o[p+l]=o[g+l],be[p+l]=be[g+l];o[p+r]=a[f],be[p+r]=c[f];return}let{minGallop:u}=this;for(;;){let d=0,h=0,m=!1;do if(s(o[g],a[f])<0){if(o[p]=o[g],be[p]=be[g],p++,g++,h++,d=0,--r===0){m=!0;break}}else if(o[p]=a[f],be[p]=c[f],p++,f++,d++,h=0,--n===1){m=!0;break}while((d|h)<u);if(m)break;do{if(d=cy(o[g],a,f,n,0,s),d!==0){for(l=0;l<d;l++)o[p+l]=a[f+l],be[p+l]=c[f+l];if(p+=d,f+=d,n-=d,n<=1){m=!0;break}}if(o[p]=o[g],be[p]=be[g],p++,g++,--r===0){m=!0;break}if(h=ay(a[f],o,g,r,0,s),h!==0){for(l=0;l<h;l++)o[p+l]=o[g+l],be[p+l]=be[g+l];if(p+=h,g+=h,r-=h,r===0){m=!0;break}}if(o[p]=a[f],be[p]=c[f],p++,f++,--n===1){m=!0;break}u--}while(d>=7||h>=7);if(m)break;u<0&&(u=0),u+=2}if(this.minGallop=u,u<1&&(this.minGallop=1),n===1){for(l=0;l<r;l++)o[p+l]=o[g+l],be[p+l]=be[g+l];o[p+r]=a[f],be[p+r]=c[f]}else{if(n===0)throw new Error("mergeLow preconditions were not respected");for(l=0;l<n;l++)o[p+l]=a[f+l],be[p+l]=c[f+l]}}mergeHigh(e,n,i,r){let{compare:s}=this,{array:o}=this,{tmp:a}=this,{tmpIndex:c}=this,l=0;for(l=0;l<r;l++)a[l]=o[i+l],c[l]=be[i+l];let f=e+n-1,g=r-1,p=i+r-1,u=0,d=0;if(o[p]=o[f],be[p]=be[f],p--,f--,--n===0){for(u=p-(r-1),l=0;l<r;l++)o[u+l]=a[l],be[u+l]=c[l];return}if(r===1){for(p-=n,f-=n,d=p+1,u=f+1,l=n-1;l>=0;l--)o[d+l]=o[u+l],be[d+l]=be[u+l];o[p]=a[g],be[p]=c[g];return}let{minGallop:h}=this;for(;;){let m=0,C=0,D=!1;do if(s(a[g],o[f])<0){if(o[p]=o[f],be[p]=be[f],p--,f--,m++,C=0,--n===0){D=!0;break}}else if(o[p]=a[g],be[p]=c[g],p--,g--,C++,m=0,--r===1){D=!0;break}while((m|C)<h);if(D)break;do{if(m=n-cy(a[g],o,e,n,n-1,s),m!==0){for(p-=m,f-=m,n-=m,d=p+1,u=f+1,l=m-1;l>=0;l--)o[d+l]=o[u+l],be[d+l]=be[u+l];if(n===0){D=!0;break}}if(o[p]=a[g],be[p]=c[g],p--,g--,--r===1){D=!0;break}if(C=r-ay(o[f],a,0,r,r-1,s),C!==0){for(p-=C,g-=C,r-=C,d=p+1,u=g+1,l=0;l<C;l++)o[d+l]=a[u+l],be[d+l]=c[u+l];if(r<=1){D=!0;break}}if(o[p]=o[f],be[p]=be[f],p--,f--,--n===0){D=!0;break}h--}while(m>=7||C>=7);if(D)break;h<0&&(h=0),h+=2}if(this.minGallop=h,h<1&&(this.minGallop=1),r===1){for(p-=n,f-=n,d=p+1,u=f+1,l=n-1;l>=0;l--)o[d+l]=o[u+l],be[d+l]=be[u+l];o[p]=a[g],be[p]=c[g]}else{if(r===0)throw new Error("mergeHigh preconditions were not respected");for(u=p-(r-1),l=0;l<r;l++)o[u+l]=a[l],be[u+l]=c[l]}}};function DW(t,e,n,i){if(!Array.isArray(t))throw new TypeError(`The "array" argument must be an array. Received ${t}`);be=[];let{length:r}=t,s=0;for(;s<r;)be[s]=s++;e?typeof e!="function"&&(i=n,n=e,e=Ik):e=Ik,n||(n=0),i||(i=r);let o=i-n;if(o<2)return be;let a=0;if(o<32)return a=_k(t,n,i,e),Lk(t,n,i,n+a,e),be;let c=new uy(t,e),l=bW(o);do{if(a=_k(t,n,i,e),a<l){let f=o;f>l&&(f=l),Lk(t,n,n+f,n+a,e),a=f}c.pushRun(n,a),c.mergeRuns(),o-=a,n+=a}while(o!==0);return c.forceMergeRuns(),be}Ok.exports={sort:DW}});var Uk=F((Bte,qk)=>{"use strict";var TW=Object.prototype.hasOwnProperty;qk.exports=(t,e)=>TW.call(t,e)});var nu=F((Wte,Xk)=>{var fy=Uk(),{isObject:jk,isArray:wW,isString:xW,isNumber:EW}=_d(),py="before",Wk="after-prop",Kk="after-colon",$k="after-value",Hk="after",Vk="before-all",zk="after-all",kW="[",FW="]",PW="{",RW="}",AW=",",IW="",_W="-",hy=[py,Wk,Kk,$k,Hk],NW=[py,Vk,zk].map(Symbol.for),Gk=":",Bk=void 0,tu=(t,e)=>Symbol.for(t+Gk+e),Nd=(t,e,n)=>Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0}),dy=(t,e,n,i,r,s)=>{let o=tu(r,i);if(!fy(e,o))return;let a=n===i?o:tu(r,n);Nd(t,a,e[o]),s&&delete e[o]},Jk=(t,e,n,i,r)=>{hy.forEach(s=>{dy(t,e,n,i,s,r)})},LW=(t,e,n)=>{e!==n&&hy.forEach(i=>{let r=tu(i,n);if(!fy(t,r)){dy(t,t,n,e,i,!0);return}let s=t[r];delete t[r],dy(t,t,n,e,i,!0),Nd(t,tu(i,e),s)})},ly=(t,e)=>{NW.forEach(n=>{let i=e[n];i&&Nd(t,n,i)})},OW=(t,e,n)=>(n.forEach(i=>{!xW(i)&&!EW(i)||fy(e,i)&&(t[i]=e[i],Jk(t,e,i,i))}),t);Xk.exports={SYMBOL_PREFIXES:hy,PREFIX_BEFORE:py,PREFIX_AFTER_PROP:Wk,PREFIX_AFTER_COLON:Kk,PREFIX_AFTER_VALUE:$k,PREFIX_AFTER:Hk,PREFIX_BEFORE_ALL:Vk,PREFIX_AFTER_ALL:zk,BRACKET_OPEN:kW,BRACKET_CLOSE:FW,CURLY_BRACKET_OPEN:PW,CURLY_BRACKET_CLOSE:RW,COLON:Gk,COMMA:AW,MINUS:_W,EMPTY:IW,UNDEFINED:Bk,symbol:tu,define:Nd,copy_comments:Jk,swap_comments:LW,assign_non_prop_comments:ly,assign(t,e,n){if(!jk(t))throw new TypeError("Cannot convert undefined or null to object");if(!jk(e))return t;if(n===Bk)n=Object.keys(e),ly(t,e);else if(wW(n))n.length===0&&ly(t,e);else throw new TypeError("keys must be array or undefined");return OW(t,e,n)}}});var my=F((Kte,tF)=>{var{isArray:MW}=_d(),{sort:qW}=Mk(),{SYMBOL_PREFIXES:UW,UNDEFINED:Yk,symbol:jW,copy_comments:BW,swap_comments:eF}=nu(),WW=t=>{let{length:e}=t,n=0,i=e/2;for(;n<i;n++)eF(t,n,e-n-1)},Qk=(t,e,n,i,r)=>{BW(t,e,n+i,n,r)},da=(t,e,n,i,r,s)=>{if(r>0){let a=i;for(;a-- >0;)Qk(t,e,n+a,r,s);return}let o=0;for(;o<i;){let a=o++;Qk(t,e,n+a,r,s)}},Zk=(t,e)=>{UW.forEach(n=>{let i=jW(n,e);delete t[i]})},KW=(t,e)=>{let n=e;for(;n in t;)n=t[n];return n},gy=class t extends Array{splice(...e){let{length:n}=this,i=super.splice(...e),[r,s,...o]=e;r<0&&(r+=n),arguments.length===1?s=n-r:s=Math.min(n-r,s);let{length:a}=o,c=a-s,l=r+s,f=n-l;return da(this,this,l,f,c,!0),i}slice(...e){let{length:n}=this,i=super.slice(...e);if(!i.length)return new t;let[r,s]=e;return s===Yk?s=n:s<0&&(s+=n),r<0?r+=n:r===Yk&&(r=0),da(i,this,r,s-r,-r),i}unshift(...e){let{length:n}=this,i=super.unshift(...e),{length:r}=e;return r>0&&da(this,this,0,n,r,!0),i}shift(){let e=super.shift(),{length:n}=this;return Zk(this,0),da(this,this,1,n,-1,!0),e}reverse(){return super.reverse(),WW(this),this}pop(){let e=super.pop();return Zk(this,this.length),e}concat(...e){let{length:n}=this,i=super.concat(...e);return e.length&&(da(i,this,0,this.length,0),e.forEach(r=>{let s=n;n+=MW(r)?r.length:1,r instanceof t&&da(i,r,0,r.length,s)})),i}sort(...e){let n=qW(this,...e.slice(0,1)),i=Object.create(null);return n.forEach((r,s)=>{if(r===s)return;let o=KW(i,r);o!==s&&(i[s]=o,eF(this,s,o))}),this}};tF.exports={CommentArray:gy}});var CF=F(($te,yF)=>{var $W=Pk(),{CommentArray:HW}=my(),{PREFIX_BEFORE:Od,PREFIX_AFTER_PROP:VW,PREFIX_AFTER_COLON:zW,PREFIX_AFTER_VALUE:sF,PREFIX_AFTER:Cy,PREFIX_BEFORE_ALL:GW,PREFIX_AFTER_ALL:JW,BRACKET_OPEN:XW,BRACKET_CLOSE:nF,CURLY_BRACKET_OPEN:YW,CURLY_BRACKET_CLOSE:iF,COLON:oF,COMMA:aF,MINUS:rF,EMPTY:QW,UNDEFINED:Ud,define:vy,assign_non_prop_comments:ZW}=nu(),cF=t=>$W.tokenize(t,{comment:!0,loc:!0}),Sy=[],cs=null,Dr=null,by=[],us,uF=!1,lF=!1,iu=null,ru=null,wn=null,dF,Md=null,fF=()=>{by.length=Sy.length=0,ru=null,us=Ud},eK=()=>{fF(),iu.length=0,Dr=cs=iu=ru=wn=Md=null},Dy=t=>Symbol.for(us!==Ud?t+oF+us:t),Ty=(t,e)=>Md?Md(t,e):e,pF=()=>{let t=new SyntaxError(`Unexpected token ${wn.value.slice(0,1)}`);throw Object.assign(t,wn.loc.start),t},hF=()=>{let t=new SyntaxError("Unexpected end of JSON input");throw Object.assign(t,ru?ru.loc.end:{line:1,column:0}),t},Ni=()=>{let t=iu[++dF];lF=wn&&t&&wn.loc.end.line===t.loc.start.line||!1,ru=wn,wn=t},yy=()=>(wn||hF(),wn.type==="Punctuator"?wn.value:wn.type),ho=t=>yy()===t,Ld=t=>{ho(t)||pF()},wy=t=>{Sy.push(cs),cs=t},xy=()=>{cs=Sy.pop()},gF=()=>{if(!Dr)return;let t=[];for(let n of Dr)if(n.inline)t.push(n);else break;let{length:e}=t;e&&(e===Dr.length?Dr=null:Dr.splice(0,e),vy(cs,Dy(Cy),t))},as=t=>{Dr&&(vy(cs,Dy(t),Dr),Dr=null)},Tr=t=>{let e=[];for(;wn&&(ho("LineComment")||ho("BlockComment"));){let n={...wn,inline:lF};e.push(n),Ni()}if(!uF&&e.length){if(t){vy(cs,Dy(t),e);return}Dr=e}},qd=(t,e)=>{e&&by.push(us),us=t},mF=()=>{us=by.pop()},tK=()=>{let t={};wy(t),qd(Ud,!0);let e=!1,n;for(Tr();!ho(iF)&&!(e&&(as(sF),Ld(aF),Ni(),Tr(),gF(),ho(iF)));)e=!0,Ld("String"),n=JSON.parse(wn.value),qd(n),as(Od),Ni(),Tr(VW),Ld(oF),Ni(),Tr(zW),t[n]=Ty(n,Ey()),Tr();return e&&as(Cy),Ni(),us=void 0,e||as(Od),xy(),mF(),t},nK=()=>{let t=new HW;wy(t),qd(Ud,!0);let e=!1,n=0;for(Tr();!ho(nF)&&!(e&&(as(sF),Ld(aF),Ni(),Tr(),gF(),ho(nF)));)e=!0,qd(n),as(Od),t[n]=Ty(n,Ey()),n++,Tr();return e&&as(Cy),Ni(),us=void 0,e||as(Od),xy(),mF(),t};function Ey(){let t=yy();if(t===YW)return Ni(),tK();if(t===XW)return Ni(),nK();let e=QW;t===rF&&(Ni(),t=yy(),e=rF);let n;switch(t){case"String":case"Boolean":case"Null":case"Numeric":return n=wn.value,Ni(),JSON.parse(e+n);default:}}var iK=t=>Object(t)===t,rK=(t,e,n)=>{fF(),iu=cF(t),Md=e,uF=n,iu.length||hF(),dF=-1,Ni(),wy({}),Tr(GW);let i=Ey();return Tr(JW),wn&&pF(),!n&&i!==null&&(iK(i)||(i=new Object(i)),ZW(i,cs)),xy(),i=Ty("",i),eK(),i};yF.exports={parse:rK,tokenize:cF}});var SF=F((Hte,vF)=>{"use strict";var Br="",ky;vF.exports=sK;function sK(t,e){if(typeof t!="string")throw new TypeError("expected a string");if(e===1)return t;if(e===2)return t+t;var n=t.length*e;if(ky!==t||typeof ky>"u")ky=t,Br="";else if(Br.length>=n)return Br.substr(0,n);for(;n>Br.length&&e>1;)e&1&&(Br+=t),e>>=1,t+=t;return Br+=t,Br=Br.substr(0,n),Br}});var AF=F((Vte,RF)=>{var{isArray:Ry,isObject:bF,isFunction:Py,isNumber:oK,isString:aK}=_d(),cK=SF(),{PREFIX_BEFORE_ALL:uK,PREFIX_BEFORE:DF,PREFIX_AFTER_PROP:lK,PREFIX_AFTER_COLON:dK,PREFIX_AFTER_VALUE:fK,PREFIX_AFTER:Ay,PREFIX_AFTER_ALL:pK,BRACKET_OPEN:hK,BRACKET_CLOSE:gK,CURLY_BRACKET_OPEN:mK,CURLY_BRACKET_CLOSE:yK,COLON:CK,COMMA:TF,EMPTY:yi,UNDEFINED:vK}=nu(),Fy=/[\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,Iy=" ",go=`
`,wF="null",xF=t=>`${DF}:${t}`,SK=t=>`${lK}:${t}`,bK=t=>`${dK}:${t}`,EF=t=>`${fK}:${t}`,kF=t=>`${Ay}:${t}`,DK={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},TK=t=>(Fy.lastIndex=0,Fy.test(t)?t.replace(Fy,e=>{let n=DK[e];return typeof n=="string"?n:e}):t),FF=t=>`"${TK(t)}"`,wK=(t,e)=>e?`//${t}`:`/*${t}*/`,mi=(t,e,n,i)=>{let r=t[Symbol.for(e)];if(!r||!r.length)return yi;let s=!1,o=r.reduce((a,{inline:c,type:l,value:f})=>{let g=c?Iy:go+n;return s=l==="LineComment",a+g+wK(f,s)},yi);return i||s?o+go+n:o},fa=null,ou=yi,xK=()=>{fa=null,ou=yi},su=(t,e,n)=>t?e?t+e.trim()+go+n:t.trimRight()+go+n:e?e.trimRight()+go+n:yi,PF=(t,e,n)=>{let i=mi(e,DF,n+ou,!0);return su(i,t,n)},EK=(t,e)=>{let n=e+ou,{length:i}=t,r=yi,s=yi;for(let o=0;o<i;o++){o!==0&&(r+=TF);let a=su(s,mi(t,xF(o),n),n);r+=a||go+n,r+=_y(o,t,n)||wF,r+=mi(t,EF(o),n),s=mi(t,kF(o),n)}return r+=su(s,mi(t,Ay,n),n),hK+PF(r,t,e)+gK},kK=(t,e)=>{if(!t)return"null";let n=e+ou,i=yi,r=yi,s=!0,o=Ry(fa)?fa:Object.keys(t),a=c=>{let l=_y(c,t,n);if(l===vK)return;s||(i+=TF),s=!1;let f=su(r,mi(t,xF(c),n),n);i+=f||go+n,i+=FF(c)+mi(t,SK(c),n)+CK+mi(t,bK(c),n)+Iy+l+mi(t,EF(c),n),r=mi(t,kF(c),n)};return o.forEach(a),i+=su(r,mi(t,Ay,n),n),mK+PF(i,t,e)+yK};function _y(t,e,n){let i=e[t];switch(bF(i)&&Py(i.toJSON)&&(i=i.toJSON(t)),Py(fa)&&(i=fa.call(e,t,i)),typeof i){case"string":return FF(i);case"number":return Number.isFinite(i)?String(i):wF;case"boolean":case"null":return String(i);case"object":return Ry(i)?EK(i,n):kK(i,n);default:}}var FK=t=>aK(t)?t:oK(t)?cK(Iy,t):yi,{toString:PK}=Object.prototype,RK=["[object Number]","[object String]","[object Boolean]"],AK=t=>{if(typeof t!="object")return!1;let e=PK.call(t);return RK.includes(e)};RF.exports=(t,e,n)=>{let i=FK(n);if(!i)return JSON.stringify(t,e);!Py(e)&&!Ry(e)&&(e=null),fa=e,ou=i;let r=AK(t)?JSON.stringify(t):_y("",{"":t},yi);return xK(),bF(t)?mi(t,uK,yi).trimLeft()+r+mi(t,pK,yi).trimRight():r}});var _F=F((zte,IF)=>{var{parse:IK,tokenize:_K}=CF(),NK=AF(),{CommentArray:LK}=my(),{assign:OK}=nu();IF.exports={parse:IK,stringify:NK,tokenize:_K,CommentArray:LK,assign:OK}});var Ye=F(Sn=>{"use strict";var Ny=Symbol.for("yaml.alias"),NF=Symbol.for("yaml.document"),jd=Symbol.for("yaml.map"),LF=Symbol.for("yaml.pair"),Ly=Symbol.for("yaml.scalar"),Bd=Symbol.for("yaml.seq"),Wr=Symbol.for("yaml.node.type"),MK=t=>!!t&&typeof t=="object"&&t[Wr]===Ny,qK=t=>!!t&&typeof t=="object"&&t[Wr]===NF,UK=t=>!!t&&typeof t=="object"&&t[Wr]===jd,jK=t=>!!t&&typeof t=="object"&&t[Wr]===LF,OF=t=>!!t&&typeof t=="object"&&t[Wr]===Ly,BK=t=>!!t&&typeof t=="object"&&t[Wr]===Bd;function MF(t){if(t&&typeof t=="object")switch(t[Wr]){case jd:case Bd:return!0}return!1}function WK(t){if(t&&typeof t=="object")switch(t[Wr]){case Ny:case jd:case Ly:case Bd:return!0}return!1}var KK=t=>(OF(t)||MF(t))&&!!t.anchor;Sn.ALIAS=Ny;Sn.DOC=NF;Sn.MAP=jd;Sn.NODE_TYPE=Wr;Sn.PAIR=LF;Sn.SCALAR=Ly;Sn.SEQ=Bd;Sn.hasAnchor=KK;Sn.isAlias=MK;Sn.isCollection=MF;Sn.isDocument=qK;Sn.isMap=UK;Sn.isNode=WK;Sn.isPair=jK;Sn.isScalar=OF;Sn.isSeq=BK});var au=F(Oy=>{"use strict";var sn=Ye(),ti=Symbol("break visit"),qF=Symbol("skip children"),wr=Symbol("remove node");function Wd(t,e){let n=UF(e);sn.isDocument(t)?pa(null,t.contents,n,Object.freeze([t]))===wr&&(t.contents=null):pa(null,t,n,Object.freeze([]))}Wd.BREAK=ti;Wd.SKIP=qF;Wd.REMOVE=wr;function pa(t,e,n,i){let r=jF(t,e,n,i);if(sn.isNode(r)||sn.isPair(r))return BF(t,i,r),pa(t,r,n,i);if(typeof r!="symbol"){if(sn.isCollection(e)){i=Object.freeze(i.concat(e));for(let s=0;s<e.items.length;++s){let o=pa(s,e.items[s],n,i);if(typeof o=="number")s=o-1;else{if(o===ti)return ti;o===wr&&(e.items.splice(s,1),s-=1)}}}else if(sn.isPair(e)){i=Object.freeze(i.concat(e));let s=pa("key",e.key,n,i);if(s===ti)return ti;s===wr&&(e.key=null);let o=pa("value",e.value,n,i);if(o===ti)return ti;o===wr&&(e.value=null)}}return r}async function Kd(t,e){let n=UF(e);sn.isDocument(t)?await ha(null,t.contents,n,Object.freeze([t]))===wr&&(t.contents=null):await ha(null,t,n,Object.freeze([]))}Kd.BREAK=ti;Kd.SKIP=qF;Kd.REMOVE=wr;async function ha(t,e,n,i){let r=await jF(t,e,n,i);if(sn.isNode(r)||sn.isPair(r))return BF(t,i,r),ha(t,r,n,i);if(typeof r!="symbol"){if(sn.isCollection(e)){i=Object.freeze(i.concat(e));for(let s=0;s<e.items.length;++s){let o=await ha(s,e.items[s],n,i);if(typeof o=="number")s=o-1;else{if(o===ti)return ti;o===wr&&(e.items.splice(s,1),s-=1)}}}else if(sn.isPair(e)){i=Object.freeze(i.concat(e));let s=await ha("key",e.key,n,i);if(s===ti)return ti;s===wr&&(e.key=null);let o=await ha("value",e.value,n,i);if(o===ti)return ti;o===wr&&(e.value=null)}}return r}function UF(t){return typeof t=="object"&&(t.Collection||t.Node||t.Value)?Object.assign({Alias:t.Node,Map:t.Node,Scalar:t.Node,Seq:t.Node},t.Value&&{Map:t.Value,Scalar:t.Value,Seq:t.Value},t.Collection&&{Map:t.Collection,Seq:t.Collection},t):t}function jF(t,e,n,i){if(typeof n=="function")return n(t,e,i);if(sn.isMap(e))return n.Map?.(t,e,i);if(sn.isSeq(e))return n.Seq?.(t,e,i);if(sn.isPair(e))return n.Pair?.(t,e,i);if(sn.isScalar(e))return n.Scalar?.(t,e,i);if(sn.isAlias(e))return n.Alias?.(t,e,i)}function BF(t,e,n){let i=e[e.length-1];if(sn.isCollection(i))i.items[t]=n;else if(sn.isPair(i))t==="key"?i.key=n:i.value=n;else if(sn.isDocument(i))i.contents=n;else{let r=sn.isAlias(i)?"alias":"scalar";throw new Error(`Cannot replace node with ${r} parent`)}}Oy.visit=Wd;Oy.visitAsync=Kd});var My=F(KF=>{"use strict";var WF=Ye(),$K=au(),HK={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"},VK=t=>t.replace(/[!,[\]{}]/g,e=>HK[e]),cu=class t{constructor(e,n){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},t.defaultYaml,e),this.tags=Object.assign({},t.defaultTags,n)}clone(){let e=new t(this.yaml,this.tags);return e.docStart=this.docStart,e}atDocument(){let e=new t(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:t.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},t.defaultTags);break}return e}add(e,n){this.atNextDocument&&(this.yaml={explicit:t.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},t.defaultTags),this.atNextDocument=!1);let i=e.trim().split(/[ \t]+/),r=i.shift();switch(r){case"%TAG":{if(i.length!==2&&(n(0,"%TAG directive should contain exactly two parts"),i.length<2))return!1;let[s,o]=i;return this.tags[s]=o,!0}case"%YAML":{if(this.yaml.explicit=!0,i.length!==1)return n(0,"%YAML directive should contain exactly one part"),!1;let[s]=i;if(s==="1.1"||s==="1.2")return this.yaml.version=s,!0;{let o=/^\d+\.\d+$/.test(s);return n(6,`Unsupported YAML version ${s}`,o),!1}}default:return n(0,`Unknown directive ${r}`,!0),!1}}tagName(e,n){if(e==="!")return"!";if(e[0]!=="!")return n(`Not a valid tag: ${e}`),null;if(e[1]==="<"){let o=e.slice(2,-1);return o==="!"||o==="!!"?(n(`Verbatim tags aren't resolved, so ${e} is invalid.`),null):(e[e.length-1]!==">"&&n("Verbatim tags must end with a >"),o)}let[,i,r]=e.match(/^(.*!)([^!]*)$/s);r||n(`The ${e} tag has no suffix`);let s=this.tags[i];if(s)try{return s+decodeURIComponent(r)}catch(o){return n(String(o)),null}return i==="!"?e:(n(`Could not resolve tag: ${e}`),null)}tagString(e){for(let[n,i]of Object.entries(this.tags))if(e.startsWith(i))return n+VK(e.substring(i.length));return e[0]==="!"?e:`!<${e}>`}toString(e){let n=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],i=Object.entries(this.tags),r;if(e&&i.length>0&&WF.isNode(e.contents)){let s={};$K.visit(e.contents,(o,a)=>{WF.isNode(a)&&a.tag&&(s[a.tag]=!0)}),r=Object.keys(s)}else r=[];for(let[s,o]of i)s==="!!"&&o==="tag:yaml.org,2002:"||(!e||r.some(a=>a.startsWith(o)))&&n.push(`%TAG ${s} ${o}`);return n.join(`
`)}};cu.defaultYaml={explicit:!1,version:"1.2"};cu.defaultTags={"!!":"tag:yaml.org,2002:"};KF.Directives=cu});var $d=F(uu=>{"use strict";var $F=Ye(),zK=au();function GK(t){if(/[\x00-\x19\s,[\]{}]/.test(t)){let n=`Anchor must not contain whitespace or control characters: ${JSON.stringify(t)}`;throw new Error(n)}return!0}function HF(t){let e=new Set;return zK.visit(t,{Value(n,i){i.anchor&&e.add(i.anchor)}}),e}function VF(t,e){for(let n=1;;++n){let i=`${t}${n}`;if(!e.has(i))return i}}function JK(t,e){let n=[],i=new Map,r=null;return{onAnchor:s=>{n.push(s),r||(r=HF(t));let o=VF(e,r);return r.add(o),o},setAnchors:()=>{for(let s of n){let o=i.get(s);if(typeof o=="object"&&o.anchor&&($F.isScalar(o.node)||$F.isCollection(o.node)))o.node.anchor=o.anchor;else{let a=new Error("Failed to resolve repeated object (this should not happen)");throw a.source=s,a}}},sourceObjects:i}}uu.anchorIsValid=GK;uu.anchorNames=HF;uu.createNodeAnchors=JK;uu.findNewAnchor=VF});var qy=F(zF=>{"use strict";function lu(t,e,n,i){if(i&&typeof i=="object")if(Array.isArray(i))for(let r=0,s=i.length;r<s;++r){let o=i[r],a=lu(t,i,String(r),o);a===void 0?delete i[r]:a!==o&&(i[r]=a)}else if(i instanceof Map)for(let r of Array.from(i.keys())){let s=i.get(r),o=lu(t,i,r,s);o===void 0?i.delete(r):o!==s&&i.set(r,o)}else if(i instanceof Set)for(let r of Array.from(i)){let s=lu(t,i,r,r);s===void 0?i.delete(r):s!==r&&(i.delete(r),i.add(s))}else for(let[r,s]of Object.entries(i)){let o=lu(t,i,r,s);o===void 0?delete i[r]:o!==s&&(i[r]=o)}return t.call(e,n,i)}zF.applyReviver=lu});var ls=F(JF=>{"use strict";var XK=Ye();function GF(t,e,n){if(Array.isArray(t))return t.map((i,r)=>GF(i,String(r),n));if(t&&typeof t.toJSON=="function"){if(!n||!XK.hasAnchor(t))return t.toJSON(e,n);let i={aliasCount:0,count:1,res:void 0};n.anchors.set(t,i),n.onCreate=s=>{i.res=s,delete n.onCreate};let r=t.toJSON(e,n);return n.onCreate&&n.onCreate(r),r}return typeof t=="bigint"&&!n?.keep?Number(t):t}JF.toJS=GF});var Hd=F(YF=>{"use strict";var YK=qy(),XF=Ye(),QK=ls(),Uy=class{constructor(e){Object.defineProperty(this,XF.NODE_TYPE,{value:e})}clone(){let e=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(e.range=this.range.slice()),e}toJS(e,{mapAsMap:n,maxAliasCount:i,onAnchor:r,reviver:s}={}){if(!XF.isDocument(e))throw new TypeError("A document argument is required");let o={anchors:new Map,doc:e,keep:!0,mapAsMap:n===!0,mapKeyWarned:!1,maxAliasCount:typeof i=="number"?i:100},a=QK.toJS(this,"",o);if(typeof r=="function")for(let{count:c,res:l}of o.anchors.values())r(l,c);return typeof s=="function"?YK.applyReviver(s,{"":a},"",a):a}};YF.NodeBase=Uy});var du=F(ZF=>{"use strict";var ZK=$d(),QF=au(),Vd=Ye(),e$=Hd(),t$=ls(),jy=class extends e$.NodeBase{constructor(e){super(Vd.ALIAS),this.source=e,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(e){let n;return QF.visit(e,{Node:(i,r)=>{if(r===this)return QF.visit.BREAK;r.anchor===this.source&&(n=r)}}),n}toJSON(e,n){if(!n)return{source:this.source};let{anchors:i,doc:r,maxAliasCount:s}=n,o=this.resolve(r);if(!o){let c=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(c)}let a=i.get(o);if(a||(t$.toJS(o,null,n),a=i.get(o)),!a||a.res===void 0){let c="This should not happen: Alias anchor was not resolved?";throw new ReferenceError(c)}if(s>=0&&(a.count+=1,a.aliasCount===0&&(a.aliasCount=zd(r,o,i)),a.count*a.aliasCount>s)){let c="Excessive alias count indicates a resource exhaustion attack";throw new ReferenceError(c)}return a.res}toString(e,n,i){let r=`*${this.source}`;if(e){if(ZK.anchorIsValid(this.source),e.options.verifyAliasOrder&&!e.anchors.has(this.source)){let s=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(s)}if(e.implicitKey)return`${r} `}return r}};function zd(t,e,n){if(Vd.isAlias(e)){let i=e.resolve(t),r=n&&i&&n.get(i);return r?r.count*r.aliasCount:0}else if(Vd.isCollection(e)){let i=0;for(let r of e.items){let s=zd(t,r,n);s>i&&(i=s)}return i}else if(Vd.isPair(e)){let i=zd(t,e.key,n),r=zd(t,e.value,n);return Math.max(i,r)}return 1}ZF.Alias=jy});var Qt=F(By=>{"use strict";var n$=Ye(),i$=Hd(),r$=ls(),s$=t=>!t||typeof t!="function"&&typeof t!="object",ds=class extends i$.NodeBase{constructor(e){super(n$.SCALAR),this.value=e}toJSON(e,n){return n?.keep?this.value:r$.toJS(this.value,e,n)}toString(){return String(this.value)}};ds.BLOCK_FOLDED="BLOCK_FOLDED";ds.BLOCK_LITERAL="BLOCK_LITERAL";ds.PLAIN="PLAIN";ds.QUOTE_DOUBLE="QUOTE_DOUBLE";ds.QUOTE_SINGLE="QUOTE_SINGLE";By.Scalar=ds;By.isScalarValue=s$});var fu=F(tP=>{"use strict";var o$=du(),mo=Ye(),eP=Qt(),a$="tag:yaml.org,2002:";function c$(t,e,n){if(e){let i=n.filter(s=>s.tag===e),r=i.find(s=>!s.format)??i[0];if(!r)throw new Error(`Tag ${e} not found`);return r}return n.find(i=>i.identify?.(t)&&!i.format)}function u$(t,e,n){if(mo.isDocument(t)&&(t=t.contents),mo.isNode(t))return t;if(mo.isPair(t)){let g=n.schema[mo.MAP].createNode?.(n.schema,null,n);return g.items.push(t),g}(t instanceof String||t instanceof Number||t instanceof Boolean||typeof BigInt<"u"&&t instanceof BigInt)&&(t=t.valueOf());let{aliasDuplicateObjects:i,onAnchor:r,onTagObj:s,schema:o,sourceObjects:a}=n,c;if(i&&t&&typeof t=="object"){if(c=a.get(t),c)return c.anchor||(c.anchor=r(t)),new o$.Alias(c.anchor);c={anchor:null,node:null},a.set(t,c)}e?.startsWith("!!")&&(e=a$+e.slice(2));let l=c$(t,e,o.tags);if(!l){if(t&&typeof t.toJSON=="function"&&(t=t.toJSON()),!t||typeof t!="object"){let g=new eP.Scalar(t);return c&&(c.node=g),g}l=t instanceof Map?o[mo.MAP]:Symbol.iterator in Object(t)?o[mo.SEQ]:o[mo.MAP]}s&&(s(l),delete n.onTagObj);let f=l?.createNode?l.createNode(n.schema,t,n):typeof l?.nodeClass?.from=="function"?l.nodeClass.from(n.schema,t,n):new eP.Scalar(t);return e?f.tag=e:l.default||(f.tag=l.tag),c&&(c.node=f),f}tP.createNode=u$});var Jd=F(Gd=>{"use strict";var l$=fu(),xr=Ye(),d$=Hd();function Wy(t,e,n){let i=n;for(let r=e.length-1;r>=0;--r){let s=e[r];if(typeof s=="number"&&Number.isInteger(s)&&s>=0){let o=[];o[s]=i,i=o}else i=new Map([[s,i]])}return l$.createNode(i,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:t,sourceObjects:new Map})}var nP=t=>t==null||typeof t=="object"&&!!t[Symbol.iterator]().next().done,Ky=class extends d$.NodeBase{constructor(e,n){super(e),Object.defineProperty(this,"schema",{value:n,configurable:!0,enumerable:!1,writable:!0})}clone(e){let n=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return e&&(n.schema=e),n.items=n.items.map(i=>xr.isNode(i)||xr.isPair(i)?i.clone(e):i),this.range&&(n.range=this.range.slice()),n}addIn(e,n){if(nP(e))this.add(n);else{let[i,...r]=e,s=this.get(i,!0);if(xr.isCollection(s))s.addIn(r,n);else if(s===void 0&&this.schema)this.set(i,Wy(this.schema,r,n));else throw new Error(`Expected YAML collection at ${i}. Remaining path: ${r}`)}}deleteIn(e){let[n,...i]=e;if(i.length===0)return this.delete(n);let r=this.get(n,!0);if(xr.isCollection(r))return r.deleteIn(i);throw new Error(`Expected YAML collection at ${n}. Remaining path: ${i}`)}getIn(e,n){let[i,...r]=e,s=this.get(i,!0);return r.length===0?!n&&xr.isScalar(s)?s.value:s:xr.isCollection(s)?s.getIn(r,n):void 0}hasAllNullValues(e){return this.items.every(n=>{if(!xr.isPair(n))return!1;let i=n.value;return i==null||e&&xr.isScalar(i)&&i.value==null&&!i.commentBefore&&!i.comment&&!i.tag})}hasIn(e){let[n,...i]=e;if(i.length===0)return this.has(n);let r=this.get(n,!0);return xr.isCollection(r)?r.hasIn(i):!1}setIn(e,n){let[i,...r]=e;if(r.length===0)this.set(i,n);else{let s=this.get(i,!0);if(xr.isCollection(s))s.setIn(r,n);else if(s===void 0&&this.schema)this.set(i,Wy(this.schema,r,n));else throw new Error(`Expected YAML collection at ${i}. Remaining path: ${r}`)}}};Gd.Collection=Ky;Gd.collectionFromPath=Wy;Gd.isEmptyPath=nP});var pu=F(Xd=>{"use strict";var f$=t=>t.replace(/^(?!$)(?: $)?/gm,"#");function $y(t,e){return/^\n+$/.test(t)?t.substring(1):e?t.replace(/^(?! *$)/gm,e):t}var p$=(t,e,n)=>t.endsWith(`
`)?$y(n,e):n.includes(`
`)?`
`+$y(n,e):(t.endsWith(" ")?"":" ")+n;Xd.indentComment=$y;Xd.lineComment=p$;Xd.stringifyComment=f$});var rP=F(hu=>{"use strict";var h$="flow",Hy="block",Yd="quoted";function g$(t,e,n="flow",{indentAtStart:i,lineWidth:r=80,minContentWidth:s=20,onFold:o,onOverflow:a}={}){if(!r||r<0)return t;r<s&&(s=0);let c=Math.max(1+s,1+r-e.length);if(t.length<=c)return t;let l=[],f={},g=r-e.length;typeof i=="number"&&(i>r-Math.max(2,s)?l.push(0):g=r-i);let p,u,d=!1,h=-1,m=-1,C=-1;n===Hy&&(h=iP(t,h,e.length),h!==-1&&(g=h+c));for(let w;w=t[h+=1];){if(n===Yd&&w==="\\"){switch(m=h,t[h+1]){case"x":h+=3;break;case"u":h+=5;break;case"U":h+=9;break;default:h+=1}C=h}if(w===`
`)n===Hy&&(h=iP(t,h,e.length)),g=h+e.length+c,p=void 0;else{if(w===" "&&u&&u!==" "&&u!==`
`&&u!=="	"){let k=t[h+1];k&&k!==" "&&k!==`
`&&k!=="	"&&(p=h)}if(h>=g)if(p)l.push(p),g=p+c,p=void 0;else if(n===Yd){for(;u===" "||u==="	";)u=w,w=t[h+=1],d=!0;let k=h>C+1?h-2:m-1;if(f[k])return t;l.push(k),f[k]=!0,g=k+c,p=void 0}else d=!0}u=w}if(d&&a&&a(),l.length===0)return t;o&&o();let D=t.slice(0,l[0]);for(let w=0;w<l.length;++w){let k=l[w],I=l[w+1]||t.length;k===0?D=`
${e}${t.slice(0,I)}`:(n===Yd&&f[k]&&(D+=`${t[k]}\\`),D+=`
${e}${t.slice(k+1,I)}`)}return D}function iP(t,e,n){let i=e,r=e+1,s=t[r];for(;s===" "||s==="	";)if(e<r+n)s=t[++e];else{do s=t[++e];while(s&&s!==`
`);i=e,r=e+1,s=t[r]}return i}hu.FOLD_BLOCK=Hy;hu.FOLD_FLOW=h$;hu.FOLD_QUOTED=Yd;hu.foldFlowLines=g$});var mu=F(sP=>{"use strict";var Qi=Qt(),fs=rP(),Zd=(t,e)=>({indentAtStart:e?t.indent.length:t.indentAtStart,lineWidth:t.options.lineWidth,minContentWidth:t.options.minContentWidth}),ef=t=>/^(%|---|\.\.\.)/m.test(t);function m$(t,e,n){if(!e||e<0)return!1;let i=e-n,r=t.length;if(r<=i)return!1;for(let s=0,o=0;s<r;++s)if(t[s]===`
`){if(s-o>i)return!0;if(o=s+1,r-o<=i)return!1}return!0}function gu(t,e){let n=JSON.stringify(t);if(e.options.doubleQuotedAsJSON)return n;let{implicitKey:i}=e,r=e.options.doubleQuotedMinMultiLineLength,s=e.indent||(ef(t)?"  ":""),o="",a=0;for(let c=0,l=n[c];l;l=n[++c])if(l===" "&&n[c+1]==="\\"&&n[c+2]==="n"&&(o+=n.slice(a,c)+"\\ ",c+=1,a=c,l="\\"),l==="\\")switch(n[c+1]){case"u":{o+=n.slice(a,c);let f=n.substr(c+2,4);switch(f){case"0000":o+="\\0";break;case"0007":o+="\\a";break;case"000b":o+="\\v";break;case"001b":o+="\\e";break;case"0085":o+="\\N";break;case"00a0":o+="\\_";break;case"2028":o+="\\L";break;case"2029":o+="\\P";break;default:f.substr(0,2)==="00"?o+="\\x"+f.substr(2):o+=n.substr(c,6)}c+=5,a=c+1}break;case"n":if(i||n[c+2]==='"'||n.length<r)c+=1;else{for(o+=n.slice(a,c)+`

`;n[c+2]==="\\"&&n[c+3]==="n"&&n[c+4]!=='"';)o+=`
`,c+=2;o+=s,n[c+2]===" "&&(o+="\\"),c+=1,a=c+1}break;default:c+=1}return o=a?o+n.slice(a):n,i?o:fs.foldFlowLines(o,s,fs.FOLD_QUOTED,Zd(e,!1))}function Vy(t,e){if(e.options.singleQuote===!1||e.implicitKey&&t.includes(`
`)||/[ \t]\n|\n[ \t]/.test(t))return gu(t,e);let n=e.indent||(ef(t)?"  ":""),i="'"+t.replace(/'/g,"''").replace(/\n+/g,`$&
${n}`)+"'";return e.implicitKey?i:fs.foldFlowLines(i,n,fs.FOLD_FLOW,Zd(e,!1))}function ga(t,e){let{singleQuote:n}=e.options,i;if(n===!1)i=gu;else{let r=t.includes('"'),s=t.includes("'");r&&!s?i=Vy:s&&!r?i=gu:i=n?Vy:gu}return i(t,e)}var zy;try{zy=new RegExp(`(^|(?<!
))
+(?!
|$)`,"g")}catch{zy=/\n+(?!\n|$)/g}function Qd({comment:t,type:e,value:n},i,r,s){let{blockQuote:o,commentString:a,lineWidth:c}=i.options;if(!o||/\n[\t ]+$/.test(n)||/^\s*$/.test(n))return ga(n,i);let l=i.indent||(i.forceBlockIndent||ef(n)?"  ":""),f=o==="literal"?!0:o==="folded"||e===Qi.Scalar.BLOCK_FOLDED?!1:e===Qi.Scalar.BLOCK_LITERAL?!0:!m$(n,c,l.length);if(!n)return f?`|
`:`>
`;let g,p;for(p=n.length;p>0;--p){let I=n[p-1];if(I!==`
`&&I!=="	"&&I!==" ")break}let u=n.substring(p),d=u.indexOf(`
`);d===-1?g="-":n===u||d!==u.length-1?(g="+",s&&s()):g="",u&&(n=n.slice(0,-u.length),u[u.length-1]===`
`&&(u=u.slice(0,-1)),u=u.replace(zy,`$&${l}`));let h=!1,m,C=-1;for(m=0;m<n.length;++m){let I=n[m];if(I===" ")h=!0;else if(I===`
`)C=m;else break}let D=n.substring(0,C<m?C+1:m);D&&(n=n.substring(D.length),D=D.replace(/\n+/g,`$&${l}`));let k=(h?l?"2":"1":"")+g;if(t&&(k+=" "+a(t.replace(/ ?[\r\n]+/g," ")),r&&r()),!f){let I=n.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${l}`),B=!1,W=Zd(i,!0);o!=="folded"&&e!==Qi.Scalar.BLOCK_FOLDED&&(W.onOverflow=()=>{B=!0});let j=fs.foldFlowLines(`${D}${I}${u}`,l,fs.FOLD_BLOCK,W);if(!B)return`>${k}
${l}${j}`}return n=n.replace(/\n+/g,`$&${l}`),`|${k}
${l}${D}${n}${u}`}function y$(t,e,n,i){let{type:r,value:s}=t,{actualString:o,implicitKey:a,indent:c,indentStep:l,inFlow:f}=e;if(a&&s.includes(`
`)||f&&/[[\]{},]/.test(s))return ga(s,e);if(!s||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(s))return a||f||!s.includes(`
`)?ga(s,e):Qd(t,e,n,i);if(!a&&!f&&r!==Qi.Scalar.PLAIN&&s.includes(`
`))return Qd(t,e,n,i);if(ef(s)){if(c==="")return e.forceBlockIndent=!0,Qd(t,e,n,i);if(a&&c===l)return ga(s,e)}let g=s.replace(/\n+/g,`$&
${c}`);if(o){let p=h=>h.default&&h.tag!=="tag:yaml.org,2002:str"&&h.test?.test(g),{compat:u,tags:d}=e.doc.schema;if(d.some(p)||u?.some(p))return ga(s,e)}return a?g:fs.foldFlowLines(g,c,fs.FOLD_FLOW,Zd(e,!1))}function C$(t,e,n,i){let{implicitKey:r,inFlow:s}=e,o=typeof t.value=="string"?t:Object.assign({},t,{value:String(t.value)}),{type:a}=t;a!==Qi.Scalar.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(o.value)&&(a=Qi.Scalar.QUOTE_DOUBLE);let c=f=>{switch(f){case Qi.Scalar.BLOCK_FOLDED:case Qi.Scalar.BLOCK_LITERAL:return r||s?ga(o.value,e):Qd(o,e,n,i);case Qi.Scalar.QUOTE_DOUBLE:return gu(o.value,e);case Qi.Scalar.QUOTE_SINGLE:return Vy(o.value,e);case Qi.Scalar.PLAIN:return y$(o,e,n,i);default:return null}},l=c(a);if(l===null){let{defaultKeyType:f,defaultStringType:g}=e.options,p=r&&f||g;if(l=c(p),l===null)throw new Error(`Unsupported default string type ${p}`)}return l}sP.stringifyString=C$});var yu=F(Gy=>{"use strict";var v$=$d(),ps=Ye(),S$=pu(),b$=mu();function D$(t,e){let n=Object.assign({blockQuote:!0,commentString:S$.stringifyComment,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},t.schema.toStringOptions,e),i;switch(n.collectionStyle){case"block":i=!1;break;case"flow":i=!0;break;default:i=null}return{anchors:new Set,doc:t,flowCollectionPadding:n.flowCollectionPadding?" ":"",indent:"",indentStep:typeof n.indent=="number"?" ".repeat(n.indent):"  ",inFlow:i,options:n}}function T$(t,e){if(e.tag){let r=t.filter(s=>s.tag===e.tag);if(r.length>0)return r.find(s=>s.format===e.format)??r[0]}let n,i;if(ps.isScalar(e)){i=e.value;let r=t.filter(s=>s.identify?.(i));if(r.length>1){let s=r.filter(o=>o.test);s.length>0&&(r=s)}n=r.find(s=>s.format===e.format)??r.find(s=>!s.format)}else i=e,n=t.find(r=>r.nodeClass&&i instanceof r.nodeClass);if(!n){let r=i?.constructor?.name??typeof i;throw new Error(`Tag not resolved for ${r} value`)}return n}function w$(t,e,{anchors:n,doc:i}){if(!i.directives)return"";let r=[],s=(ps.isScalar(t)||ps.isCollection(t))&&t.anchor;s&&v$.anchorIsValid(s)&&(n.add(s),r.push(`&${s}`));let o=t.tag?t.tag:e.default?null:e.tag;return o&&r.push(i.directives.tagString(o)),r.join(" ")}function x$(t,e,n,i){if(ps.isPair(t))return t.toString(e,n,i);if(ps.isAlias(t)){if(e.doc.directives)return t.toString(e);if(e.resolvedAliases?.has(t))throw new TypeError("Cannot stringify circular structure without alias nodes");e.resolvedAliases?e.resolvedAliases.add(t):e.resolvedAliases=new Set([t]),t=t.resolve(e.doc)}let r,s=ps.isNode(t)?t:e.doc.createNode(t,{onTagObj:c=>r=c});r||(r=T$(e.doc.schema.tags,s));let o=w$(s,r,e);o.length>0&&(e.indentAtStart=(e.indentAtStart??0)+o.length+1);let a=typeof r.stringify=="function"?r.stringify(s,e,n,i):ps.isScalar(s)?b$.stringifyString(s,e,n,i):s.toString(e,n,i);return o?ps.isScalar(s)||a[0]==="{"||a[0]==="["?`${o} ${a}`:`${o}
${e.indent}${a}`:a}Gy.createStringifyContext=D$;Gy.stringify=x$});var uP=F(cP=>{"use strict";var Kr=Ye(),oP=Qt(),aP=yu(),Cu=pu();function E$({key:t,value:e},n,i,r){let{allNullValues:s,doc:o,indent:a,indentStep:c,options:{commentString:l,indentSeq:f,simpleKeys:g}}=n,p=Kr.isNode(t)&&t.comment||null;if(g){if(p)throw new Error("With simple keys, key nodes cannot have comments");if(Kr.isCollection(t)||!Kr.isNode(t)&&typeof t=="object"){let W="With simple keys, collection cannot be used as a key value";throw new Error(W)}}let u=!g&&(!t||p&&e==null&&!n.inFlow||Kr.isCollection(t)||(Kr.isScalar(t)?t.type===oP.Scalar.BLOCK_FOLDED||t.type===oP.Scalar.BLOCK_LITERAL:typeof t=="object"));n=Object.assign({},n,{allNullValues:!1,implicitKey:!u&&(g||!s),indent:a+c});let d=!1,h=!1,m=aP.stringify(t,n,()=>d=!0,()=>h=!0);if(!u&&!n.inFlow&&m.length>1024){if(g)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");u=!0}if(n.inFlow){if(s||e==null)return d&&i&&i(),m===""?"?":u?`? ${m}`:m}else if(s&&!g||e==null&&u)return m=`? ${m}`,p&&!d?m+=Cu.lineComment(m,n.indent,l(p)):h&&r&&r(),m;d&&(p=null),u?(p&&(m+=Cu.lineComment(m,n.indent,l(p))),m=`? ${m}
${a}:`):(m=`${m}:`,p&&(m+=Cu.lineComment(m,n.indent,l(p))));let C,D,w;Kr.isNode(e)?(C=!!e.spaceBefore,D=e.commentBefore,w=e.comment):(C=!1,D=null,w=null,e&&typeof e=="object"&&(e=o.createNode(e))),n.implicitKey=!1,!u&&!p&&Kr.isScalar(e)&&(n.indentAtStart=m.length+1),h=!1,!f&&c.length>=2&&!n.inFlow&&!u&&Kr.isSeq(e)&&!e.flow&&!e.tag&&!e.anchor&&(n.indent=n.indent.substring(2));let k=!1,I=aP.stringify(e,n,()=>k=!0,()=>h=!0),B=" ";if(p||C||D){if(B=C?`
`:"",D){let W=l(D);B+=`
${Cu.indentComment(W,n.indent)}`}I===""&&!n.inFlow?B===`
`&&(B=`

`):B+=`
${n.indent}`}else if(!u&&Kr.isCollection(e)){let W=I[0],j=I.indexOf(`
`),ie=j!==-1,ne=n.inFlow??e.flow??e.items.length===0;if(ie||!ne){let H=!1;if(ie&&(W==="&"||W==="!")){let N=I.indexOf(" ");W==="&"&&N!==-1&&N<j&&I[N+1]==="!"&&(N=I.indexOf(" ",N+1)),(N===-1||j<N)&&(H=!0)}H||(B=`
${n.indent}`)}}else(I===""||I[0]===`
`)&&(B="");return m+=B+I,n.inFlow?k&&i&&i():w&&!k?m+=Cu.lineComment(m,n.indent,l(w)):h&&r&&r(),m}cP.stringifyPair=E$});var Xy=F(Jy=>{"use strict";var lP=require("node:process");function k$(t,...e){t==="debug"&&console.log(...e)}function F$(t,e){(t==="debug"||t==="warn")&&(typeof lP.emitWarning=="function"?lP.emitWarning(e):console.warn(e))}Jy.debug=k$;Jy.warn=F$});var sf=F(rf=>{"use strict";var vu=Ye(),dP=Qt(),tf="<<",nf={identify:t=>t===tf||typeof t=="symbol"&&t.description===tf,default:"key",tag:"tag:yaml.org,2002:merge",test:/^<<$/,resolve:()=>Object.assign(new dP.Scalar(Symbol(tf)),{addToJSMap:fP}),stringify:()=>tf},P$=(t,e)=>(nf.identify(e)||vu.isScalar(e)&&(!e.type||e.type===dP.Scalar.PLAIN)&&nf.identify(e.value))&&t?.doc.schema.tags.some(n=>n.tag===nf.tag&&n.default);function fP(t,e,n){if(n=t&&vu.isAlias(n)?n.resolve(t.doc):n,vu.isSeq(n))for(let i of n.items)Yy(t,e,i);else if(Array.isArray(n))for(let i of n)Yy(t,e,i);else Yy(t,e,n)}function Yy(t,e,n){let i=t&&vu.isAlias(n)?n.resolve(t.doc):n;if(!vu.isMap(i))throw new Error("Merge sources must be maps or map aliases");let r=i.toJSON(null,t,Map);for(let[s,o]of r)e instanceof Map?e.has(s)||e.set(s,o):e instanceof Set?e.add(s):Object.prototype.hasOwnProperty.call(e,s)||Object.defineProperty(e,s,{value:o,writable:!0,enumerable:!0,configurable:!0});return e}rf.addMergeToJSMap=fP;rf.isMergeKey=P$;rf.merge=nf});var Zy=F(gP=>{"use strict";var R$=Xy(),pP=sf(),A$=yu(),hP=Ye(),Qy=ls();function I$(t,e,{key:n,value:i}){if(hP.isNode(n)&&n.addToJSMap)n.addToJSMap(t,e,i);else if(pP.isMergeKey(t,n))pP.addMergeToJSMap(t,e,i);else{let r=Qy.toJS(n,"",t);if(e instanceof Map)e.set(r,Qy.toJS(i,r,t));else if(e instanceof Set)e.add(r);else{let s=_$(n,r,t),o=Qy.toJS(i,s,t);s in e?Object.defineProperty(e,s,{value:o,writable:!0,enumerable:!0,configurable:!0}):e[s]=o}}return e}function _$(t,e,n){if(e===null)return"";if(typeof e!="object")return String(e);if(hP.isNode(t)&&n?.doc){let i=A$.createStringifyContext(n.doc,{});i.anchors=new Set;for(let s of n.anchors.keys())i.anchors.add(s.anchor);i.inFlow=!0,i.inStringifyKey=!0;let r=t.toString(i);if(!n.mapKeyWarned){let s=JSON.stringify(r);s.length>40&&(s=s.substring(0,36)+'..."'),R$.warn(n.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${s}. Set mapAsMap: true to use object keys.`),n.mapKeyWarned=!0}return r}return JSON.stringify(e)}gP.addPairToJSMap=I$});var hs=F(eC=>{"use strict";var mP=fu(),N$=uP(),L$=Zy(),of=Ye();function O$(t,e,n){let i=mP.createNode(t,void 0,n),r=mP.createNode(e,void 0,n);return new af(i,r)}var af=class t{constructor(e,n=null){Object.defineProperty(this,of.NODE_TYPE,{value:of.PAIR}),this.key=e,this.value=n}clone(e){let{key:n,value:i}=this;return of.isNode(n)&&(n=n.clone(e)),of.isNode(i)&&(i=i.clone(e)),new t(n,i)}toJSON(e,n){let i=n?.mapAsMap?new Map:{};return L$.addPairToJSMap(n,i,this)}toString(e,n,i){return e?.doc?N$.stringifyPair(this,e,n,i):JSON.stringify(this)}};eC.Pair=af;eC.createPair=O$});var tC=F(CP=>{"use strict";var yo=Ye(),yP=yu(),cf=pu();function M$(t,e,n){return(e.inFlow??t.flow?U$:q$)(t,e,n)}function q$({comment:t,items:e},n,{blockItemPrefix:i,flowChars:r,itemIndent:s,onChompKeep:o,onComment:a}){let{indent:c,options:{commentString:l}}=n,f=Object.assign({},n,{indent:s,type:null}),g=!1,p=[];for(let d=0;d<e.length;++d){let h=e[d],m=null;if(yo.isNode(h))!g&&h.spaceBefore&&p.push(""),uf(n,p,h.commentBefore,g),h.comment&&(m=h.comment);else if(yo.isPair(h)){let D=yo.isNode(h.key)?h.key:null;D&&(!g&&D.spaceBefore&&p.push(""),uf(n,p,D.commentBefore,g))}g=!1;let C=yP.stringify(h,f,()=>m=null,()=>g=!0);m&&(C+=cf.lineComment(C,s,l(m))),g&&m&&(g=!1),p.push(i+C)}let u;if(p.length===0)u=r.start+r.end;else{u=p[0];for(let d=1;d<p.length;++d){let h=p[d];u+=h?`
${c}${h}`:`
`}}return t?(u+=`
`+cf.indentComment(l(t),c),a&&a()):g&&o&&o(),u}function U$({items:t},e,{flowChars:n,itemIndent:i}){let{indent:r,indentStep:s,flowCollectionPadding:o,options:{commentString:a}}=e;i+=s;let c=Object.assign({},e,{indent:i,inFlow:!0,type:null}),l=!1,f=0,g=[];for(let d=0;d<t.length;++d){let h=t[d],m=null;if(yo.isNode(h))h.spaceBefore&&g.push(""),uf(e,g,h.commentBefore,!1),h.comment&&(m=h.comment);else if(yo.isPair(h)){let D=yo.isNode(h.key)?h.key:null;D&&(D.spaceBefore&&g.push(""),uf(e,g,D.commentBefore,!1),D.comment&&(l=!0));let w=yo.isNode(h.value)?h.value:null;w?(w.comment&&(m=w.comment),w.commentBefore&&(l=!0)):h.value==null&&D?.comment&&(m=D.comment)}m&&(l=!0);let C=yP.stringify(h,c,()=>m=null);d<t.length-1&&(C+=","),m&&(C+=cf.lineComment(C,i,a(m))),!l&&(g.length>f||C.includes(`
`))&&(l=!0),g.push(C),f=g.length}let{start:p,end:u}=n;if(g.length===0)return p+u;if(!l){let d=g.reduce((h,m)=>h+m.length+2,2);l=e.options.lineWidth>0&&d>e.options.lineWidth}if(l){let d=p;for(let h of g)d+=h?`
${s}${r}${h}`:`
`;return`${d}
${r}${u}`}else return`${p}${o}${g.join(" ")}${o}${u}`}function uf({indent:t,options:{commentString:e}},n,i,r){if(i&&r&&(i=i.replace(/^\n+/,"")),i){let s=cf.indentComment(e(i),t);n.push(s.trimStart())}}CP.stringifyCollection=M$});var ms=F(iC=>{"use strict";var j$=tC(),B$=Zy(),W$=Jd(),gs=Ye(),lf=hs(),K$=Qt();function Su(t,e){let n=gs.isScalar(e)?e.value:e;for(let i of t)if(gs.isPair(i)&&(i.key===e||i.key===n||gs.isScalar(i.key)&&i.key.value===n))return i}var nC=class extends W$.Collection{static get tagName(){return"tag:yaml.org,2002:map"}constructor(e){super(gs.MAP,e),this.items=[]}static from(e,n,i){let{keepUndefined:r,replacer:s}=i,o=new this(e),a=(c,l)=>{if(typeof s=="function")l=s.call(n,c,l);else if(Array.isArray(s)&&!s.includes(c))return;(l!==void 0||r)&&o.items.push(lf.createPair(c,l,i))};if(n instanceof Map)for(let[c,l]of n)a(c,l);else if(n&&typeof n=="object")for(let c of Object.keys(n))a(c,n[c]);return typeof e.sortMapEntries=="function"&&o.items.sort(e.sortMapEntries),o}add(e,n){let i;gs.isPair(e)?i=e:!e||typeof e!="object"||!("key"in e)?i=new lf.Pair(e,e?.value):i=new lf.Pair(e.key,e.value);let r=Su(this.items,i.key),s=this.schema?.sortMapEntries;if(r){if(!n)throw new Error(`Key ${i.key} already set`);gs.isScalar(r.value)&&K$.isScalarValue(i.value)?r.value.value=i.value:r.value=i.value}else if(s){let o=this.items.findIndex(a=>s(i,a)<0);o===-1?this.items.push(i):this.items.splice(o,0,i)}else this.items.push(i)}delete(e){let n=Su(this.items,e);return n?this.items.splice(this.items.indexOf(n),1).length>0:!1}get(e,n){let r=Su(this.items,e)?.value;return(!n&&gs.isScalar(r)?r.value:r)??void 0}has(e){return!!Su(this.items,e)}set(e,n){this.add(new lf.Pair(e,n),!0)}toJSON(e,n,i){let r=i?new i:n?.mapAsMap?new Map:{};n?.onCreate&&n.onCreate(r);for(let s of this.items)B$.addPairToJSMap(n,r,s);return r}toString(e,n,i){if(!e)return JSON.stringify(this);for(let r of this.items)if(!gs.isPair(r))throw new Error(`Map items must all be pairs; found ${JSON.stringify(r)} instead`);return!e.allNullValues&&this.hasAllNullValues(!1)&&(e=Object.assign({},e,{allNullValues:!0})),j$.stringifyCollection(this,e,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:e.indent||"",onChompKeep:i,onComment:n})}};iC.YAMLMap=nC;iC.findPair=Su});var ma=F(SP=>{"use strict";var $$=Ye(),vP=ms(),H$={collection:"map",default:!0,nodeClass:vP.YAMLMap,tag:"tag:yaml.org,2002:map",resolve(t,e){return $$.isMap(t)||e("Expected a mapping for this tag"),t},createNode:(t,e,n)=>vP.YAMLMap.from(t,e,n)};SP.map=H$});var ys=F(bP=>{"use strict";var V$=fu(),z$=tC(),G$=Jd(),ff=Ye(),J$=Qt(),X$=ls(),rC=class extends G$.Collection{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(e){super(ff.SEQ,e),this.items=[]}add(e){this.items.push(e)}delete(e){let n=df(e);return typeof n!="number"?!1:this.items.splice(n,1).length>0}get(e,n){let i=df(e);if(typeof i!="number")return;let r=this.items[i];return!n&&ff.isScalar(r)?r.value:r}has(e){let n=df(e);return typeof n=="number"&&n<this.items.length}set(e,n){let i=df(e);if(typeof i!="number")throw new Error(`Expected a valid index, not ${e}.`);let r=this.items[i];ff.isScalar(r)&&J$.isScalarValue(n)?r.value=n:this.items[i]=n}toJSON(e,n){let i=[];n?.onCreate&&n.onCreate(i);let r=0;for(let s of this.items)i.push(X$.toJS(s,String(r++),n));return i}toString(e,n,i){return e?z$.stringifyCollection(this,e,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(e.indent||"")+"  ",onChompKeep:i,onComment:n}):JSON.stringify(this)}static from(e,n,i){let{replacer:r}=i,s=new this(e);if(n&&Symbol.iterator in Object(n)){let o=0;for(let a of n){if(typeof r=="function"){let c=n instanceof Set?a:String(o++);a=r.call(n,c,a)}s.items.push(V$.createNode(a,void 0,i))}}return s}};function df(t){let e=ff.isScalar(t)?t.value:t;return e&&typeof e=="string"&&(e=Number(e)),typeof e=="number"&&Number.isInteger(e)&&e>=0?e:null}bP.YAMLSeq=rC});var ya=F(TP=>{"use strict";var Y$=Ye(),DP=ys(),Q$={collection:"seq",default:!0,nodeClass:DP.YAMLSeq,tag:"tag:yaml.org,2002:seq",resolve(t,e){return Y$.isSeq(t)||e("Expected a sequence for this tag"),t},createNode:(t,e,n)=>DP.YAMLSeq.from(t,e,n)};TP.seq=Q$});var bu=F(wP=>{"use strict";var Z$=mu(),e3={identify:t=>typeof t=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:t=>t,stringify(t,e,n,i){return e=Object.assign({actualString:!0},e),Z$.stringifyString(t,e,n,i)}};wP.string=e3});var pf=F(kP=>{"use strict";var xP=Qt(),EP={identify:t=>t==null,createNode:()=>new xP.Scalar(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new xP.Scalar(null),stringify:({source:t},e)=>typeof t=="string"&&EP.test.test(t)?t:e.options.nullStr};kP.nullTag=EP});var sC=F(PP=>{"use strict";var t3=Qt(),FP={identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:t=>new t3.Scalar(t[0]==="t"||t[0]==="T"),stringify({source:t,value:e},n){if(t&&FP.test.test(t)){let i=t[0]==="t"||t[0]==="T";if(e===i)return t}return e?n.options.trueStr:n.options.falseStr}};PP.boolTag=FP});var Ca=F(RP=>{"use strict";function n3({format:t,minFractionDigits:e,tag:n,value:i}){if(typeof i=="bigint")return String(i);let r=typeof i=="number"?i:Number(i);if(!isFinite(r))return isNaN(r)?".nan":r<0?"-.inf":".inf";let s=JSON.stringify(i);if(!t&&e&&(!n||n==="tag:yaml.org,2002:float")&&/^\d/.test(s)){let o=s.indexOf(".");o<0&&(o=s.length,s+=".");let a=e-(s.length-o-1);for(;a-- >0;)s+="0"}return s}RP.stringifyNumber=n3});var aC=F(hf=>{"use strict";var i3=Qt(),oC=Ca(),r3={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:t=>t.slice(-3).toLowerCase()==="nan"?NaN:t[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:oC.stringifyNumber},s3={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:t=>parseFloat(t),stringify(t){let e=Number(t.value);return isFinite(e)?e.toExponential():oC.stringifyNumber(t)}},o3={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(t){let e=new i3.Scalar(parseFloat(t)),n=t.indexOf(".");return n!==-1&&t[t.length-1]==="0"&&(e.minFractionDigits=t.length-n-1),e},stringify:oC.stringifyNumber};hf.float=o3;hf.floatExp=s3;hf.floatNaN=r3});var uC=F(mf=>{"use strict";var AP=Ca(),gf=t=>typeof t=="bigint"||Number.isInteger(t),cC=(t,e,n,{intAsBigInt:i})=>i?BigInt(t):parseInt(t.substring(e),n);function IP(t,e,n){let{value:i}=t;return gf(i)&&i>=0?n+i.toString(e):AP.stringifyNumber(t)}var a3={identify:t=>gf(t)&&t>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(t,e,n)=>cC(t,2,8,n),stringify:t=>IP(t,8,"0o")},c3={identify:gf,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(t,e,n)=>cC(t,0,10,n),stringify:AP.stringifyNumber},u3={identify:t=>gf(t)&&t>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(t,e,n)=>cC(t,2,16,n),stringify:t=>IP(t,16,"0x")};mf.int=c3;mf.intHex=u3;mf.intOct=a3});var NP=F(_P=>{"use strict";var l3=ma(),d3=pf(),f3=ya(),p3=bu(),h3=sC(),lC=aC(),dC=uC(),g3=[l3.map,f3.seq,p3.string,d3.nullTag,h3.boolTag,dC.intOct,dC.int,dC.intHex,lC.floatNaN,lC.floatExp,lC.float];_P.schema=g3});var MP=F(OP=>{"use strict";var m3=Qt(),y3=ma(),C3=ya();function LP(t){return typeof t=="bigint"||Number.isInteger(t)}var yf=({value:t})=>JSON.stringify(t),v3=[{identify:t=>typeof t=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:t=>t,stringify:yf},{identify:t=>t==null,createNode:()=>new m3.Scalar(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:yf},{identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true$|^false$/,resolve:t=>t==="true",stringify:yf},{identify:LP,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(t,e,{intAsBigInt:n})=>n?BigInt(t):parseInt(t,10),stringify:({value:t})=>LP(t)?t.toString():JSON.stringify(t)},{identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:t=>parseFloat(t),stringify:yf}],S3={default:!0,tag:"",test:/^/,resolve(t,e){return e(`Unresolved plain scalar ${JSON.stringify(t)}`),t}},b3=[y3.map,C3.seq].concat(v3,S3);OP.schema=b3});var pC=F(qP=>{"use strict";var Du=require("node:buffer"),fC=Qt(),D3=mu(),T3={identify:t=>t instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(t,e){if(typeof Du.Buffer=="function")return Du.Buffer.from(t,"base64");if(typeof atob=="function"){let n=atob(t.replace(/[\n\r]/g,"")),i=new Uint8Array(n.length);for(let r=0;r<n.length;++r)i[r]=n.charCodeAt(r);return i}else return e("This environment does not support reading binary tags; either Buffer or atob is required"),t},stringify({comment:t,type:e,value:n},i,r,s){if(!n)return"";let o=n,a;if(typeof Du.Buffer=="function")a=o instanceof Du.Buffer?o.toString("base64"):Du.Buffer.from(o.buffer).toString("base64");else if(typeof btoa=="function"){let c="";for(let l=0;l<o.length;++l)c+=String.fromCharCode(o[l]);a=btoa(c)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(e||(e=fC.Scalar.BLOCK_LITERAL),e!==fC.Scalar.QUOTE_DOUBLE){let c=Math.max(i.options.lineWidth-i.indent.length,i.options.minContentWidth),l=Math.ceil(a.length/c),f=new Array(l);for(let g=0,p=0;g<l;++g,p+=c)f[g]=a.substr(p,c);a=f.join(e===fC.Scalar.BLOCK_LITERAL?`
`:" ")}return D3.stringifyString({comment:t,type:e,value:a},i,r,s)}};qP.binary=T3});var Sf=F(vf=>{"use strict";var Cf=Ye(),hC=hs(),w3=Qt(),x3=ys();function UP(t,e){if(Cf.isSeq(t))for(let n=0;n<t.items.length;++n){let i=t.items[n];if(!Cf.isPair(i)){if(Cf.isMap(i)){i.items.length>1&&e("Each pair must have its own sequence indicator");let r=i.items[0]||new hC.Pair(new w3.Scalar(null));if(i.commentBefore&&(r.key.commentBefore=r.key.commentBefore?`${i.commentBefore}
${r.key.commentBefore}`:i.commentBefore),i.comment){let s=r.value??r.key;s.comment=s.comment?`${i.comment}
${s.comment}`:i.comment}i=r}t.items[n]=Cf.isPair(i)?i:new hC.Pair(i)}}else e("Expected a sequence for this tag");return t}function jP(t,e,n){let{replacer:i}=n,r=new x3.YAMLSeq(t);r.tag="tag:yaml.org,2002:pairs";let s=0;if(e&&Symbol.iterator in Object(e))for(let o of e){typeof i=="function"&&(o=i.call(e,String(s++),o));let a,c;if(Array.isArray(o))if(o.length===2)a=o[0],c=o[1];else throw new TypeError(`Expected [key, value] tuple: ${o}`);else if(o&&o instanceof Object){let l=Object.keys(o);if(l.length===1)a=l[0],c=o[a];else throw new TypeError(`Expected tuple with one key, not ${l.length} keys`)}else a=o;r.items.push(hC.createPair(a,c,n))}return r}var E3={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:UP,createNode:jP};vf.createPairs=jP;vf.pairs=E3;vf.resolvePairs=UP});var yC=F(mC=>{"use strict";var BP=Ye(),gC=ls(),Tu=ms(),k3=ys(),WP=Sf(),Co=class t extends k3.YAMLSeq{constructor(){super(),this.add=Tu.YAMLMap.prototype.add.bind(this),this.delete=Tu.YAMLMap.prototype.delete.bind(this),this.get=Tu.YAMLMap.prototype.get.bind(this),this.has=Tu.YAMLMap.prototype.has.bind(this),this.set=Tu.YAMLMap.prototype.set.bind(this),this.tag=t.tag}toJSON(e,n){if(!n)return super.toJSON(e);let i=new Map;n?.onCreate&&n.onCreate(i);for(let r of this.items){let s,o;if(BP.isPair(r)?(s=gC.toJS(r.key,"",n),o=gC.toJS(r.value,s,n)):s=gC.toJS(r,"",n),i.has(s))throw new Error("Ordered maps must not include duplicate keys");i.set(s,o)}return i}static from(e,n,i){let r=WP.createPairs(e,n,i),s=new this;return s.items=r.items,s}};Co.tag="tag:yaml.org,2002:omap";var F3={collection:"seq",identify:t=>t instanceof Map,nodeClass:Co,default:!1,tag:"tag:yaml.org,2002:omap",resolve(t,e){let n=WP.resolvePairs(t,e),i=[];for(let{key:r}of n.items)BP.isScalar(r)&&(i.includes(r.value)?e(`Ordered maps must not include duplicate keys: ${r.value}`):i.push(r.value));return Object.assign(new Co,n)},createNode:(t,e,n)=>Co.from(t,e,n)};mC.YAMLOMap=Co;mC.omap=F3});var zP=F(CC=>{"use strict";var KP=Qt();function $P({value:t,source:e},n){return e&&(t?HP:VP).test.test(e)?e:t?n.options.trueStr:n.options.falseStr}var HP={identify:t=>t===!0,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new KP.Scalar(!0),stringify:$P},VP={identify:t=>t===!1,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/,resolve:()=>new KP.Scalar(!1),stringify:$P};CC.falseTag=VP;CC.trueTag=HP});var GP=F(bf=>{"use strict";var P3=Qt(),vC=Ca(),R3={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:t=>t.slice(-3).toLowerCase()==="nan"?NaN:t[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:vC.stringifyNumber},A3={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:t=>parseFloat(t.replace(/_/g,"")),stringify(t){let e=Number(t.value);return isFinite(e)?e.toExponential():vC.stringifyNumber(t)}},I3={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(t){let e=new P3.Scalar(parseFloat(t.replace(/_/g,""))),n=t.indexOf(".");if(n!==-1){let i=t.substring(n+1).replace(/_/g,"");i[i.length-1]==="0"&&(e.minFractionDigits=i.length)}return e},stringify:vC.stringifyNumber};bf.float=I3;bf.floatExp=A3;bf.floatNaN=R3});var XP=F(xu=>{"use strict";var JP=Ca(),wu=t=>typeof t=="bigint"||Number.isInteger(t);function Df(t,e,n,{intAsBigInt:i}){let r=t[0];if((r==="-"||r==="+")&&(e+=1),t=t.substring(e).replace(/_/g,""),i){switch(n){case 2:t=`0b${t}`;break;case 8:t=`0o${t}`;break;case 16:t=`0x${t}`;break}let o=BigInt(t);return r==="-"?BigInt(-1)*o:o}let s=parseInt(t,n);return r==="-"?-1*s:s}function SC(t,e,n){let{value:i}=t;if(wu(i)){let r=i.toString(e);return i<0?"-"+n+r.substr(1):n+r}return JP.stringifyNumber(t)}var _3={identify:wu,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(t,e,n)=>Df(t,2,2,n),stringify:t=>SC(t,2,"0b")},N3={identify:wu,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(t,e,n)=>Df(t,1,8,n),stringify:t=>SC(t,8,"0")},L3={identify:wu,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(t,e,n)=>Df(t,0,10,n),stringify:JP.stringifyNumber},O3={identify:wu,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(t,e,n)=>Df(t,2,16,n),stringify:t=>SC(t,16,"0x")};xu.int=L3;xu.intBin=_3;xu.intHex=O3;xu.intOct=N3});var DC=F(bC=>{"use strict";var xf=Ye(),Tf=hs(),wf=ms(),vo=class t extends wf.YAMLMap{constructor(e){super(e),this.tag=t.tag}add(e){let n;xf.isPair(e)?n=e:e&&typeof e=="object"&&"key"in e&&"value"in e&&e.value===null?n=new Tf.Pair(e.key,null):n=new Tf.Pair(e,null),wf.findPair(this.items,n.key)||this.items.push(n)}get(e,n){let i=wf.findPair(this.items,e);return!n&&xf.isPair(i)?xf.isScalar(i.key)?i.key.value:i.key:i}set(e,n){if(typeof n!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof n}`);let i=wf.findPair(this.items,e);i&&!n?this.items.splice(this.items.indexOf(i),1):!i&&n&&this.items.push(new Tf.Pair(e))}toJSON(e,n){return super.toJSON(e,n,Set)}toString(e,n,i){if(!e)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},e,{allNullValues:!0}),n,i);throw new Error("Set items must all have null values")}static from(e,n,i){let{replacer:r}=i,s=new this(e);if(n&&Symbol.iterator in Object(n))for(let o of n)typeof r=="function"&&(o=r.call(n,o,o)),s.items.push(Tf.createPair(o,null,i));return s}};vo.tag="tag:yaml.org,2002:set";var M3={collection:"map",identify:t=>t instanceof Set,nodeClass:vo,default:!1,tag:"tag:yaml.org,2002:set",createNode:(t,e,n)=>vo.from(t,e,n),resolve(t,e){if(xf.isMap(t)){if(t.hasAllNullValues(!0))return Object.assign(new vo,t);e("Set items must all have null values")}else e("Expected a mapping for this tag");return t}};bC.YAMLSet=vo;bC.set=M3});var wC=F(Ef=>{"use strict";var q3=Ca();function TC(t,e){let n=t[0],i=n==="-"||n==="+"?t.substring(1):t,r=o=>e?BigInt(o):Number(o),s=i.replace(/_/g,"").split(":").reduce((o,a)=>o*r(60)+r(a),r(0));return n==="-"?r(-1)*s:s}function YP(t){let{value:e}=t,n=o=>o;if(typeof e=="bigint")n=o=>BigInt(o);else if(isNaN(e)||!isFinite(e))return q3.stringifyNumber(t);let i="";e<0&&(i="-",e*=n(-1));let r=n(60),s=[e%r];return e<60?s.unshift(0):(e=(e-s[0])/r,s.unshift(e%r),e>=60&&(e=(e-s[0])/r,s.unshift(e))),i+s.map(o=>String(o).padStart(2,"0")).join(":").replace(/000000\d*$/,"")}var U3={identify:t=>typeof t=="bigint"||Number.isInteger(t),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(t,e,{intAsBigInt:n})=>TC(t,n),stringify:YP},j3={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:t=>TC(t,!1),stringify:YP},QP={identify:t=>t instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(t){let e=t.match(QP.test);if(!e)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");let[,n,i,r,s,o,a]=e.map(Number),c=e[7]?Number((e[7]+"00").substr(1,3)):0,l=Date.UTC(n,i-1,r,s||0,o||0,a||0,c),f=e[8];if(f&&f!=="Z"){let g=TC(f,!1);Math.abs(g)<30&&(g*=60),l-=6e4*g}return new Date(l)},stringify:({value:t})=>t?.toISOString().replace(/(T00:00:00)?\.000Z$/,"")??""};Ef.floatTime=j3;Ef.intTime=U3;Ef.timestamp=QP});var tR=F(eR=>{"use strict";var B3=ma(),W3=pf(),K3=ya(),$3=bu(),H3=pC(),ZP=zP(),xC=GP(),kf=XP(),V3=sf(),z3=yC(),G3=Sf(),J3=DC(),EC=wC(),X3=[B3.map,K3.seq,$3.string,W3.nullTag,ZP.trueTag,ZP.falseTag,kf.intBin,kf.intOct,kf.int,kf.intHex,xC.floatNaN,xC.floatExp,xC.float,H3.binary,V3.merge,z3.omap,G3.pairs,J3.set,EC.intTime,EC.floatTime,EC.timestamp];eR.schema=X3});var dR=F(PC=>{"use strict";var sR=ma(),Y3=pf(),oR=ya(),Q3=bu(),Z3=sC(),kC=aC(),FC=uC(),eH=NP(),tH=MP(),aR=pC(),Eu=sf(),cR=yC(),uR=Sf(),nR=tR(),lR=DC(),Ff=wC(),iR=new Map([["core",eH.schema],["failsafe",[sR.map,oR.seq,Q3.string]],["json",tH.schema],["yaml11",nR.schema],["yaml-1.1",nR.schema]]),rR={binary:aR.binary,bool:Z3.boolTag,float:kC.float,floatExp:kC.floatExp,floatNaN:kC.floatNaN,floatTime:Ff.floatTime,int:FC.int,intHex:FC.intHex,intOct:FC.intOct,intTime:Ff.intTime,map:sR.map,merge:Eu.merge,null:Y3.nullTag,omap:cR.omap,pairs:uR.pairs,seq:oR.seq,set:lR.set,timestamp:Ff.timestamp},nH={"tag:yaml.org,2002:binary":aR.binary,"tag:yaml.org,2002:merge":Eu.merge,"tag:yaml.org,2002:omap":cR.omap,"tag:yaml.org,2002:pairs":uR.pairs,"tag:yaml.org,2002:set":lR.set,"tag:yaml.org,2002:timestamp":Ff.timestamp};function iH(t,e,n){let i=iR.get(e);if(i&&!t)return n&&!i.includes(Eu.merge)?i.concat(Eu.merge):i.slice();let r=i;if(!r)if(Array.isArray(t))r=[];else{let s=Array.from(iR.keys()).filter(o=>o!=="yaml11").map(o=>JSON.stringify(o)).join(", ");throw new Error(`Unknown schema "${e}"; use one of ${s} or define customTags array`)}if(Array.isArray(t))for(let s of t)r=r.concat(s);else typeof t=="function"&&(r=t(r.slice()));return n&&(r=r.concat(Eu.merge)),r.reduce((s,o)=>{let a=typeof o=="string"?rR[o]:o;if(!a){let c=JSON.stringify(o),l=Object.keys(rR).map(f=>JSON.stringify(f)).join(", ");throw new Error(`Unknown custom tag ${c}; use one of ${l}`)}return s.includes(a)||s.push(a),s},[])}PC.coreKnownTags=nH;PC.getTags=iH});var IC=F(fR=>{"use strict";var RC=Ye(),rH=ma(),sH=ya(),oH=bu(),Pf=dR(),aH=(t,e)=>t.key<e.key?-1:t.key>e.key?1:0,AC=class t{constructor({compat:e,customTags:n,merge:i,resolveKnownTags:r,schema:s,sortMapEntries:o,toStringDefaults:a}){this.compat=Array.isArray(e)?Pf.getTags(e,"compat"):e?Pf.getTags(null,e):null,this.name=typeof s=="string"&&s||"core",this.knownTags=r?Pf.coreKnownTags:{},this.tags=Pf.getTags(n,this.name,i),this.toStringOptions=a??null,Object.defineProperty(this,RC.MAP,{value:rH.map}),Object.defineProperty(this,RC.SCALAR,{value:oH.string}),Object.defineProperty(this,RC.SEQ,{value:sH.seq}),this.sortMapEntries=typeof o=="function"?o:o===!0?aH:null}clone(){let e=Object.create(t.prototype,Object.getOwnPropertyDescriptors(this));return e.tags=this.tags.slice(),e}};fR.Schema=AC});var hR=F(pR=>{"use strict";var cH=Ye(),_C=yu(),ku=pu();function uH(t,e){let n=[],i=e.directives===!0;if(e.directives!==!1&&t.directives){let c=t.directives.toString(t);c?(n.push(c),i=!0):t.directives.docStart&&(i=!0)}i&&n.push("---");let r=_C.createStringifyContext(t,e),{commentString:s}=r.options;if(t.commentBefore){n.length!==1&&n.unshift("");let c=s(t.commentBefore);n.unshift(ku.indentComment(c,""))}let o=!1,a=null;if(t.contents){if(cH.isNode(t.contents)){if(t.contents.spaceBefore&&i&&n.push(""),t.contents.commentBefore){let f=s(t.contents.commentBefore);n.push(ku.indentComment(f,""))}r.forceBlockIndent=!!t.comment,a=t.contents.comment}let c=a?void 0:()=>o=!0,l=_C.stringify(t.contents,r,()=>a=null,c);a&&(l+=ku.lineComment(l,"",s(a))),(l[0]==="|"||l[0]===">")&&n[n.length-1]==="---"?n[n.length-1]=`--- ${l}`:n.push(l)}else n.push(_C.stringify(t.contents,r));if(t.directives?.docEnd)if(t.comment){let c=s(t.comment);c.includes(`
`)?(n.push("..."),n.push(ku.indentComment(c,""))):n.push(`... ${c}`)}else n.push("...");else{let c=t.comment;c&&o&&(c=c.replace(/^\n+/,"")),c&&((!o||a)&&n[n.length-1]!==""&&n.push(""),n.push(ku.indentComment(s(c),"")))}return n.join(`
`)+`
`}pR.stringifyDocument=uH});var Fu=F(gR=>{"use strict";var lH=du(),va=Jd(),Li=Ye(),dH=hs(),fH=ls(),pH=IC(),hH=hR(),NC=$d(),gH=qy(),mH=fu(),LC=My(),OC=class t{constructor(e,n,i){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,Li.NODE_TYPE,{value:Li.DOC});let r=null;typeof n=="function"||Array.isArray(n)?r=n:i===void 0&&n&&(i=n,n=void 0);let s=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,stringKeys:!1,uniqueKeys:!0,version:"1.2"},i);this.options=s;let{version:o}=s;i?._directives?(this.directives=i._directives.atDocument(),this.directives.yaml.explicit&&(o=this.directives.yaml.version)):this.directives=new LC.Directives({version:o}),this.setSchema(o,i),this.contents=e===void 0?null:this.createNode(e,r,i)}clone(){let e=Object.create(t.prototype,{[Li.NODE_TYPE]:{value:Li.DOC}});return e.commentBefore=this.commentBefore,e.comment=this.comment,e.errors=this.errors.slice(),e.warnings=this.warnings.slice(),e.options=Object.assign({},this.options),this.directives&&(e.directives=this.directives.clone()),e.schema=this.schema.clone(),e.contents=Li.isNode(this.contents)?this.contents.clone(e.schema):this.contents,this.range&&(e.range=this.range.slice()),e}add(e){Sa(this.contents)&&this.contents.add(e)}addIn(e,n){Sa(this.contents)&&this.contents.addIn(e,n)}createAlias(e,n){if(!e.anchor){let i=NC.anchorNames(this);e.anchor=!n||i.has(n)?NC.findNewAnchor(n||"a",i):n}return new lH.Alias(e.anchor)}createNode(e,n,i){let r;if(typeof n=="function")e=n.call({"":e},"",e),r=n;else if(Array.isArray(n)){let m=D=>typeof D=="number"||D instanceof String||D instanceof Number,C=n.filter(m).map(String);C.length>0&&(n=n.concat(C)),r=n}else i===void 0&&n&&(i=n,n=void 0);let{aliasDuplicateObjects:s,anchorPrefix:o,flow:a,keepUndefined:c,onTagObj:l,tag:f}=i??{},{onAnchor:g,setAnchors:p,sourceObjects:u}=NC.createNodeAnchors(this,o||"a"),d={aliasDuplicateObjects:s??!0,keepUndefined:c??!1,onAnchor:g,onTagObj:l,replacer:r,schema:this.schema,sourceObjects:u},h=mH.createNode(e,f,d);return a&&Li.isCollection(h)&&(h.flow=!0),p(),h}createPair(e,n,i={}){let r=this.createNode(e,null,i),s=this.createNode(n,null,i);return new dH.Pair(r,s)}delete(e){return Sa(this.contents)?this.contents.delete(e):!1}deleteIn(e){return va.isEmptyPath(e)?this.contents==null?!1:(this.contents=null,!0):Sa(this.contents)?this.contents.deleteIn(e):!1}get(e,n){return Li.isCollection(this.contents)?this.contents.get(e,n):void 0}getIn(e,n){return va.isEmptyPath(e)?!n&&Li.isScalar(this.contents)?this.contents.value:this.contents:Li.isCollection(this.contents)?this.contents.getIn(e,n):void 0}has(e){return Li.isCollection(this.contents)?this.contents.has(e):!1}hasIn(e){return va.isEmptyPath(e)?this.contents!==void 0:Li.isCollection(this.contents)?this.contents.hasIn(e):!1}set(e,n){this.contents==null?this.contents=va.collectionFromPath(this.schema,[e],n):Sa(this.contents)&&this.contents.set(e,n)}setIn(e,n){va.isEmptyPath(e)?this.contents=n:this.contents==null?this.contents=va.collectionFromPath(this.schema,Array.from(e),n):Sa(this.contents)&&this.contents.setIn(e,n)}setSchema(e,n={}){typeof e=="number"&&(e=String(e));let i;switch(e){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new LC.Directives({version:"1.1"}),i={resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=e:this.directives=new LC.Directives({version:e}),i={resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,i=null;break;default:{let r=JSON.stringify(e);throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${r}`)}}if(n.schema instanceof Object)this.schema=n.schema;else if(i)this.schema=new pH.Schema(Object.assign(i,n));else throw new Error("With a null YAML version, the { schema: Schema } option is required")}toJS({json:e,jsonArg:n,mapAsMap:i,maxAliasCount:r,onAnchor:s,reviver:o}={}){let a={anchors:new Map,doc:this,keep:!e,mapAsMap:i===!0,mapKeyWarned:!1,maxAliasCount:typeof r=="number"?r:100},c=fH.toJS(this.contents,n??"",a);if(typeof s=="function")for(let{count:l,res:f}of a.anchors.values())s(f,l);return typeof o=="function"?gH.applyReviver(o,{"":c},"",c):c}toJSON(e,n){return this.toJS({json:!0,jsonArg:e,mapAsMap:!1,onAnchor:n})}toString(e={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in e&&(!Number.isInteger(e.indent)||Number(e.indent)<=0)){let n=JSON.stringify(e.indent);throw new Error(`"indent" option must be a positive integer, not ${n}`)}return hH.stringifyDocument(this,e)}};function Sa(t){if(Li.isCollection(t))return!0;throw new Error("Expected a YAML collection as document contents")}gR.Document=OC});var Au=F(Ru=>{"use strict";var Pu=class extends Error{constructor(e,n,i,r){super(),this.name=e,this.code=i,this.message=r,this.pos=n}},MC=class extends Pu{constructor(e,n,i){super("YAMLParseError",e,n,i)}},qC=class extends Pu{constructor(e,n,i){super("YAMLWarning",e,n,i)}},yH=(t,e)=>n=>{if(n.pos[0]===-1)return;n.linePos=n.pos.map(a=>e.linePos(a));let{line:i,col:r}=n.linePos[0];n.message+=` at line ${i}, column ${r}`;let s=r-1,o=t.substring(e.lineStarts[i-1],e.lineStarts[i]).replace(/[\n\r]+$/,"");if(s>=60&&o.length>80){let a=Math.min(s-39,o.length-79);o="\u2026"+o.substring(a),s-=a-1}if(o.length>80&&(o=o.substring(0,79)+"\u2026"),i>1&&/^ *$/.test(o.substring(0,s))){let a=t.substring(e.lineStarts[i-2],e.lineStarts[i-1]);a.length>80&&(a=a.substring(0,79)+`\u2026
`),o=a+o}if(/[^ ]/.test(o)){let a=1,c=n.linePos[1];c&&c.line===i&&c.col>r&&(a=Math.max(1,Math.min(c.col-r,80-s)));let l=" ".repeat(s)+"^".repeat(a);n.message+=`:

${o}
${l}
`}};Ru.YAMLError=Pu;Ru.YAMLParseError=MC;Ru.YAMLWarning=qC;Ru.prettifyError=yH});var Iu=F(mR=>{"use strict";function CH(t,{flow:e,indicator:n,next:i,offset:r,onError:s,parentIndent:o,startOnNewline:a}){let c=!1,l=a,f=a,g="",p="",u=!1,d=!1,h=null,m=null,C=null,D=null,w=null,k=null,I=null;for(let j of t)switch(d&&(j.type!=="space"&&j.type!=="newline"&&j.type!=="comma"&&s(j.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),d=!1),h&&(l&&j.type!=="comment"&&j.type!=="newline"&&s(h,"TAB_AS_INDENT","Tabs are not allowed as indentation"),h=null),j.type){case"space":!e&&(n!=="doc-start"||i?.type!=="flow-collection")&&j.source.includes("	")&&(h=j),f=!0;break;case"comment":{f||s(j,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");let ie=j.source.substring(1)||" ";g?g+=p+ie:g=ie,p="",l=!1;break}case"newline":l?g?g+=j.source:(!k||n!=="seq-item-ind")&&(c=!0):p+=j.source,l=!0,u=!0,(m||C)&&(D=j),f=!0;break;case"anchor":m&&s(j,"MULTIPLE_ANCHORS","A node can have at most one anchor"),j.source.endsWith(":")&&s(j.offset+j.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0),m=j,I===null&&(I=j.offset),l=!1,f=!1,d=!0;break;case"tag":{C&&s(j,"MULTIPLE_TAGS","A node can have at most one tag"),C=j,I===null&&(I=j.offset),l=!1,f=!1,d=!0;break}case n:(m||C)&&s(j,"BAD_PROP_ORDER",`Anchors and tags must be after the ${j.source} indicator`),k&&s(j,"UNEXPECTED_TOKEN",`Unexpected ${j.source} in ${e??"collection"}`),k=j,l=n==="seq-item-ind"||n==="explicit-key-ind",f=!1;break;case"comma":if(e){w&&s(j,"UNEXPECTED_TOKEN",`Unexpected , in ${e}`),w=j,l=!1,f=!1;break}default:s(j,"UNEXPECTED_TOKEN",`Unexpected ${j.type} token`),l=!1,f=!1}let B=t[t.length-1],W=B?B.offset+B.source.length:r;return d&&i&&i.type!=="space"&&i.type!=="newline"&&i.type!=="comma"&&(i.type!=="scalar"||i.source!=="")&&s(i.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),h&&(l&&h.indent<=o||i?.type==="block-map"||i?.type==="block-seq")&&s(h,"TAB_AS_INDENT","Tabs are not allowed as indentation"),{comma:w,found:k,spaceBefore:c,comment:g,hasNewline:u,anchor:m,tag:C,newlineAfterProp:D,end:W,start:I??W}}mR.resolveProps=CH});var Rf=F(yR=>{"use strict";function UC(t){if(!t)return null;switch(t.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(t.source.includes(`
`))return!0;if(t.end){for(let e of t.end)if(e.type==="newline")return!0}return!1;case"flow-collection":for(let e of t.items){for(let n of e.start)if(n.type==="newline")return!0;if(e.sep){for(let n of e.sep)if(n.type==="newline")return!0}if(UC(e.key)||UC(e.value))return!0}return!1;default:return!0}}yR.containsNewline=UC});var jC=F(CR=>{"use strict";var vH=Rf();function SH(t,e,n){if(e?.type==="flow-collection"){let i=e.end[0];i.indent===t&&(i.source==="]"||i.source==="}")&&vH.containsNewline(e)&&n(i,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}CR.flowIndentCheck=SH});var BC=F(SR=>{"use strict";var vR=Ye();function bH(t,e,n){let{uniqueKeys:i}=t.options;if(i===!1)return!1;let r=typeof i=="function"?i:(s,o)=>s===o||vR.isScalar(s)&&vR.isScalar(o)&&s.value===o.value;return e.some(s=>r(s.key,n))}SR.mapIncludes=bH});var ER=F(xR=>{"use strict";var bR=hs(),DH=ms(),DR=Iu(),TH=Rf(),TR=jC(),wH=BC(),wR="All mapping items must start at the same column";function xH({composeNode:t,composeEmptyNode:e},n,i,r,s){let o=s?.nodeClass??DH.YAMLMap,a=new o(n.schema);n.atRoot&&(n.atRoot=!1);let c=i.offset,l=null;for(let f of i.items){let{start:g,key:p,sep:u,value:d}=f,h=DR.resolveProps(g,{indicator:"explicit-key-ind",next:p??u?.[0],offset:c,onError:r,parentIndent:i.indent,startOnNewline:!0}),m=!h.found;if(m){if(p&&(p.type==="block-seq"?r(c,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in p&&p.indent!==i.indent&&r(c,"BAD_INDENT",wR)),!h.anchor&&!h.tag&&!u){l=h.end,h.comment&&(a.comment?a.comment+=`
`+h.comment:a.comment=h.comment);continue}(h.newlineAfterProp||TH.containsNewline(p))&&r(p??g[g.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}else h.found?.indent!==i.indent&&r(c,"BAD_INDENT",wR);n.atKey=!0;let C=h.end,D=p?t(n,p,h,r):e(n,C,g,null,h,r);n.schema.compat&&TR.flowIndentCheck(i.indent,p,r),n.atKey=!1,wH.mapIncludes(n,a.items,D)&&r(C,"DUPLICATE_KEY","Map keys must be unique");let w=DR.resolveProps(u??[],{indicator:"map-value-ind",next:d,offset:D.range[2],onError:r,parentIndent:i.indent,startOnNewline:!p||p.type==="block-scalar"});if(c=w.end,w.found){m&&(d?.type==="block-map"&&!w.hasNewline&&r(c,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),n.options.strict&&h.start<w.found.offset-1024&&r(D.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));let k=d?t(n,d,w,r):e(n,c,u,null,w,r);n.schema.compat&&TR.flowIndentCheck(i.indent,d,r),c=k.range[2];let I=new bR.Pair(D,k);n.options.keepSourceTokens&&(I.srcToken=f),a.items.push(I)}else{m&&r(D.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),w.comment&&(D.comment?D.comment+=`
`+w.comment:D.comment=w.comment);let k=new bR.Pair(D);n.options.keepSourceTokens&&(k.srcToken=f),a.items.push(k)}}return l&&l<c&&r(l,"IMPOSSIBLE","Map comment with trailing content"),a.range=[i.offset,c,l??c],a}xR.resolveBlockMap=xH});var FR=F(kR=>{"use strict";var EH=ys(),kH=Iu(),FH=jC();function PH({composeNode:t,composeEmptyNode:e},n,i,r,s){let o=s?.nodeClass??EH.YAMLSeq,a=new o(n.schema);n.atRoot&&(n.atRoot=!1),n.atKey&&(n.atKey=!1);let c=i.offset,l=null;for(let{start:f,value:g}of i.items){let p=kH.resolveProps(f,{indicator:"seq-item-ind",next:g,offset:c,onError:r,parentIndent:i.indent,startOnNewline:!0});if(!p.found)if(p.anchor||p.tag||g)g&&g.type==="block-seq"?r(p.end,"BAD_INDENT","All sequence items must start at the same column"):r(c,"MISSING_CHAR","Sequence item without - indicator");else{l=p.end,p.comment&&(a.comment=p.comment);continue}let u=g?t(n,g,p,r):e(n,p.end,f,null,p,r);n.schema.compat&&FH.flowIndentCheck(i.indent,g,r),c=u.range[2],a.items.push(u)}return a.range=[i.offset,c,l??c],a}kR.resolveBlockSeq=PH});var ba=F(PR=>{"use strict";function RH(t,e,n,i){let r="";if(t){let s=!1,o="";for(let a of t){let{source:c,type:l}=a;switch(l){case"space":s=!0;break;case"comment":{n&&!s&&i(a,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");let f=c.substring(1)||" ";r?r+=o+f:r=f,o="";break}case"newline":r&&(o+=c),s=!0;break;default:i(a,"UNEXPECTED_TOKEN",`Unexpected ${l} at node end`)}e+=c.length}}return{comment:r,offset:e}}PR.resolveEnd=RH});var _R=F(IR=>{"use strict";var AH=Ye(),IH=hs(),RR=ms(),_H=ys(),NH=ba(),AR=Iu(),LH=Rf(),OH=BC(),WC="Block collections are not allowed within flow collections",KC=t=>t&&(t.type==="block-map"||t.type==="block-seq");function MH({composeNode:t,composeEmptyNode:e},n,i,r,s){let o=i.start.source==="{",a=o?"flow map":"flow sequence",c=s?.nodeClass??(o?RR.YAMLMap:_H.YAMLSeq),l=new c(n.schema);l.flow=!0;let f=n.atRoot;f&&(n.atRoot=!1),n.atKey&&(n.atKey=!1);let g=i.offset+i.start.source.length;for(let m=0;m<i.items.length;++m){let C=i.items[m],{start:D,key:w,sep:k,value:I}=C,B=AR.resolveProps(D,{flow:a,indicator:"explicit-key-ind",next:w??k?.[0],offset:g,onError:r,parentIndent:i.indent,startOnNewline:!1});if(!B.found){if(!B.anchor&&!B.tag&&!k&&!I){m===0&&B.comma?r(B.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${a}`):m<i.items.length-1&&r(B.start,"UNEXPECTED_TOKEN",`Unexpected empty item in ${a}`),B.comment&&(l.comment?l.comment+=`
`+B.comment:l.comment=B.comment),g=B.end;continue}!o&&n.options.strict&&LH.containsNewline(w)&&r(w,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(m===0)B.comma&&r(B.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${a}`);else if(B.comma||r(B.start,"MISSING_CHAR",`Missing , between ${a} items`),B.comment){let W="";e:for(let j of D)switch(j.type){case"comma":case"space":break;case"comment":W=j.source.substring(1);break e;default:break e}if(W){let j=l.items[l.items.length-1];AH.isPair(j)&&(j=j.value??j.key),j.comment?j.comment+=`
`+W:j.comment=W,B.comment=B.comment.substring(W.length+1)}}if(!o&&!k&&!B.found){let W=I?t(n,I,B,r):e(n,B.end,k,null,B,r);l.items.push(W),g=W.range[2],KC(I)&&r(W.range,"BLOCK_IN_FLOW",WC)}else{n.atKey=!0;let W=B.end,j=w?t(n,w,B,r):e(n,W,D,null,B,r);KC(w)&&r(j.range,"BLOCK_IN_FLOW",WC),n.atKey=!1;let ie=AR.resolveProps(k??[],{flow:a,indicator:"map-value-ind",next:I,offset:j.range[2],onError:r,parentIndent:i.indent,startOnNewline:!1});if(ie.found){if(!o&&!B.found&&n.options.strict){if(k)for(let N of k){if(N===ie.found)break;if(N.type==="newline"){r(N,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}B.start<ie.found.offset-1024&&r(ie.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else I&&("source"in I&&I.source&&I.source[0]===":"?r(I,"MISSING_CHAR",`Missing space after : in ${a}`):r(ie.start,"MISSING_CHAR",`Missing , or : between ${a} items`));let ne=I?t(n,I,ie,r):ie.found?e(n,ie.end,k,null,ie,r):null;ne?KC(I)&&r(ne.range,"BLOCK_IN_FLOW",WC):ie.comment&&(j.comment?j.comment+=`
`+ie.comment:j.comment=ie.comment);let H=new IH.Pair(j,ne);if(n.options.keepSourceTokens&&(H.srcToken=C),o){let N=l;OH.mapIncludes(n,N.items,j)&&r(W,"DUPLICATE_KEY","Map keys must be unique"),N.items.push(H)}else{let N=new RR.YAMLMap(n.schema);N.flow=!0,N.items.push(H);let $=(ne??j).range;N.range=[j.range[0],$[1],$[2]],l.items.push(N)}g=ne?ne.range[2]:ie.end}}let p=o?"}":"]",[u,...d]=i.end,h=g;if(u&&u.source===p)h=u.offset+u.source.length;else{let m=a[0].toUpperCase()+a.substring(1),C=f?`${m} must end with a ${p}`:`${m} in block collection must be sufficiently indented and end with a ${p}`;r(g,f?"MISSING_CHAR":"BAD_INDENT",C),u&&u.source.length!==1&&d.unshift(u)}if(d.length>0){let m=NH.resolveEnd(d,h,n.options.strict,r);m.comment&&(l.comment?l.comment+=`
`+m.comment:l.comment=m.comment),l.range=[i.offset,h,m.offset]}else l.range=[i.offset,h,h];return l}IR.resolveFlowCollection=MH});var LR=F(NR=>{"use strict";var qH=Ye(),UH=Qt(),jH=ms(),BH=ys(),WH=ER(),KH=FR(),$H=_R();function $C(t,e,n,i,r,s){let o=n.type==="block-map"?WH.resolveBlockMap(t,e,n,i,s):n.type==="block-seq"?KH.resolveBlockSeq(t,e,n,i,s):$H.resolveFlowCollection(t,e,n,i,s),a=o.constructor;return r==="!"||r===a.tagName?(o.tag=a.tagName,o):(r&&(o.tag=r),o)}function HH(t,e,n,i,r){let s=i.tag,o=s?e.directives.tagName(s.source,p=>r(s,"TAG_RESOLVE_FAILED",p)):null;if(n.type==="block-seq"){let{anchor:p,newlineAfterProp:u}=i,d=p&&s?p.offset>s.offset?p:s:p??s;d&&(!u||u.offset<d.offset)&&r(d,"MISSING_CHAR","Missing newline after block sequence props")}let a=n.type==="block-map"?"map":n.type==="block-seq"?"seq":n.start.source==="{"?"map":"seq";if(!s||!o||o==="!"||o===jH.YAMLMap.tagName&&a==="map"||o===BH.YAMLSeq.tagName&&a==="seq")return $C(t,e,n,r,o);let c=e.schema.tags.find(p=>p.tag===o&&p.collection===a);if(!c){let p=e.schema.knownTags[o];if(p&&p.collection===a)e.schema.tags.push(Object.assign({},p,{default:!1})),c=p;else return p?r(s,"BAD_COLLECTION_TYPE",`${p.tag} used for ${a} collection, but expects ${p.collection??"scalar"}`,!0):r(s,"TAG_RESOLVE_FAILED",`Unresolved tag: ${o}`,!0),$C(t,e,n,r,o)}let l=$C(t,e,n,r,o,c),f=c.resolve?.(l,p=>r(s,"TAG_RESOLVE_FAILED",p),e.options)??l,g=qH.isNode(f)?f:new UH.Scalar(f);return g.range=l.range,g.tag=o,c?.format&&(g.format=c.format),g}NR.composeCollection=HH});var VC=F(OR=>{"use strict";var HC=Qt();function VH(t,e,n){let i=e.offset,r=zH(e,t.options.strict,n);if(!r)return{value:"",type:null,comment:"",range:[i,i,i]};let s=r.mode===">"?HC.Scalar.BLOCK_FOLDED:HC.Scalar.BLOCK_LITERAL,o=e.source?GH(e.source):[],a=o.length;for(let h=o.length-1;h>=0;--h){let m=o[h][1];if(m===""||m==="\r")a=h;else break}if(a===0){let h=r.chomp==="+"&&o.length>0?`
`.repeat(Math.max(1,o.length-1)):"",m=i+r.length;return e.source&&(m+=e.source.length),{value:h,type:s,comment:r.comment,range:[i,m,m]}}let c=e.indent+r.indent,l=e.offset+r.length,f=0;for(let h=0;h<a;++h){let[m,C]=o[h];if(C===""||C==="\r")r.indent===0&&m.length>c&&(c=m.length);else{m.length<c&&n(l+m.length,"MISSING_CHAR","Block scalars with more-indented leading empty lines must use an explicit indentation indicator"),r.indent===0&&(c=m.length),f=h,c===0&&!t.atRoot&&n(l,"BAD_INDENT","Block scalar values in collections must be indented");break}l+=m.length+C.length+1}for(let h=o.length-1;h>=a;--h)o[h][0].length>c&&(a=h+1);let g="",p="",u=!1;for(let h=0;h<f;++h)g+=o[h][0].slice(c)+`
`;for(let h=f;h<a;++h){let[m,C]=o[h];l+=m.length+C.length+1;let D=C[C.length-1]==="\r";if(D&&(C=C.slice(0,-1)),C&&m.length<c){let k=`Block scalar lines must not be less indented than their ${r.indent?"explicit indentation indicator":"first line"}`;n(l-C.length-(D?2:1),"BAD_INDENT",k),m=""}s===HC.Scalar.BLOCK_LITERAL?(g+=p+m.slice(c)+C,p=`
`):m.length>c||C[0]==="	"?(p===" "?p=`
`:!u&&p===`
`&&(p=`

`),g+=p+m.slice(c)+C,p=`
`,u=!0):C===""?p===`
`?g+=`
`:p=`
`:(g+=p+C,p=" ",u=!1)}switch(r.chomp){case"-":break;case"+":for(let h=a;h<o.length;++h)g+=`
`+o[h][0].slice(c);g[g.length-1]!==`
`&&(g+=`
`);break;default:g+=`
`}let d=i+r.length+e.source.length;return{value:g,type:s,comment:r.comment,range:[i,d,d]}}function zH({offset:t,props:e},n,i){if(e[0].type!=="block-scalar-header")return i(e[0],"IMPOSSIBLE","Block scalar header not found"),null;let{source:r}=e[0],s=r[0],o=0,a="",c=-1;for(let p=1;p<r.length;++p){let u=r[p];if(!a&&(u==="-"||u==="+"))a=u;else{let d=Number(u);!o&&d?o=d:c===-1&&(c=t+p)}}c!==-1&&i(c,"UNEXPECTED_TOKEN",`Block scalar header includes extra characters: ${r}`);let l=!1,f="",g=r.length;for(let p=1;p<e.length;++p){let u=e[p];switch(u.type){case"space":l=!0;case"newline":g+=u.source.length;break;case"comment":n&&!l&&i(u,"MISSING_CHAR","Comments must be separated from other tokens by white space characters"),g+=u.source.length,f=u.source.substring(1);break;case"error":i(u,"UNEXPECTED_TOKEN",u.message),g+=u.source.length;break;default:{let d=`Unexpected token in block scalar header: ${u.type}`;i(u,"UNEXPECTED_TOKEN",d);let h=u.source;h&&typeof h=="string"&&(g+=h.length)}}}return{mode:s,indent:o,chomp:a,comment:f,length:g}}function GH(t){let e=t.split(/\n( *)/),n=e[0],i=n.match(/^( *)/),s=[i?.[1]?[i[1],n.slice(i[1].length)]:["",n]];for(let o=1;o<e.length;o+=2)s.push([e[o],e[o+1]]);return s}OR.resolveBlockScalar=VH});var GC=F(qR=>{"use strict";var zC=Qt(),JH=ba();function XH(t,e,n){let{offset:i,type:r,source:s,end:o}=t,a,c,l=(p,u,d)=>n(i+p,u,d);switch(r){case"scalar":a=zC.Scalar.PLAIN,c=YH(s,l);break;case"single-quoted-scalar":a=zC.Scalar.QUOTE_SINGLE,c=QH(s,l);break;case"double-quoted-scalar":a=zC.Scalar.QUOTE_DOUBLE,c=ZH(s,l);break;default:return n(t,"UNEXPECTED_TOKEN",`Expected a flow scalar value, but found: ${r}`),{value:"",type:null,comment:"",range:[i,i+s.length,i+s.length]}}let f=i+s.length,g=JH.resolveEnd(o,f,e,n);return{value:c,type:a,comment:g.comment,range:[i,f,g.offset]}}function YH(t,e){let n="";switch(t[0]){case"	":n="a tab character";break;case",":n="flow indicator character ,";break;case"%":n="directive indicator character %";break;case"|":case">":{n=`block scalar indicator ${t[0]}`;break}case"@":case"`":{n=`reserved character ${t[0]}`;break}}return n&&e(0,"BAD_SCALAR_START",`Plain value cannot start with ${n}`),MR(t)}function QH(t,e){return(t[t.length-1]!=="'"||t.length===1)&&e(t.length,"MISSING_CHAR","Missing closing 'quote"),MR(t.slice(1,-1)).replace(/''/g,"'")}function MR(t){let e,n;try{e=new RegExp(`(.*?)(?<![ 	])[ 	]*\r?
`,"sy"),n=new RegExp(`[ 	]*(.*?)(?:(?<![ 	])[ 	]*)?\r?
`,"sy")}catch{e=/(.*?)[ \t]*\r?\n/sy,n=/[ \t]*(.*?)[ \t]*\r?\n/sy}let i=e.exec(t);if(!i)return t;let r=i[1],s=" ",o=e.lastIndex;for(n.lastIndex=o;i=n.exec(t);)i[1]===""?s===`
`?r+=s:s=`
`:(r+=s+i[1],s=" "),o=n.lastIndex;let a=/[ \t]*(.*)/sy;return a.lastIndex=o,i=a.exec(t),r+s+(i?.[1]??"")}function ZH(t,e){let n="";for(let i=1;i<t.length-1;++i){let r=t[i];if(!(r==="\r"&&t[i+1]===`
`))if(r===`
`){let{fold:s,offset:o}=eV(t,i);n+=s,i=o}else if(r==="\\"){let s=t[++i],o=tV[s];if(o)n+=o;else if(s===`
`)for(s=t[i+1];s===" "||s==="	";)s=t[++i+1];else if(s==="\r"&&t[i+1]===`
`)for(s=t[++i+1];s===" "||s==="	";)s=t[++i+1];else if(s==="x"||s==="u"||s==="U"){let a={x:2,u:4,U:8}[s];n+=nV(t,i+1,a,e),i+=a}else{let a=t.substr(i-1,2);e(i-1,"BAD_DQ_ESCAPE",`Invalid escape sequence ${a}`),n+=a}}else if(r===" "||r==="	"){let s=i,o=t[i+1];for(;o===" "||o==="	";)o=t[++i+1];o!==`
`&&!(o==="\r"&&t[i+2]===`
`)&&(n+=i>s?t.slice(s,i+1):r)}else n+=r}return(t[t.length-1]!=='"'||t.length===1)&&e(t.length,"MISSING_CHAR",'Missing closing "quote'),n}function eV(t,e){let n="",i=t[e+1];for(;(i===" "||i==="	"||i===`
`||i==="\r")&&!(i==="\r"&&t[e+2]!==`
`);)i===`
`&&(n+=`
`),e+=1,i=t[e+1];return n||(n=" "),{fold:n,offset:e}}var tV={0:"\0",a:"\x07",b:"\b",e:"\x1B",f:"\f",n:`
`,r:"\r",t:"	",v:"\v",N:"\x85",_:"\xA0",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","	":"	"};function nV(t,e,n,i){let r=t.substr(e,n),o=r.length===n&&/^[0-9a-fA-F]+$/.test(r)?parseInt(r,16):NaN;if(isNaN(o)){let a=t.substr(e-2,n+2);return i(e-2,"BAD_DQ_ESCAPE",`Invalid escape sequence ${a}`),a}return String.fromCodePoint(o)}qR.resolveFlowScalar=XH});var BR=F(jR=>{"use strict";var So=Ye(),UR=Qt(),iV=VC(),rV=GC();function sV(t,e,n,i){let{value:r,type:s,comment:o,range:a}=e.type==="block-scalar"?iV.resolveBlockScalar(t,e,i):rV.resolveFlowScalar(e,t.options.strict,i),c=n?t.directives.tagName(n.source,g=>i(n,"TAG_RESOLVE_FAILED",g)):null,l;t.options.stringKeys&&t.atKey?l=t.schema[So.SCALAR]:c?l=oV(t.schema,r,c,n,i):e.type==="scalar"?l=aV(t,r,e,i):l=t.schema[So.SCALAR];let f;try{let g=l.resolve(r,p=>i(n??e,"TAG_RESOLVE_FAILED",p),t.options);f=So.isScalar(g)?g:new UR.Scalar(g)}catch(g){let p=g instanceof Error?g.message:String(g);i(n??e,"TAG_RESOLVE_FAILED",p),f=new UR.Scalar(r)}return f.range=a,f.source=r,s&&(f.type=s),c&&(f.tag=c),l.format&&(f.format=l.format),o&&(f.comment=o),f}function oV(t,e,n,i,r){if(n==="!")return t[So.SCALAR];let s=[];for(let a of t.tags)if(!a.collection&&a.tag===n)if(a.default&&a.test)s.push(a);else return a;for(let a of s)if(a.test?.test(e))return a;let o=t.knownTags[n];return o&&!o.collection?(t.tags.push(Object.assign({},o,{default:!1,test:void 0})),o):(r(i,"TAG_RESOLVE_FAILED",`Unresolved tag: ${n}`,n!=="tag:yaml.org,2002:str"),t[So.SCALAR])}function aV({atKey:t,directives:e,schema:n},i,r,s){let o=n.tags.find(a=>(a.default===!0||t&&a.default==="key")&&a.test?.test(i))||n[So.SCALAR];if(n.compat){let a=n.compat.find(c=>c.default&&c.test?.test(i))??n[So.SCALAR];if(o.tag!==a.tag){let c=e.tagString(o.tag),l=e.tagString(a.tag),f=`Value may be parsed as either ${c} or ${l}`;s(r,"TAG_RESOLVE_FAILED",f,!0)}}return o}jR.composeScalar=sV});var KR=F(WR=>{"use strict";function cV(t,e,n){if(e){n===null&&(n=e.length);for(let i=n-1;i>=0;--i){let r=e[i];switch(r.type){case"space":case"comment":case"newline":t-=r.source.length;continue}for(r=e[++i];r?.type==="space";)t+=r.source.length,r=e[++i];break}}return t}WR.emptyScalarPosition=cV});var VR=F(XC=>{"use strict";var uV=du(),lV=Ye(),dV=LR(),$R=BR(),fV=ba(),pV=KR(),hV={composeNode:HR,composeEmptyNode:JC};function HR(t,e,n,i){let r=t.atKey,{spaceBefore:s,comment:o,anchor:a,tag:c}=n,l,f=!0;switch(e.type){case"alias":l=gV(t,e,i),(a||c)&&i(e,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":l=$R.composeScalar(t,e,c,i),a&&(l.anchor=a.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":l=dV.composeCollection(hV,t,e,n,i),a&&(l.anchor=a.source.substring(1));break;default:{let g=e.type==="error"?e.message:`Unsupported token (type: ${e.type})`;i(e,"UNEXPECTED_TOKEN",g),l=JC(t,e.offset,void 0,null,n,i),f=!1}}return a&&l.anchor===""&&i(a,"BAD_ALIAS","Anchor cannot be an empty string"),r&&t.options.stringKeys&&(!lV.isScalar(l)||typeof l.value!="string"||l.tag&&l.tag!=="tag:yaml.org,2002:str")&&i(c??e,"NON_STRING_KEY","With stringKeys, all keys must be strings"),s&&(l.spaceBefore=!0),o&&(e.type==="scalar"&&e.source===""?l.comment=o:l.commentBefore=o),t.options.keepSourceTokens&&f&&(l.srcToken=e),l}function JC(t,e,n,i,{spaceBefore:r,comment:s,anchor:o,tag:a,end:c},l){let f={type:"scalar",offset:pV.emptyScalarPosition(e,n,i),indent:-1,source:""},g=$R.composeScalar(t,f,a,l);return o&&(g.anchor=o.source.substring(1),g.anchor===""&&l(o,"BAD_ALIAS","Anchor cannot be an empty string")),r&&(g.spaceBefore=!0),s&&(g.comment=s,g.range[2]=c),g}function gV({options:t},{offset:e,source:n,end:i},r){let s=new uV.Alias(n.substring(1));s.source===""&&r(e,"BAD_ALIAS","Alias cannot be an empty string"),s.source.endsWith(":")&&r(e+n.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0);let o=e+n.length,a=fV.resolveEnd(i,o,t.strict,r);return s.range=[e,o,a.offset],a.comment&&(s.comment=a.comment),s}XC.composeEmptyNode=JC;XC.composeNode=HR});var JR=F(GR=>{"use strict";var mV=Fu(),zR=VR(),yV=ba(),CV=Iu();function vV(t,e,{offset:n,start:i,value:r,end:s},o){let a=Object.assign({_directives:e},t),c=new mV.Document(void 0,a),l={atKey:!1,atRoot:!0,directives:c.directives,options:c.options,schema:c.schema},f=CV.resolveProps(i,{indicator:"doc-start",next:r??s?.[0],offset:n,onError:o,parentIndent:0,startOnNewline:!0});f.found&&(c.directives.docStart=!0,r&&(r.type==="block-map"||r.type==="block-seq")&&!f.hasNewline&&o(f.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),c.contents=r?zR.composeNode(l,r,f,o):zR.composeEmptyNode(l,f.end,i,null,f,o);let g=c.contents.range[2],p=yV.resolveEnd(s,g,!1,o);return p.comment&&(c.comment=p.comment),c.range=[n,g,p.offset],c}GR.composeDoc=vV});var QC=F(QR=>{"use strict";var SV=require("node:process"),bV=My(),DV=Fu(),_u=Au(),XR=Ye(),TV=JR(),wV=ba();function Nu(t){if(typeof t=="number")return[t,t+1];if(Array.isArray(t))return t.length===2?t:[t[0],t[1]];let{offset:e,source:n}=t;return[e,e+(typeof n=="string"?n.length:1)]}function YR(t){let e="",n=!1,i=!1;for(let r=0;r<t.length;++r){let s=t[r];switch(s[0]){case"#":e+=(e===""?"":i?`

`:`
`)+(s.substring(1)||" "),n=!0,i=!1;break;case"%":t[r+1]?.[0]!=="#"&&(r+=1),n=!1;break;default:n||(i=!0),n=!1}}return{comment:e,afterEmptyLine:i}}var YC=class{constructor(e={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(n,i,r,s)=>{let o=Nu(n);s?this.warnings.push(new _u.YAMLWarning(o,i,r)):this.errors.push(new _u.YAMLParseError(o,i,r))},this.directives=new bV.Directives({version:e.version||"1.2"}),this.options=e}decorate(e,n){let{comment:i,afterEmptyLine:r}=YR(this.prelude);if(i){let s=e.contents;if(n)e.comment=e.comment?`${e.comment}
${i}`:i;else if(r||e.directives.docStart||!s)e.commentBefore=i;else if(XR.isCollection(s)&&!s.flow&&s.items.length>0){let o=s.items[0];XR.isPair(o)&&(o=o.key);let a=o.commentBefore;o.commentBefore=a?`${i}
${a}`:i}else{let o=s.commentBefore;s.commentBefore=o?`${i}
${o}`:i}}n?(Array.prototype.push.apply(e.errors,this.errors),Array.prototype.push.apply(e.warnings,this.warnings)):(e.errors=this.errors,e.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:YR(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(e,n=!1,i=-1){for(let r of e)yield*this.next(r);yield*this.end(n,i)}*next(e){switch(SV.env.LOG_STREAM&&console.dir(e,{depth:null}),e.type){case"directive":this.directives.add(e.source,(n,i,r)=>{let s=Nu(e);s[0]+=n,this.onError(s,"BAD_DIRECTIVE",i,r)}),this.prelude.push(e.source),this.atDirectives=!0;break;case"document":{let n=TV.composeDoc(this.options,this.directives,e,this.onError);this.atDirectives&&!n.directives.docStart&&this.onError(e,"MISSING_CHAR","Missing directives-end/doc-start indicator line"),this.decorate(n,!1),this.doc&&(yield this.doc),this.doc=n,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(e.source);break;case"error":{let n=e.source?`${e.message}: ${JSON.stringify(e.source)}`:e.message,i=new _u.YAMLParseError(Nu(e),"UNEXPECTED_TOKEN",n);this.atDirectives||!this.doc?this.errors.push(i):this.doc.errors.push(i);break}case"doc-end":{if(!this.doc){let i="Unexpected doc-end without preceding document";this.errors.push(new _u.YAMLParseError(Nu(e),"UNEXPECTED_TOKEN",i));break}this.doc.directives.docEnd=!0;let n=wV.resolveEnd(e.end,e.offset+e.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),n.comment){let i=this.doc.comment;this.doc.comment=i?`${i}
${n.comment}`:n.comment}this.doc.range[2]=n.offset;break}default:this.errors.push(new _u.YAMLParseError(Nu(e),"UNEXPECTED_TOKEN",`Unsupported token ${e.type}`))}}*end(e=!1,n=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(e){let i=Object.assign({_directives:this.directives},this.options),r=new DV.Document(void 0,i);this.atDirectives&&this.onError(n,"MISSING_CHAR","Missing directives-end indicator line"),r.range=[0,n,n],this.decorate(r,!1),yield r}}};QR.Composer=YC});var tA=F(Af=>{"use strict";var xV=VC(),EV=GC(),kV=Au(),ZR=mu();function FV(t,e=!0,n){if(t){let i=(r,s,o)=>{let a=typeof r=="number"?r:Array.isArray(r)?r[0]:r.offset;if(n)n(a,s,o);else throw new kV.YAMLParseError([a,a+1],s,o)};switch(t.type){case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return EV.resolveFlowScalar(t,e,i);case"block-scalar":return xV.resolveBlockScalar({options:{strict:e}},t,i)}}return null}function PV(t,e){let{implicitKey:n=!1,indent:i,inFlow:r=!1,offset:s=-1,type:o="PLAIN"}=e,a=ZR.stringifyString({type:o,value:t},{implicitKey:n,indent:i>0?" ".repeat(i):"",inFlow:r,options:{blockQuote:!0,lineWidth:-1}}),c=e.end??[{type:"newline",offset:-1,indent:i,source:`
`}];switch(a[0]){case"|":case">":{let l=a.indexOf(`
`),f=a.substring(0,l),g=a.substring(l+1)+`
`,p=[{type:"block-scalar-header",offset:s,indent:i,source:f}];return eA(p,c)||p.push({type:"newline",offset:-1,indent:i,source:`
`}),{type:"block-scalar",offset:s,indent:i,props:p,source:g}}case'"':return{type:"double-quoted-scalar",offset:s,indent:i,source:a,end:c};case"'":return{type:"single-quoted-scalar",offset:s,indent:i,source:a,end:c};default:return{type:"scalar",offset:s,indent:i,source:a,end:c}}}function RV(t,e,n={}){let{afterKey:i=!1,implicitKey:r=!1,inFlow:s=!1,type:o}=n,a="indent"in t?t.indent:null;if(i&&typeof a=="number"&&(a+=2),!o)switch(t.type){case"single-quoted-scalar":o="QUOTE_SINGLE";break;case"double-quoted-scalar":o="QUOTE_DOUBLE";break;case"block-scalar":{let l=t.props[0];if(l.type!=="block-scalar-header")throw new Error("Invalid block scalar header");o=l.source[0]===">"?"BLOCK_FOLDED":"BLOCK_LITERAL";break}default:o="PLAIN"}let c=ZR.stringifyString({type:o,value:e},{implicitKey:r||a===null,indent:a!==null&&a>0?" ".repeat(a):"",inFlow:s,options:{blockQuote:!0,lineWidth:-1}});switch(c[0]){case"|":case">":AV(t,c);break;case'"':ZC(t,c,"double-quoted-scalar");break;case"'":ZC(t,c,"single-quoted-scalar");break;default:ZC(t,c,"scalar")}}function AV(t,e){let n=e.indexOf(`
`),i=e.substring(0,n),r=e.substring(n+1)+`
`;if(t.type==="block-scalar"){let s=t.props[0];if(s.type!=="block-scalar-header")throw new Error("Invalid block scalar header");s.source=i,t.source=r}else{let{offset:s}=t,o="indent"in t?t.indent:-1,a=[{type:"block-scalar-header",offset:s,indent:o,source:i}];eA(a,"end"in t?t.end:void 0)||a.push({type:"newline",offset:-1,indent:o,source:`
`});for(let c of Object.keys(t))c!=="type"&&c!=="offset"&&delete t[c];Object.assign(t,{type:"block-scalar",indent:o,props:a,source:r})}}function eA(t,e){if(e)for(let n of e)switch(n.type){case"space":case"comment":t.push(n);break;case"newline":return t.push(n),!0}return!1}function ZC(t,e,n){switch(t.type){case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":t.type=n,t.source=e;break;case"block-scalar":{let i=t.props.slice(1),r=e.length;t.props[0].type==="block-scalar-header"&&(r-=t.props[0].source.length);for(let s of i)s.offset+=r;delete t.props,Object.assign(t,{type:n,source:e,end:i});break}case"block-map":case"block-seq":{let r={type:"newline",offset:t.offset+e.length,indent:t.indent,source:`
`};delete t.items,Object.assign(t,{type:n,source:e,end:[r]});break}default:{let i="indent"in t?t.indent:-1,r="end"in t&&Array.isArray(t.end)?t.end.filter(s=>s.type==="space"||s.type==="comment"||s.type==="newline"):[];for(let s of Object.keys(t))s!=="type"&&s!=="offset"&&delete t[s];Object.assign(t,{type:n,indent:i,source:e,end:r})}}}Af.createScalarToken=PV;Af.resolveAsScalar=FV;Af.setScalarValue=RV});var iA=F(nA=>{"use strict";var IV=t=>"type"in t?_f(t):If(t);function _f(t){switch(t.type){case"block-scalar":{let e="";for(let n of t.props)e+=_f(n);return e+t.source}case"block-map":case"block-seq":{let e="";for(let n of t.items)e+=If(n);return e}case"flow-collection":{let e=t.start.source;for(let n of t.items)e+=If(n);for(let n of t.end)e+=n.source;return e}case"document":{let e=If(t);if(t.end)for(let n of t.end)e+=n.source;return e}default:{let e=t.source;if("end"in t&&t.end)for(let n of t.end)e+=n.source;return e}}}function If({start:t,key:e,sep:n,value:i}){let r="";for(let s of t)r+=s.source;if(e&&(r+=_f(e)),n)for(let s of n)r+=s.source;return i&&(r+=_f(i)),r}nA.stringify=IV});var aA=F(oA=>{"use strict";var ev=Symbol("break visit"),_V=Symbol("skip children"),rA=Symbol("remove item");function bo(t,e){"type"in t&&t.type==="document"&&(t={start:t.start,value:t.value}),sA(Object.freeze([]),t,e)}bo.BREAK=ev;bo.SKIP=_V;bo.REMOVE=rA;bo.itemAtPath=(t,e)=>{let n=t;for(let[i,r]of e){let s=n?.[i];if(s&&"items"in s)n=s.items[r];else return}return n};bo.parentCollection=(t,e)=>{let n=bo.itemAtPath(t,e.slice(0,-1)),i=e[e.length-1][0],r=n?.[i];if(r&&"items"in r)return r;throw new Error("Parent collection not found")};function sA(t,e,n){let i=n(e,t);if(typeof i=="symbol")return i;for(let r of["key","value"]){let s=e[r];if(s&&"items"in s){for(let o=0;o<s.items.length;++o){let a=sA(Object.freeze(t.concat([[r,o]])),s.items[o],n);if(typeof a=="number")o=a-1;else{if(a===ev)return ev;a===rA&&(s.items.splice(o,1),o-=1)}}typeof i=="function"&&r==="key"&&(i=i(e,t))}}return typeof i=="function"?i(e,t):i}oA.visit=bo});var Nf=F(ni=>{"use strict";var tv=tA(),NV=iA(),LV=aA(),nv="\uFEFF",iv="",rv="",sv="",OV=t=>!!t&&"items"in t,MV=t=>!!t&&(t.type==="scalar"||t.type==="single-quoted-scalar"||t.type==="double-quoted-scalar"||t.type==="block-scalar");function qV(t){switch(t){case nv:return"<BOM>";case iv:return"<DOC>";case rv:return"<FLOW_END>";case sv:return"<SCALAR>";default:return JSON.stringify(t)}}function UV(t){switch(t){case nv:return"byte-order-mark";case iv:return"doc-mode";case rv:return"flow-error-end";case sv:return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case`
`:case`\r
`:return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(t[0]){case" ":case"	":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}ni.createScalarToken=tv.createScalarToken;ni.resolveAsScalar=tv.resolveAsScalar;ni.setScalarValue=tv.setScalarValue;ni.stringify=NV.stringify;ni.visit=LV.visit;ni.BOM=nv;ni.DOCUMENT=iv;ni.FLOW_END=rv;ni.SCALAR=sv;ni.isCollection=OV;ni.isScalar=MV;ni.prettyToken=qV;ni.tokenType=UV});var cv=F(uA=>{"use strict";var Lu=Nf();function Zi(t){switch(t){case void 0:case" ":case`
`:case"\r":case"	":return!0;default:return!1}}var cA=new Set("0123456789ABCDEFabcdef"),jV=new Set("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()"),Lf=new Set(",[]{}"),BV=new Set(` ,[]{}
\r	`),ov=t=>!t||BV.has(t),av=class{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(e,n=!1){if(e){if(typeof e!="string")throw TypeError("source is not a string");this.buffer=this.buffer?this.buffer+e:e,this.lineEndPos=null}this.atEnd=!n;let i=this.next??"stream";for(;i&&(n||this.hasChars(1));)i=yield*this.parseNext(i)}atLineEnd(){let e=this.pos,n=this.buffer[e];for(;n===" "||n==="	";)n=this.buffer[++e];return!n||n==="#"||n===`
`?!0:n==="\r"?this.buffer[e+1]===`
`:!1}charAt(e){return this.buffer[this.pos+e]}continueScalar(e){let n=this.buffer[e];if(this.indentNext>0){let i=0;for(;n===" ";)n=this.buffer[++i+e];if(n==="\r"){let r=this.buffer[i+e+1];if(r===`
`||!r&&!this.atEnd)return e+i+1}return n===`
`||i>=this.indentNext||!n&&!this.atEnd?e+i:-1}if(n==="-"||n==="."){let i=this.buffer.substr(e,3);if((i==="---"||i==="...")&&Zi(this.buffer[e+3]))return-1}return e}getLine(){let e=this.lineEndPos;return(typeof e!="number"||e!==-1&&e<this.pos)&&(e=this.buffer.indexOf(`
`,this.pos),this.lineEndPos=e),e===-1?this.atEnd?this.buffer.substring(this.pos):null:(this.buffer[e-1]==="\r"&&(e-=1),this.buffer.substring(this.pos,e))}hasChars(e){return this.pos+e<=this.buffer.length}setNext(e){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=e,null}peek(e){return this.buffer.substr(this.pos,e)}*parseNext(e){switch(e){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let e=this.getLine();if(e===null)return this.setNext("stream");if(e[0]===Lu.BOM&&(yield*this.pushCount(1),e=e.substring(1)),e[0]==="%"){let n=e.length,i=e.indexOf("#");for(;i!==-1;){let s=e[i-1];if(s===" "||s==="	"){n=i-1;break}else i=e.indexOf("#",i+1)}for(;;){let s=e[n-1];if(s===" "||s==="	")n-=1;else break}let r=(yield*this.pushCount(n))+(yield*this.pushSpaces(!0));return yield*this.pushCount(e.length-r),this.pushNewline(),"stream"}if(this.atLineEnd()){let n=yield*this.pushSpaces(!0);return yield*this.pushCount(e.length-n),yield*this.pushNewline(),"stream"}return yield Lu.DOCUMENT,yield*this.parseLineStart()}*parseLineStart(){let e=this.charAt(0);if(!e&&!this.atEnd)return this.setNext("line-start");if(e==="-"||e==="."){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");let n=this.peek(3);if((n==="---"||n==="...")&&Zi(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,n==="---"?"doc":"stream"}return this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!Zi(this.charAt(1))&&(this.indentNext=this.indentValue),yield*this.parseBlockStart()}*parseBlockStart(){let[e,n]=this.peek(2);if(!n&&!this.atEnd)return this.setNext("block-start");if((e==="-"||e==="?"||e===":")&&Zi(n)){let i=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0));return this.indentNext=this.indentValue+1,this.indentValue+=i,yield*this.parseBlockStart()}return"doc"}*parseDocument(){yield*this.pushSpaces(!0);let e=this.getLine();if(e===null)return this.setNext("doc");let n=yield*this.pushIndicators();switch(e[n]){case"#":yield*this.pushCount(e.length-n);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil(ov),"doc";case'"':case"'":return yield*this.parseQuotedScalar();case"|":case">":return n+=yield*this.parseBlockScalarHeader(),n+=yield*this.pushSpaces(!0),yield*this.pushCount(e.length-n),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let e,n,i=-1;do e=yield*this.pushNewline(),e>0?(n=yield*this.pushSpaces(!1),this.indentValue=i=n):n=0,n+=yield*this.pushSpaces(!0);while(e+n>0);let r=this.getLine();if(r===null)return this.setNext("flow");if((i!==-1&&i<this.indentNext&&r[0]!=="#"||i===0&&(r.startsWith("---")||r.startsWith("..."))&&Zi(r[3]))&&!(i===this.indentNext-1&&this.flowLevel===1&&(r[0]==="]"||r[0]==="}")))return this.flowLevel=0,yield Lu.FLOW_END,yield*this.parseLineStart();let s=0;for(;r[s]===",";)s+=yield*this.pushCount(1),s+=yield*this.pushSpaces(!0),this.flowKey=!1;switch(s+=yield*this.pushIndicators(),r[s]){case void 0:return"flow";case"#":return yield*this.pushCount(r.length-s),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil(ov),"flow";case'"':case"'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":{let o=this.charAt(1);if(this.flowKey||Zi(o)||o===",")return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow"}default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){let e=this.charAt(0),n=this.buffer.indexOf(e,this.pos+1);if(e==="'")for(;n!==-1&&this.buffer[n+1]==="'";)n=this.buffer.indexOf("'",n+2);else for(;n!==-1;){let s=0;for(;this.buffer[n-1-s]==="\\";)s+=1;if(s%2===0)break;n=this.buffer.indexOf('"',n+1)}let i=this.buffer.substring(0,n),r=i.indexOf(`
`,this.pos);if(r!==-1){for(;r!==-1;){let s=this.continueScalar(r+1);if(s===-1)break;r=i.indexOf(`
`,s)}r!==-1&&(n=r-(i[r-1]==="\r"?2:1))}if(n===-1){if(!this.atEnd)return this.setNext("quoted-scalar");n=this.buffer.length}return yield*this.pushToIndex(n+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let e=this.pos;for(;;){let n=this.buffer[++e];if(n==="+")this.blockScalarKeep=!0;else if(n>"0"&&n<="9")this.blockScalarIndent=Number(n)-1;else if(n!=="-")break}return yield*this.pushUntil(n=>Zi(n)||n==="#")}*parseBlockScalar(){let e=this.pos-1,n=0,i;e:for(let s=this.pos;i=this.buffer[s];++s)switch(i){case" ":n+=1;break;case`
`:e=s,n=0;break;case"\r":{let o=this.buffer[s+1];if(!o&&!this.atEnd)return this.setNext("block-scalar");if(o===`
`)break}default:break e}if(!i&&!this.atEnd)return this.setNext("block-scalar");if(n>=this.indentNext){this.blockScalarIndent===-1?this.indentNext=n:this.indentNext=this.blockScalarIndent+(this.indentNext===0?1:this.indentNext);do{let s=this.continueScalar(e+1);if(s===-1)break;e=this.buffer.indexOf(`
`,s)}while(e!==-1);if(e===-1){if(!this.atEnd)return this.setNext("block-scalar");e=this.buffer.length}}let r=e+1;for(i=this.buffer[r];i===" ";)i=this.buffer[++r];if(i==="	"){for(;i==="	"||i===" "||i==="\r"||i===`
`;)i=this.buffer[++r];e=r-1}else if(!this.blockScalarKeep)do{let s=e-1,o=this.buffer[s];o==="\r"&&(o=this.buffer[--s]);let a=s;for(;o===" ";)o=this.buffer[--s];if(o===`
`&&s>=this.pos&&s+1+n>a)e=s;else break}while(!0);return yield Lu.SCALAR,yield*this.pushToIndex(e+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){let e=this.flowLevel>0,n=this.pos-1,i=this.pos-1,r;for(;r=this.buffer[++i];)if(r===":"){let s=this.buffer[i+1];if(Zi(s)||e&&Lf.has(s))break;n=i}else if(Zi(r)){let s=this.buffer[i+1];if(r==="\r"&&(s===`
`?(i+=1,r=`
`,s=this.buffer[i+1]):n=i),s==="#"||e&&Lf.has(s))break;if(r===`
`){let o=this.continueScalar(i+1);if(o===-1)break;i=Math.max(i,o-2)}}else{if(e&&Lf.has(r))break;n=i}return!r&&!this.atEnd?this.setNext("plain-scalar"):(yield Lu.SCALAR,yield*this.pushToIndex(n+1,!0),e?"flow":"doc")}*pushCount(e){return e>0?(yield this.buffer.substr(this.pos,e),this.pos+=e,e):0}*pushToIndex(e,n){let i=this.buffer.slice(this.pos,e);return i?(yield i,this.pos+=i.length,i.length):(n&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(ov))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"-":case"?":case":":{let e=this.flowLevel>0,n=this.charAt(1);if(Zi(n)||e&&Lf.has(n))return e?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}}return 0}*pushTag(){if(this.charAt(1)==="<"){let e=this.pos+2,n=this.buffer[e];for(;!Zi(n)&&n!==">";)n=this.buffer[++e];return yield*this.pushToIndex(n===">"?e+1:e,!1)}else{let e=this.pos+1,n=this.buffer[e];for(;n;)if(jV.has(n))n=this.buffer[++e];else if(n==="%"&&cA.has(this.buffer[e+1])&&cA.has(this.buffer[e+2]))n=this.buffer[e+=3];else break;return yield*this.pushToIndex(e,!1)}}*pushNewline(){let e=this.buffer[this.pos];return e===`
`?yield*this.pushCount(1):e==="\r"&&this.charAt(1)===`
`?yield*this.pushCount(2):0}*pushSpaces(e){let n=this.pos-1,i;do i=this.buffer[++n];while(i===" "||e&&i==="	");let r=n-this.pos;return r>0&&(yield this.buffer.substr(this.pos,r),this.pos=n),r}*pushUntil(e){let n=this.pos,i=this.buffer[n];for(;!e(i);)i=this.buffer[++n];return yield*this.pushToIndex(n,!1)}};uA.Lexer=av});var lv=F(lA=>{"use strict";var uv=class{constructor(){this.lineStarts=[],this.addNewLine=e=>this.lineStarts.push(e),this.linePos=e=>{let n=0,i=this.lineStarts.length;for(;n<i;){let s=n+i>>1;this.lineStarts[s]<e?n=s+1:i=s}if(this.lineStarts[n]===e)return{line:n+1,col:1};if(n===0)return{line:0,col:e};let r=this.lineStarts[n-1];return{line:n,col:e-r+1}}}};lA.LineCounter=uv});var fv=F(gA=>{"use strict";var WV=require("node:process"),dA=Nf(),KV=cv();function Cs(t,e){for(let n=0;n<t.length;++n)if(t[n].type===e)return!0;return!1}function fA(t){for(let e=0;e<t.length;++e)switch(t[e].type){case"space":case"comment":case"newline":break;default:return e}return-1}function hA(t){switch(t?.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function Of(t){switch(t.type){case"document":return t.start;case"block-map":{let e=t.items[t.items.length-1];return e.sep??e.start}case"block-seq":return t.items[t.items.length-1].start;default:return[]}}function Da(t){if(t.length===0)return[];let e=t.length;e:for(;--e>=0;)switch(t[e].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break e}for(;t[++e]?.type==="space";);return t.splice(e,t.length)}function pA(t){if(t.start.type==="flow-seq-start")for(let e of t.items)e.sep&&!e.value&&!Cs(e.start,"explicit-key-ind")&&!Cs(e.sep,"map-value-ind")&&(e.key&&(e.value=e.key),delete e.key,hA(e.value)?e.value.end?Array.prototype.push.apply(e.value.end,e.sep):e.value.end=e.sep:Array.prototype.push.apply(e.start,e.sep),delete e.sep)}var dv=class{constructor(e){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new KV.Lexer,this.onNewLine=e}*parse(e,n=!1){this.onNewLine&&this.offset===0&&this.onNewLine(0);for(let i of this.lexer.lex(e,n))yield*this.next(i);n||(yield*this.end())}*next(e){if(this.source=e,WV.env.LOG_TOKENS&&console.log("|",dA.prettyToken(e)),this.atScalar){this.atScalar=!1,yield*this.step(),this.offset+=e.length;return}let n=dA.tokenType(e);if(n)if(n==="scalar")this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=n,yield*this.step(),n){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+e.length);break;case"space":this.atNewLine&&e[0]===" "&&(this.indent+=e.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=e.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=e.length}else{let i=`Not a YAML token: ${e}`;yield*this.pop({type:"error",offset:this.offset,message:i,source:e}),this.offset+=e.length}}*end(){for(;this.stack.length>0;)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){let e=this.peek(1);if(this.type==="doc-end"&&(!e||e.type!=="doc-end")){for(;this.stack.length>0;)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source});return}if(!e)return yield*this.stream();switch(e.type){case"document":return yield*this.document(e);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(e);case"block-scalar":return yield*this.blockScalar(e);case"block-map":return yield*this.blockMap(e);case"block-seq":return yield*this.blockSequence(e);case"flow-collection":return yield*this.flowCollection(e);case"doc-end":return yield*this.documentEnd(e)}yield*this.pop()}peek(e){return this.stack[this.stack.length-e]}*pop(e){let n=e??this.stack.pop();if(!n)yield{type:"error",offset:this.offset,source:"",message:"Tried to pop an empty stack"};else if(this.stack.length===0)yield n;else{let i=this.peek(1);switch(n.type==="block-scalar"?n.indent="indent"in i?i.indent:0:n.type==="flow-collection"&&i.type==="document"&&(n.indent=0),n.type==="flow-collection"&&pA(n),i.type){case"document":i.value=n;break;case"block-scalar":i.props.push(n);break;case"block-map":{let r=i.items[i.items.length-1];if(r.value){i.items.push({start:[],key:n,sep:[]}),this.onKeyLine=!0;return}else if(r.sep)r.value=n;else{Object.assign(r,{key:n,sep:[]}),this.onKeyLine=!r.explicitKey;return}break}case"block-seq":{let r=i.items[i.items.length-1];r.value?i.items.push({start:[],value:n}):r.value=n;break}case"flow-collection":{let r=i.items[i.items.length-1];!r||r.value?i.items.push({start:[],key:n,sep:[]}):r.sep?r.value=n:Object.assign(r,{key:n,sep:[]});return}default:yield*this.pop(),yield*this.pop(n)}if((i.type==="document"||i.type==="block-map"||i.type==="block-seq")&&(n.type==="block-map"||n.type==="block-seq")){let r=n.items[n.items.length-1];r&&!r.sep&&!r.value&&r.start.length>0&&fA(r.start)===-1&&(n.indent===0||r.start.every(s=>s.type!=="comment"||s.indent<n.indent))&&(i.type==="document"?i.end=r.start:i.items.push({start:r.start}),n.items.splice(-1,1))}}}*stream(){switch(this.type){case"directive-line":yield{type:"directive",offset:this.offset,source:this.source};return;case"byte-order-mark":case"space":case"comment":case"newline":yield this.sourceToken;return;case"doc-mode":case"doc-start":{let e={type:"document",offset:this.offset,start:[]};this.type==="doc-start"&&e.start.push(this.sourceToken),this.stack.push(e);return}}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(e){if(e.value)return yield*this.lineEnd(e);switch(this.type){case"doc-start":{fA(e.start)!==-1?(yield*this.pop(),yield*this.step()):e.start.push(this.sourceToken);return}case"anchor":case"tag":case"space":case"comment":case"newline":e.start.push(this.sourceToken);return}let n=this.startBlockValue(e);n?this.stack.push(n):yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(e){if(this.type==="map-value-ind"){let n=Of(this.peek(2)),i=Da(n),r;e.end?(r=e.end,r.push(this.sourceToken),delete e.end):r=[this.sourceToken];let s={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:i,key:e,sep:r}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=s}else yield*this.lineEnd(e)}*blockScalar(e){switch(this.type){case"space":case"comment":case"newline":e.props.push(this.sourceToken);return;case"scalar":if(e.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let n=this.source.indexOf(`
`)+1;for(;n!==0;)this.onNewLine(this.offset+n),n=this.source.indexOf(`
`,n)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(e){let n=e.items[e.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,n.value){let i="end"in n.value?n.value.end:void 0;(Array.isArray(i)?i[i.length-1]:void 0)?.type==="comment"?i?.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)e.items.push({start:[this.sourceToken]});else if(n.sep)n.sep.push(this.sourceToken);else{if(this.atIndentedComment(n.start,e.indent)){let r=e.items[e.items.length-2]?.value?.end;if(Array.isArray(r)){Array.prototype.push.apply(r,n.start),r.push(this.sourceToken),e.items.pop();return}}n.start.push(this.sourceToken)}return}if(this.indent>=e.indent){let i=!this.onKeyLine&&this.indent===e.indent,r=i&&(n.sep||n.explicitKey)&&this.type!=="seq-item-ind",s=[];if(r&&n.sep&&!n.value){let o=[];for(let a=0;a<n.sep.length;++a){let c=n.sep[a];switch(c.type){case"newline":o.push(a);break;case"space":break;case"comment":c.indent>e.indent&&(o.length=0);break;default:o.length=0}}o.length>=2&&(s=n.sep.splice(o[1]))}switch(this.type){case"anchor":case"tag":r||n.value?(s.push(this.sourceToken),e.items.push({start:s}),this.onKeyLine=!0):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"explicit-key-ind":!n.sep&&!n.explicitKey?(n.start.push(this.sourceToken),n.explicitKey=!0):r||n.value?(s.push(this.sourceToken),e.items.push({start:s,explicitKey:!0})):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken],explicitKey:!0}]}),this.onKeyLine=!0;return;case"map-value-ind":if(n.explicitKey)if(n.sep)if(n.value)e.items.push({start:[],key:null,sep:[this.sourceToken]});else if(Cs(n.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:s,key:null,sep:[this.sourceToken]}]});else if(hA(n.key)&&!Cs(n.sep,"newline")){let o=Da(n.start),a=n.key,c=n.sep;c.push(this.sourceToken),delete n.key,delete n.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:o,key:a,sep:c}]})}else s.length>0?n.sep=n.sep.concat(s,this.sourceToken):n.sep.push(this.sourceToken);else if(Cs(n.start,"newline"))Object.assign(n,{key:null,sep:[this.sourceToken]});else{let o=Da(n.start);this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:o,key:null,sep:[this.sourceToken]}]})}else n.sep?n.value||r?e.items.push({start:s,key:null,sep:[this.sourceToken]}):Cs(n.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]});this.onKeyLine=!0;return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{let o=this.flowScalar(this.type);r||n.value?(e.items.push({start:s,key:o,sep:[]}),this.onKeyLine=!0):n.sep?this.stack.push(o):(Object.assign(n,{key:o,sep:[]}),this.onKeyLine=!0);return}default:{let o=this.startBlockValue(e);if(o){if(o.type==="block-seq"){if(!n.explicitKey&&n.sep&&!Cs(n.sep,"newline")){yield*this.pop({type:"error",offset:this.offset,message:"Unexpected block-seq-ind on same line with key",source:this.source});return}}else i&&e.items.push({start:s});this.stack.push(o);return}}}}yield*this.pop(),yield*this.step()}*blockSequence(e){let n=e.items[e.items.length-1];switch(this.type){case"newline":if(n.value){let i="end"in n.value?n.value.end:void 0;(Array.isArray(i)?i[i.length-1]:void 0)?.type==="comment"?i?.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)e.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(n.start,e.indent)){let r=e.items[e.items.length-2]?.value?.end;if(Array.isArray(r)){Array.prototype.push.apply(r,n.start),r.push(this.sourceToken),e.items.pop();return}}n.start.push(this.sourceToken)}return;case"anchor":case"tag":if(n.value||this.indent<=e.indent)break;n.start.push(this.sourceToken);return;case"seq-item-ind":if(this.indent!==e.indent)break;n.value||Cs(n.start,"seq-item-ind")?e.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return}if(this.indent>e.indent){let i=this.startBlockValue(e);if(i){this.stack.push(i);return}}yield*this.pop(),yield*this.step()}*flowCollection(e){let n=e.items[e.items.length-1];if(this.type==="flow-error-end"){let i;do yield*this.pop(),i=this.peek(1);while(i&&i.type==="flow-collection")}else if(e.end.length===0){switch(this.type){case"comma":case"explicit-key-ind":!n||n.sep?e.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return;case"map-value-ind":!n||n.value?e.items.push({start:[],key:null,sep:[this.sourceToken]}):n.sep?n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]});return;case"space":case"comment":case"newline":case"anchor":case"tag":!n||n.value?e.items.push({start:[this.sourceToken]}):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{let r=this.flowScalar(this.type);!n||n.value?e.items.push({start:[],key:r,sep:[]}):n.sep?this.stack.push(r):Object.assign(n,{key:r,sep:[]});return}case"flow-map-end":case"flow-seq-end":e.end.push(this.sourceToken);return}let i=this.startBlockValue(e);i?this.stack.push(i):(yield*this.pop(),yield*this.step())}else{let i=this.peek(2);if(i.type==="block-map"&&(this.type==="map-value-ind"&&i.indent===e.indent||this.type==="newline"&&!i.items[i.items.length-1].sep))yield*this.pop(),yield*this.step();else if(this.type==="map-value-ind"&&i.type!=="flow-collection"){let r=Of(i),s=Da(r);pA(e);let o=e.end.splice(1,e.end.length);o.push(this.sourceToken);let a={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:s,key:e,sep:o}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=a}else yield*this.lineEnd(e)}}flowScalar(e){if(this.onNewLine){let n=this.source.indexOf(`
`)+1;for(;n!==0;)this.onNewLine(this.offset+n),n=this.source.indexOf(`
`,n)+1}return{type:e,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(e){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;let n=Of(e),i=Da(n);return i.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:i,explicitKey:!0}]}}case"map-value-ind":{this.onKeyLine=!0;let n=Of(e),i=Da(n);return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:i,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(e,n){return this.type!=="comment"||this.indent<=n?!1:e.every(i=>i.type==="newline"||i.type==="space")}*documentEnd(e){this.type!=="doc-mode"&&(e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop()))}*lineEnd(e){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;case"space":case"comment":default:e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop())}}};gA.Parser=dv});var SA=F(Mu=>{"use strict";var mA=QC(),$V=Fu(),Ou=Au(),HV=Xy(),VV=Ye(),zV=lv(),yA=fv();function CA(t){let e=t.prettyErrors!==!1;return{lineCounter:t.lineCounter||e&&new zV.LineCounter||null,prettyErrors:e}}function GV(t,e={}){let{lineCounter:n,prettyErrors:i}=CA(e),r=new yA.Parser(n?.addNewLine),s=new mA.Composer(e),o=Array.from(s.compose(r.parse(t)));if(i&&n)for(let a of o)a.errors.forEach(Ou.prettifyError(t,n)),a.warnings.forEach(Ou.prettifyError(t,n));return o.length>0?o:Object.assign([],{empty:!0},s.streamInfo())}function vA(t,e={}){let{lineCounter:n,prettyErrors:i}=CA(e),r=new yA.Parser(n?.addNewLine),s=new mA.Composer(e),o=null;for(let a of s.compose(r.parse(t),!0,t.length))if(!o)o=a;else if(o.options.logLevel!=="silent"){o.errors.push(new Ou.YAMLParseError(a.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}return i&&n&&(o.errors.forEach(Ou.prettifyError(t,n)),o.warnings.forEach(Ou.prettifyError(t,n))),o}function JV(t,e,n){let i;typeof e=="function"?i=e:n===void 0&&e&&typeof e=="object"&&(n=e);let r=vA(t,n);if(!r)return null;if(r.warnings.forEach(s=>HV.warn(r.options.logLevel,s)),r.errors.length>0){if(r.options.logLevel!=="silent")throw r.errors[0];r.errors=[]}return r.toJS(Object.assign({reviver:i},n))}function XV(t,e,n){let i=null;if(typeof e=="function"||Array.isArray(e)?i=e:n===void 0&&e&&(n=e),typeof n=="string"&&(n=n.length),typeof n=="number"){let r=Math.round(n);n=r<1?void 0:r>8?{indent:8}:{indent:r}}if(t===void 0){let{keepUndefined:r}=n??e??{};if(!r)return}return VV.isDocument(t)&&!i?t.toString(n):new $V.Document(t,i,n).toString(n)}Mu.parse=JV;Mu.parseAllDocuments=GV;Mu.parseDocument=vA;Mu.stringify=XV});var DA=F(dt=>{"use strict";var YV=QC(),QV=Fu(),ZV=IC(),pv=Au(),e8=du(),vs=Ye(),t8=hs(),n8=Qt(),i8=ms(),r8=ys(),s8=Nf(),o8=cv(),a8=lv(),c8=fv(),Mf=SA(),bA=au();dt.Composer=YV.Composer;dt.Document=QV.Document;dt.Schema=ZV.Schema;dt.YAMLError=pv.YAMLError;dt.YAMLParseError=pv.YAMLParseError;dt.YAMLWarning=pv.YAMLWarning;dt.Alias=e8.Alias;dt.isAlias=vs.isAlias;dt.isCollection=vs.isCollection;dt.isDocument=vs.isDocument;dt.isMap=vs.isMap;dt.isNode=vs.isNode;dt.isPair=vs.isPair;dt.isScalar=vs.isScalar;dt.isSeq=vs.isSeq;dt.Pair=t8.Pair;dt.Scalar=n8.Scalar;dt.YAMLMap=i8.YAMLMap;dt.YAMLSeq=r8.YAMLSeq;dt.CST=s8;dt.Lexer=o8.Lexer;dt.LineCounter=a8.LineCounter;dt.Parser=c8.Parser;dt.parse=Mf.parse;dt.parseAllDocuments=Mf.parseAllDocuments;dt.parseDocument=Mf.parseDocument;dt.stringify=Mf.stringify;dt.visit=bA.visit;dt.visitAsync=bA.visitAsync});var Oi=F(Ht=>{"use strict";Object.defineProperty(Ht,"__esModule",{value:!0});Ht.asPromise=Ht.thenable=Ht.typedArray=Ht.stringArray=Ht.array=Ht.func=Ht.error=Ht.number=Ht.string=Ht.boolean=void 0;function W8(t){return t===!0||t===!1}Ht.boolean=W8;function qA(t){return typeof t=="string"||t instanceof String}Ht.string=qA;function K8(t){return typeof t=="number"||t instanceof Number}Ht.number=K8;function $8(t){return t instanceof Error}Ht.error=$8;function UA(t){return typeof t=="function"}Ht.func=UA;function jA(t){return Array.isArray(t)}Ht.array=jA;function H8(t){return jA(t)&&t.every(e=>qA(e))}Ht.stringArray=H8;function V8(t,e){return Array.isArray(t)&&t.every(e)}Ht.typedArray=V8;function BA(t){return t&&UA(t.then)}Ht.thenable=BA;function z8(t){return t instanceof Promise?t:BA(t)?new Promise((e,n)=>{t.then(i=>e(i),i=>n(i))}):Promise.resolve(t)}Ht.asPromise=z8});var xa=F(xn=>{"use strict";Object.defineProperty(xn,"__esModule",{value:!0});xn.stringArray=xn.array=xn.func=xn.error=xn.number=xn.string=xn.boolean=void 0;function G8(t){return t===!0||t===!1}xn.boolean=G8;function WA(t){return typeof t=="string"||t instanceof String}xn.string=WA;function J8(t){return typeof t=="number"||t instanceof Number}xn.number=J8;function X8(t){return t instanceof Error}xn.error=X8;function Y8(t){return typeof t=="function"}xn.func=Y8;function KA(t){return Array.isArray(t)}xn.array=KA;function Q8(t){return KA(t)&&t.every(e=>WA(e))}xn.stringArray=Q8});var eS=F(De=>{"use strict";Object.defineProperty(De,"__esModule",{value:!0});De.Message=De.NotificationType9=De.NotificationType8=De.NotificationType7=De.NotificationType6=De.NotificationType5=De.NotificationType4=De.NotificationType3=De.NotificationType2=De.NotificationType1=De.NotificationType0=De.NotificationType=De.RequestType9=De.RequestType8=De.RequestType7=De.RequestType6=De.RequestType5=De.RequestType4=De.RequestType3=De.RequestType2=De.RequestType1=De.RequestType=De.RequestType0=De.AbstractMessageSignature=De.ParameterStructures=De.ResponseError=De.ErrorCodes=void 0;var Do=xa(),Rv;(function(t){t.ParseError=-32700,t.InvalidRequest=-32600,t.MethodNotFound=-32601,t.InvalidParams=-32602,t.InternalError=-32603,t.jsonrpcReservedErrorRangeStart=-32099,t.serverErrorStart=-32099,t.MessageWriteError=-32099,t.MessageReadError=-32098,t.PendingResponseRejected=-32097,t.ConnectionInactive=-32096,t.ServerNotInitialized=-32002,t.UnknownErrorCode=-32001,t.jsonrpcReservedErrorRangeEnd=-32e3,t.serverErrorEnd=-32e3})(Rv||(De.ErrorCodes=Rv={}));var Av=class t extends Error{constructor(e,n,i){super(n),this.code=Do.number(e)?e:Rv.UnknownErrorCode,this.data=i,Object.setPrototypeOf(this,t.prototype)}toJson(){let e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),e}};De.ResponseError=Av;var ii=class t{constructor(e){this.kind=e}static is(e){return e===t.auto||e===t.byName||e===t.byPosition}toString(){return this.kind}};De.ParameterStructures=ii;ii.auto=new ii("auto");ii.byPosition=new ii("byPosition");ii.byName=new ii("byName");var bt=class{constructor(e,n){this.method=e,this.numberOfParams=n}get parameterStructures(){return ii.auto}};De.AbstractMessageSignature=bt;var Iv=class extends bt{constructor(e){super(e,0)}};De.RequestType0=Iv;var _v=class extends bt{constructor(e,n=ii.auto){super(e,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};De.RequestType=_v;var Nv=class extends bt{constructor(e,n=ii.auto){super(e,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};De.RequestType1=Nv;var Lv=class extends bt{constructor(e){super(e,2)}};De.RequestType2=Lv;var Ov=class extends bt{constructor(e){super(e,3)}};De.RequestType3=Ov;var Mv=class extends bt{constructor(e){super(e,4)}};De.RequestType4=Mv;var qv=class extends bt{constructor(e){super(e,5)}};De.RequestType5=qv;var Uv=class extends bt{constructor(e){super(e,6)}};De.RequestType6=Uv;var jv=class extends bt{constructor(e){super(e,7)}};De.RequestType7=jv;var Bv=class extends bt{constructor(e){super(e,8)}};De.RequestType8=Bv;var Wv=class extends bt{constructor(e){super(e,9)}};De.RequestType9=Wv;var Kv=class extends bt{constructor(e,n=ii.auto){super(e,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};De.NotificationType=Kv;var $v=class extends bt{constructor(e){super(e,0)}};De.NotificationType0=$v;var Hv=class extends bt{constructor(e,n=ii.auto){super(e,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};De.NotificationType1=Hv;var Vv=class extends bt{constructor(e){super(e,2)}};De.NotificationType2=Vv;var zv=class extends bt{constructor(e){super(e,3)}};De.NotificationType3=zv;var Gv=class extends bt{constructor(e){super(e,4)}};De.NotificationType4=Gv;var Jv=class extends bt{constructor(e){super(e,5)}};De.NotificationType5=Jv;var Xv=class extends bt{constructor(e){super(e,6)}};De.NotificationType6=Xv;var Yv=class extends bt{constructor(e){super(e,7)}};De.NotificationType7=Yv;var Qv=class extends bt{constructor(e){super(e,8)}};De.NotificationType8=Qv;var Zv=class extends bt{constructor(e){super(e,9)}};De.NotificationType9=Zv;var $A;(function(t){function e(r){let s=r;return s&&Do.string(s.method)&&(Do.string(s.id)||Do.number(s.id))}t.isRequest=e;function n(r){let s=r;return s&&Do.string(s.method)&&r.id===void 0}t.isNotification=n;function i(r){let s=r;return s&&(s.result!==void 0||!!s.error)&&(Do.string(s.id)||Do.number(s.id)||s.id===null)}t.isResponse=i})($A||(De.Message=$A={}))});var nS=F(Ds=>{"use strict";var HA;Object.defineProperty(Ds,"__esModule",{value:!0});Ds.LRUCache=Ds.LinkedMap=Ds.Touch=void 0;var En;(function(t){t.None=0,t.First=1,t.AsOld=t.First,t.Last=2,t.AsNew=t.Last})(En||(Ds.Touch=En={}));var zf=class{constructor(){this[HA]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(e){return this._map.has(e)}get(e,n=En.None){let i=this._map.get(e);if(i)return n!==En.None&&this.touch(i,n),i.value}set(e,n,i=En.None){let r=this._map.get(e);if(r)r.value=n,i!==En.None&&this.touch(r,i);else{switch(r={key:e,value:n,next:void 0,previous:void 0},i){case En.None:this.addItemLast(r);break;case En.First:this.addItemFirst(r);break;case En.Last:this.addItemLast(r);break;default:this.addItemLast(r);break}this._map.set(e,r),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){let n=this._map.get(e);if(n)return this._map.delete(e),this.removeItem(n),this._size--,n.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,n){let i=this._state,r=this._head;for(;r;){if(n?e.bind(n)(r.value,r.key,this):e(r.value,r.key,this),this._state!==i)throw new Error("LinkedMap got modified during iteration.");r=r.next}}keys(){let e=this._state,n=this._head,i={[Symbol.iterator]:()=>i,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(n){let r={value:n.key,done:!1};return n=n.next,r}else return{value:void 0,done:!0}}};return i}values(){let e=this._state,n=this._head,i={[Symbol.iterator]:()=>i,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(n){let r={value:n.value,done:!1};return n=n.next,r}else return{value:void 0,done:!0}}};return i}entries(){let e=this._state,n=this._head,i={[Symbol.iterator]:()=>i,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(n){let r={value:[n.key,n.value],done:!1};return n=n.next,r}else return{value:void 0,done:!0}}};return i}[(HA=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(e){if(e>=this.size)return;if(e===0){this.clear();return}let n=this._head,i=this.size;for(;n&&i>e;)this._map.delete(n.key),n=n.next,i--;this._head=n,this._size=i,n&&(n.previous=void 0),this._state++}addItemFirst(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e,this._state++}addItemLast(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{let n=e.next,i=e.previous;if(!n||!i)throw new Error("Invalid list");n.previous=i,i.next=n}e.next=void 0,e.previous=void 0,this._state++}touch(e,n){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(n!==En.First&&n!==En.Last)){if(n===En.First){if(e===this._head)return;let i=e.next,r=e.previous;e===this._tail?(r.next=void 0,this._tail=r):(i.previous=r,r.next=i),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(n===En.Last){if(e===this._tail)return;let i=e.next,r=e.previous;e===this._head?(i.previous=void 0,this._head=i):(i.previous=r,r.next=i),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}}toJSON(){let e=[];return this.forEach((n,i)=>{e.push([i,n])}),e}fromJSON(e){this.clear();for(let[n,i]of e)this.set(n,i)}};Ds.LinkedMap=zf;var tS=class extends zf{constructor(e,n=1){super(),this._limit=e,this._ratio=Math.min(Math.max(0,n),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get ratio(){return this._ratio}set ratio(e){this._ratio=Math.min(Math.max(0,e),1),this.checkTrim()}get(e,n=En.AsNew){return super.get(e,n)}peek(e){return super.get(e,En.None)}set(e,n){return super.set(e,n,En.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}};Ds.LRUCache=tS});var zA=F(Gf=>{"use strict";Object.defineProperty(Gf,"__esModule",{value:!0});Gf.Disposable=void 0;var VA;(function(t){function e(n){return{dispose:n}}t.create=e})(VA||(Gf.Disposable=VA={}))});var Ts=F(sS=>{"use strict";Object.defineProperty(sS,"__esModule",{value:!0});var iS;function rS(){if(iS===void 0)throw new Error("No runtime abstraction layer installed");return iS}(function(t){function e(n){if(n===void 0)throw new Error("No runtime abstraction layer provided");iS=n}t.install=e})(rS||(rS={}));sS.default=rS});var ka=F(Ea=>{"use strict";Object.defineProperty(Ea,"__esModule",{value:!0});Ea.Emitter=Ea.Event=void 0;var Z8=Ts(),GA;(function(t){let e={dispose(){}};t.None=function(){return e}})(GA||(Ea.Event=GA={}));var oS=class{add(e,n=null,i){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(n),Array.isArray(i)&&i.push({dispose:()=>this.remove(e,n)})}remove(e,n=null){if(!this._callbacks)return;let i=!1;for(let r=0,s=this._callbacks.length;r<s;r++)if(this._callbacks[r]===e)if(this._contexts[r]===n){this._callbacks.splice(r,1),this._contexts.splice(r,1);return}else i=!0;if(i)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...e){if(!this._callbacks)return[];let n=[],i=this._callbacks.slice(0),r=this._contexts.slice(0);for(let s=0,o=i.length;s<o;s++)try{n.push(i[s].apply(r[s],e))}catch(a){(0,Z8.default)().console.error(a)}return n}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}},Jf=class t{constructor(e){this._options=e}get event(){return this._event||(this._event=(e,n,i)=>{this._callbacks||(this._callbacks=new oS),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,n);let r={dispose:()=>{this._callbacks&&(this._callbacks.remove(e,n),r.dispose=t._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(i)&&i.push(r),r}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};Ea.Emitter=Jf;Jf._noop=function(){}});var Qf=F(Fa=>{"use strict";Object.defineProperty(Fa,"__esModule",{value:!0});Fa.CancellationTokenSource=Fa.CancellationToken=void 0;var ez=Ts(),tz=xa(),aS=ka(),Xf;(function(t){t.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:aS.Event.None}),t.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:aS.Event.None});function e(n){let i=n;return i&&(i===t.None||i===t.Cancelled||tz.boolean(i.isCancellationRequested)&&!!i.onCancellationRequested)}t.is=e})(Xf||(Fa.CancellationToken=Xf={}));var nz=Object.freeze(function(t,e){let n=(0,ez.default)().timer.setTimeout(t.bind(e),0);return{dispose(){n.dispose()}}}),Yf=class{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?nz:(this._emitter||(this._emitter=new aS.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}},cS=class{get token(){return this._token||(this._token=new Yf),this._token}cancel(){this._token?this._token.cancel():this._token=Xf.Cancelled}dispose(){this._token?this._token instanceof Yf&&this._token.dispose():this._token=Xf.None}};Fa.CancellationTokenSource=cS});var JA=F(Pa=>{"use strict";Object.defineProperty(Pa,"__esModule",{value:!0});Pa.SharedArrayReceiverStrategy=Pa.SharedArraySenderStrategy=void 0;var iz=Qf(),Wu;(function(t){t.Continue=0,t.Cancelled=1})(Wu||(Wu={}));var uS=class{constructor(){this.buffers=new Map}enableCancellation(e){if(e.id===null)return;let n=new SharedArrayBuffer(4),i=new Int32Array(n,0,1);i[0]=Wu.Continue,this.buffers.set(e.id,n),e.$cancellationData=n}async sendCancellation(e,n){let i=this.buffers.get(n);if(i===void 0)return;let r=new Int32Array(i,0,1);Atomics.store(r,0,Wu.Cancelled)}cleanup(e){this.buffers.delete(e)}dispose(){this.buffers.clear()}};Pa.SharedArraySenderStrategy=uS;var lS=class{constructor(e){this.data=new Int32Array(e,0,1)}get isCancellationRequested(){return Atomics.load(this.data,0)===Wu.Cancelled}get onCancellationRequested(){throw new Error("Cancellation over SharedArrayBuffer doesn't support cancellation events")}},dS=class{constructor(e){this.token=new lS(e)}cancel(){}dispose(){}},fS=class{constructor(){this.kind="request"}createCancellationTokenSource(e){let n=e.$cancellationData;return n===void 0?new iz.CancellationTokenSource:new dS(n)}};Pa.SharedArrayReceiverStrategy=fS});var hS=F(Zf=>{"use strict";Object.defineProperty(Zf,"__esModule",{value:!0});Zf.Semaphore=void 0;var rz=Ts(),pS=class{constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise((n,i)=>{this._waiting.push({thunk:e,resolve:n,reject:i}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,rz.default)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let n=e.thunk();n instanceof Promise?n.then(i=>{this._active--,e.resolve(i),this.runNext()},i=>{this._active--,e.reject(i),this.runNext()}):(this._active--,e.resolve(n),this.runNext())}catch(n){this._active--,e.reject(n),this.runNext()}}};Zf.Semaphore=pS});var YA=F(ws=>{"use strict";Object.defineProperty(ws,"__esModule",{value:!0});ws.ReadableStreamMessageReader=ws.AbstractMessageReader=ws.MessageReader=void 0;var mS=Ts(),Ra=xa(),gS=ka(),sz=hS(),XA;(function(t){function e(n){let i=n;return i&&Ra.func(i.listen)&&Ra.func(i.dispose)&&Ra.func(i.onError)&&Ra.func(i.onClose)&&Ra.func(i.onPartialMessage)}t.is=e})(XA||(ws.MessageReader=XA={}));var ep=class{constructor(){this.errorEmitter=new gS.Emitter,this.closeEmitter=new gS.Emitter,this.partialMessageEmitter=new gS.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e){this.errorEmitter.fire(this.asError(e))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(e){this.partialMessageEmitter.fire(e)}asError(e){return e instanceof Error?e:new Error(`Reader received error. Reason: ${Ra.string(e.message)?e.message:"unknown"}`)}};ws.AbstractMessageReader=ep;var yS;(function(t){function e(n){let i,r,s,o=new Map,a,c=new Map;if(n===void 0||typeof n=="string")i=n??"utf-8";else{if(i=n.charset??"utf-8",n.contentDecoder!==void 0&&(s=n.contentDecoder,o.set(s.name,s)),n.contentDecoders!==void 0)for(let l of n.contentDecoders)o.set(l.name,l);if(n.contentTypeDecoder!==void 0&&(a=n.contentTypeDecoder,c.set(a.name,a)),n.contentTypeDecoders!==void 0)for(let l of n.contentTypeDecoders)c.set(l.name,l)}return a===void 0&&(a=(0,mS.default)().applicationJson.decoder,c.set(a.name,a)),{charset:i,contentDecoder:s,contentDecoders:o,contentTypeDecoder:a,contentTypeDecoders:c}}t.fromOptions=e})(yS||(yS={}));var CS=class extends ep{constructor(e,n){super(),this.readable=e,this.options=yS.fromOptions(n),this.buffer=(0,mS.default)().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0,this.readSemaphore=new sz.Semaphore(1)}set partialMessageTimeout(e){this._partialMessageTimeout=e}get partialMessageTimeout(){return this._partialMessageTimeout}listen(e){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=e;let n=this.readable.onData(i=>{this.onData(i)});return this.readable.onError(i=>this.fireError(i)),this.readable.onClose(()=>this.fireClose()),n}onData(e){try{for(this.buffer.append(e);;){if(this.nextMessageLength===-1){let i=this.buffer.tryReadHeaders(!0);if(!i)return;let r=i.get("content-length");if(!r){this.fireError(new Error(`Header must provide a Content-Length property.
${JSON.stringify(Object.fromEntries(i))}`));return}let s=parseInt(r);if(isNaN(s)){this.fireError(new Error(`Content-Length value must be a number. Got ${r}`));return}this.nextMessageLength=s}let n=this.buffer.tryReadBody(this.nextMessageLength);if(n===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1,this.readSemaphore.lock(async()=>{let i=this.options.contentDecoder!==void 0?await this.options.contentDecoder.decode(n):n,r=await this.options.contentTypeDecoder.decode(i,this.options);this.callback(r)}).catch(i=>{this.fireError(i)})}}catch(n){this.fireError(n)}}clearPartialMessageTimer(){this.partialMessageTimer&&(this.partialMessageTimer.dispose(),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=(0,mS.default)().timer.setTimeout((e,n)=>{this.partialMessageTimer=void 0,e===this.messageToken&&(this.firePartialMessage({messageToken:e,waitingTime:n}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}};ws.ReadableStreamMessageReader=CS});var nI=F(xs=>{"use strict";Object.defineProperty(xs,"__esModule",{value:!0});xs.WriteableStreamMessageWriter=xs.AbstractMessageWriter=xs.MessageWriter=void 0;var QA=Ts(),Ku=xa(),oz=hS(),ZA=ka(),az="Content-Length: ",eI=`\r
`,tI;(function(t){function e(n){let i=n;return i&&Ku.func(i.dispose)&&Ku.func(i.onClose)&&Ku.func(i.onError)&&Ku.func(i.write)}t.is=e})(tI||(xs.MessageWriter=tI={}));var tp=class{constructor(){this.errorEmitter=new ZA.Emitter,this.closeEmitter=new ZA.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e,n,i){this.errorEmitter.fire([this.asError(e),n,i])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(e){return e instanceof Error?e:new Error(`Writer received error. Reason: ${Ku.string(e.message)?e.message:"unknown"}`)}};xs.AbstractMessageWriter=tp;var vS;(function(t){function e(n){return n===void 0||typeof n=="string"?{charset:n??"utf-8",contentTypeEncoder:(0,QA.default)().applicationJson.encoder}:{charset:n.charset??"utf-8",contentEncoder:n.contentEncoder,contentTypeEncoder:n.contentTypeEncoder??(0,QA.default)().applicationJson.encoder}}t.fromOptions=e})(vS||(vS={}));var SS=class extends tp{constructor(e,n){super(),this.writable=e,this.options=vS.fromOptions(n),this.errorCount=0,this.writeSemaphore=new oz.Semaphore(1),this.writable.onError(i=>this.fireError(i)),this.writable.onClose(()=>this.fireClose())}async write(e){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(e,this.options).then(i=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(i):i).then(i=>{let r=[];return r.push(az,i.byteLength.toString(),eI),r.push(eI),this.doWrite(e,r,i)},i=>{throw this.fireError(i),i}))}async doWrite(e,n,i){try{return await this.writable.write(n.join(""),"ascii"),this.writable.write(i)}catch(r){return this.handleError(r,e),Promise.reject(r)}}handleError(e,n){this.errorCount++,this.fireError(e,n,this.errorCount)}end(){this.writable.end()}};xs.WriteableStreamMessageWriter=SS});var iI=F(np=>{"use strict";Object.defineProperty(np,"__esModule",{value:!0});np.AbstractMessageBuffer=void 0;var cz=13,uz=10,lz=`\r
`,bS=class{constructor(e="utf-8"){this._encoding=e,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(e){let n=typeof e=="string"?this.fromString(e,this._encoding):e;this._chunks.push(n),this._totalLength+=n.byteLength}tryReadHeaders(e=!1){if(this._chunks.length===0)return;let n=0,i=0,r=0,s=0;e:for(;i<this._chunks.length;){let l=this._chunks[i];for(r=0;r<l.length;){switch(l[r]){case cz:switch(n){case 0:n=1;break;case 2:n=3;break;default:n=0}break;case uz:switch(n){case 1:n=2;break;case 3:n=4,r++;break e;default:n=0}break;default:n=0}r++}s+=l.byteLength,i++}if(n!==4)return;let o=this._read(s+r),a=new Map,c=this.toString(o,"ascii").split(lz);if(c.length<2)return a;for(let l=0;l<c.length-2;l++){let f=c[l],g=f.indexOf(":");if(g===-1)throw new Error(`Message header must separate key and value using ':'
${f}`);let p=f.substr(0,g),u=f.substr(g+1).trim();a.set(e?p.toLowerCase():p,u)}return a}tryReadBody(e){if(!(this._totalLength<e))return this._read(e)}get numberOfBytes(){return this._totalLength}_read(e){if(e===0)return this.emptyBuffer();if(e>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===e){let s=this._chunks[0];return this._chunks.shift(),this._totalLength-=e,this.asNative(s)}if(this._chunks[0].byteLength>e){let s=this._chunks[0],o=this.asNative(s,e);return this._chunks[0]=s.slice(e),this._totalLength-=e,o}let n=this.allocNative(e),i=0,r=0;for(;e>0;){let s=this._chunks[r];if(s.byteLength>e){let o=s.slice(0,e);n.set(o,i),i+=e,this._chunks[r]=s.slice(e),this._totalLength-=e,e-=e}else n.set(s,i),i+=s.byteLength,this._chunks.shift(),this._totalLength-=s.byteLength,e-=s.byteLength}return n}};np.AbstractMessageBuffer=bS});var cI=F(Le=>{"use strict";Object.defineProperty(Le,"__esModule",{value:!0});Le.createMessageConnection=Le.ConnectionOptions=Le.MessageStrategy=Le.CancellationStrategy=Le.CancellationSenderStrategy=Le.CancellationReceiverStrategy=Le.RequestCancellationReceiverStrategy=Le.IdCancellationReceiverStrategy=Le.ConnectionStrategy=Le.ConnectionError=Le.ConnectionErrors=Le.LogTraceNotification=Le.SetTraceNotification=Le.TraceFormat=Le.TraceValues=Le.Trace=Le.NullLogger=Le.ProgressType=Le.ProgressToken=void 0;var rI=Ts(),Mt=xa(),Pe=eS(),sI=nS(),$u=ka(),DS=Qf(),zu;(function(t){t.type=new Pe.NotificationType("$/cancelRequest")})(zu||(zu={}));var TS;(function(t){function e(n){return typeof n=="string"||typeof n=="number"}t.is=e})(TS||(Le.ProgressToken=TS={}));var Hu;(function(t){t.type=new Pe.NotificationType("$/progress")})(Hu||(Hu={}));var wS=class{constructor(){}};Le.ProgressType=wS;var xS;(function(t){function e(n){return Mt.func(n)}t.is=e})(xS||(xS={}));Le.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});var st;(function(t){t[t.Off=0]="Off",t[t.Messages=1]="Messages",t[t.Compact=2]="Compact",t[t.Verbose=3]="Verbose"})(st||(Le.Trace=st={}));var oI;(function(t){t.Off="off",t.Messages="messages",t.Compact="compact",t.Verbose="verbose"})(oI||(Le.TraceValues=oI={}));(function(t){function e(i){if(!Mt.string(i))return t.Off;switch(i=i.toLowerCase(),i){case"off":return t.Off;case"messages":return t.Messages;case"compact":return t.Compact;case"verbose":return t.Verbose;default:return t.Off}}t.fromString=e;function n(i){switch(i){case t.Off:return"off";case t.Messages:return"messages";case t.Compact:return"compact";case t.Verbose:return"verbose";default:return"off"}}t.toString=n})(st||(Le.Trace=st={}));var Ci;(function(t){t.Text="text",t.JSON="json"})(Ci||(Le.TraceFormat=Ci={}));(function(t){function e(n){return Mt.string(n)?(n=n.toLowerCase(),n==="json"?t.JSON:t.Text):t.Text}t.fromString=e})(Ci||(Le.TraceFormat=Ci={}));var ES;(function(t){t.type=new Pe.NotificationType("$/setTrace")})(ES||(Le.SetTraceNotification=ES={}));var ip;(function(t){t.type=new Pe.NotificationType("$/logTrace")})(ip||(Le.LogTraceNotification=ip={}));var Vu;(function(t){t[t.Closed=1]="Closed",t[t.Disposed=2]="Disposed",t[t.AlreadyListening=3]="AlreadyListening"})(Vu||(Le.ConnectionErrors=Vu={}));var Aa=class t extends Error{constructor(e,n){super(n),this.code=e,Object.setPrototypeOf(this,t.prototype)}};Le.ConnectionError=Aa;var kS;(function(t){function e(n){let i=n;return i&&Mt.func(i.cancelUndispatched)}t.is=e})(kS||(Le.ConnectionStrategy=kS={}));var rp;(function(t){function e(n){let i=n;return i&&(i.kind===void 0||i.kind==="id")&&Mt.func(i.createCancellationTokenSource)&&(i.dispose===void 0||Mt.func(i.dispose))}t.is=e})(rp||(Le.IdCancellationReceiverStrategy=rp={}));var FS;(function(t){function e(n){let i=n;return i&&i.kind==="request"&&Mt.func(i.createCancellationTokenSource)&&(i.dispose===void 0||Mt.func(i.dispose))}t.is=e})(FS||(Le.RequestCancellationReceiverStrategy=FS={}));var sp;(function(t){t.Message=Object.freeze({createCancellationTokenSource(n){return new DS.CancellationTokenSource}});function e(n){return rp.is(n)||FS.is(n)}t.is=e})(sp||(Le.CancellationReceiverStrategy=sp={}));var op;(function(t){t.Message=Object.freeze({sendCancellation(n,i){return n.sendNotification(zu.type,{id:i})},cleanup(n){}});function e(n){let i=n;return i&&Mt.func(i.sendCancellation)&&Mt.func(i.cleanup)}t.is=e})(op||(Le.CancellationSenderStrategy=op={}));var ap;(function(t){t.Message=Object.freeze({receiver:sp.Message,sender:op.Message});function e(n){let i=n;return i&&sp.is(i.receiver)&&op.is(i.sender)}t.is=e})(ap||(Le.CancellationStrategy=ap={}));var cp;(function(t){function e(n){let i=n;return i&&Mt.func(i.handleMessage)}t.is=e})(cp||(Le.MessageStrategy=cp={}));var aI;(function(t){function e(n){let i=n;return i&&(ap.is(i.cancellationStrategy)||kS.is(i.connectionStrategy)||cp.is(i.messageStrategy))}t.is=e})(aI||(Le.ConnectionOptions=aI={}));var er;(function(t){t[t.New=1]="New",t[t.Listening=2]="Listening",t[t.Closed=3]="Closed",t[t.Disposed=4]="Disposed"})(er||(er={}));function dz(t,e,n,i){let r=n!==void 0?n:Le.NullLogger,s=0,o=0,a=0,c="2.0",l,f=new Map,g,p=new Map,u=new Map,d,h=new sI.LinkedMap,m=new Map,C=new Set,D=new Map,w=st.Off,k=Ci.Text,I,B=er.New,W=new $u.Emitter,j=new $u.Emitter,ie=new $u.Emitter,ne=new $u.Emitter,H=new $u.Emitter,N=i&&i.cancellationStrategy?i.cancellationStrategy:ap.Message;function $(v){if(v===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+v.toString()}function te(v){return v===null?"res-unknown-"+(++a).toString():"res-"+v.toString()}function K(){return"not-"+(++o).toString()}function G(v,P){Pe.Message.isRequest(P)?v.set($(P.id),P):Pe.Message.isResponse(P)?v.set(te(P.id),P):v.set(K(),P)}function Q(v){}function ae(){return B===er.Listening}function se(){return B===er.Closed}function re(){return B===er.Disposed}function ye(){(B===er.New||B===er.Listening)&&(B=er.Closed,j.fire(void 0))}function ve(v){W.fire([v,void 0,void 0])}function $e(v){W.fire(v)}t.onClose(ye),t.onError(ve),e.onClose(ye),e.onError($e);function ke(){d||h.size===0||(d=(0,rI.default)().timer.setImmediate(()=>{d=void 0,wt()}))}function ht(v){Pe.Message.isRequest(v)?qn(v):Pe.Message.isNotification(v)?jn(v):Pe.Message.isResponse(v)?Un(v):Xn(v)}function wt(){if(h.size===0)return;let v=h.shift();try{let P=i?.messageStrategy;cp.is(P)?P.handleMessage(v,ht):ht(v)}finally{ke()}}let Jn=v=>{try{if(Pe.Message.isNotification(v)&&v.method===zu.type.method){let P=v.params.id,q=$(P),z=h.get(q);if(Pe.Message.isRequest(z)){let ge=i?.connectionStrategy,we=ge&&ge.cancelUndispatched?ge.cancelUndispatched(z,Q):void 0;if(we&&(we.error!==void 0||we.result!==void 0)){h.delete(q),D.delete(P),we.id=z.id,rn(we,v.method,Date.now()),e.write(we).catch(()=>r.error("Sending response for canceled message failed."));return}}let Ce=D.get(P);if(Ce!==void 0){Ce.cancel(),cn(v);return}else C.add(P)}G(h,v)}finally{ke()}};function qn(v){if(re())return;function P(ue,Se,de){let L={jsonrpc:c,id:v.id};ue instanceof Pe.ResponseError?L.error=ue.toJson():L.result=ue===void 0?null:ue,rn(L,Se,de),e.write(L).catch(()=>r.error("Sending response failed."))}function q(ue,Se,de){let L={jsonrpc:c,id:v.id,error:ue.toJson()};rn(L,Se,de),e.write(L).catch(()=>r.error("Sending response failed."))}function z(ue,Se,de){ue===void 0&&(ue=null);let L={jsonrpc:c,id:v.id,result:ue};rn(L,Se,de),e.write(L).catch(()=>r.error("Sending response failed."))}Ri(v);let Ce=f.get(v.method),ge,we;Ce&&(ge=Ce.type,we=Ce.handler);let xe=Date.now();if(we||l){let ue=v.id??String(Date.now()),Se=rp.is(N.receiver)?N.receiver.createCancellationTokenSource(ue):N.receiver.createCancellationTokenSource(v);v.id!==null&&C.has(v.id)&&Se.cancel(),v.id!==null&&D.set(ue,Se);try{let de;if(we)if(v.params===void 0){if(ge!==void 0&&ge.numberOfParams!==0){q(new Pe.ResponseError(Pe.ErrorCodes.InvalidParams,`Request ${v.method} defines ${ge.numberOfParams} params but received none.`),v.method,xe);return}de=we(Se.token)}else if(Array.isArray(v.params)){if(ge!==void 0&&ge.parameterStructures===Pe.ParameterStructures.byName){q(new Pe.ResponseError(Pe.ErrorCodes.InvalidParams,`Request ${v.method} defines parameters by name but received parameters by position`),v.method,xe);return}de=we(...v.params,Se.token)}else{if(ge!==void 0&&ge.parameterStructures===Pe.ParameterStructures.byPosition){q(new Pe.ResponseError(Pe.ErrorCodes.InvalidParams,`Request ${v.method} defines parameters by position but received parameters by name`),v.method,xe);return}de=we(v.params,Se.token)}else l&&(de=l(v.method,v.params,Se.token));let L=de;de?L.then?L.then(M=>{D.delete(ue),P(M,v.method,xe)},M=>{D.delete(ue),M instanceof Pe.ResponseError?q(M,v.method,xe):M&&Mt.string(M.message)?q(new Pe.ResponseError(Pe.ErrorCodes.InternalError,`Request ${v.method} failed with message: ${M.message}`),v.method,xe):q(new Pe.ResponseError(Pe.ErrorCodes.InternalError,`Request ${v.method} failed unexpectedly without providing any details.`),v.method,xe)}):(D.delete(ue),P(de,v.method,xe)):(D.delete(ue),z(de,v.method,xe))}catch(de){D.delete(ue),de instanceof Pe.ResponseError?P(de,v.method,xe):de&&Mt.string(de.message)?q(new Pe.ResponseError(Pe.ErrorCodes.InternalError,`Request ${v.method} failed with message: ${de.message}`),v.method,xe):q(new Pe.ResponseError(Pe.ErrorCodes.InternalError,`Request ${v.method} failed unexpectedly without providing any details.`),v.method,xe)}}else q(new Pe.ResponseError(Pe.ErrorCodes.MethodNotFound,`Unhandled method ${v.method}`),v.method,xe)}function Un(v){if(!re())if(v.id===null)v.error?r.error(`Received response message without id: Error is: 
${JSON.stringify(v.error,void 0,4)}`):r.error("Received response message without id. No further error information provided.");else{let P=v.id,q=m.get(P);if(Yn(v,q),q!==void 0){m.delete(P);try{if(v.error){let z=v.error;q.reject(new Pe.ResponseError(z.code,z.message,z.data))}else if(v.result!==void 0)q.resolve(v.result);else throw new Error("Should never happen.")}catch(z){z.message?r.error(`Response handler '${q.method}' failed with message: ${z.message}`):r.error(`Response handler '${q.method}' failed unexpectedly.`)}}}}function jn(v){if(re())return;let P,q;if(v.method===zu.type.method){let z=v.params.id;C.delete(z),cn(v);return}else{let z=p.get(v.method);z&&(q=z.handler,P=z.type)}if(q||g)try{if(cn(v),q)if(v.params===void 0)P!==void 0&&P.numberOfParams!==0&&P.parameterStructures!==Pe.ParameterStructures.byName&&r.error(`Notification ${v.method} defines ${P.numberOfParams} params but received none.`),q();else if(Array.isArray(v.params)){let z=v.params;v.method===Hu.type.method&&z.length===2&&TS.is(z[0])?q({token:z[0],value:z[1]}):(P!==void 0&&(P.parameterStructures===Pe.ParameterStructures.byName&&r.error(`Notification ${v.method} defines parameters by name but received parameters by position`),P.numberOfParams!==v.params.length&&r.error(`Notification ${v.method} defines ${P.numberOfParams} params but received ${z.length} arguments`)),q(...z))}else P!==void 0&&P.parameterStructures===Pe.ParameterStructures.byPosition&&r.error(`Notification ${v.method} defines parameters by position but received parameters by name`),q(v.params);else g&&g(v.method,v.params)}catch(z){z.message?r.error(`Notification handler '${v.method}' failed with message: ${z.message}`):r.error(`Notification handler '${v.method}' failed unexpectedly.`)}else ie.fire(v)}function Xn(v){if(!v){r.error("Received empty message.");return}r.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(v,null,4)}`);let P=v;if(Mt.string(P.id)||Mt.number(P.id)){let q=P.id,z=m.get(q);z&&z.reject(new Error("The received response has neither a result nor an error property."))}}function nt(v){if(v!=null)switch(w){case st.Verbose:return JSON.stringify(v,null,4);case st.Compact:return JSON.stringify(v);default:return}}function pi(v){if(!(w===st.Off||!I))if(k===Ci.Text){let P;(w===st.Verbose||w===st.Compact)&&v.params&&(P=`Params: ${nt(v.params)}

`),I.log(`Sending request '${v.method} - (${v.id})'.`,P)}else lt("send-request",v)}function Bn(v){if(!(w===st.Off||!I))if(k===Ci.Text){let P;(w===st.Verbose||w===st.Compact)&&(v.params?P=`Params: ${nt(v.params)}

`:P=`No parameters provided.

`),I.log(`Sending notification '${v.method}'.`,P)}else lt("send-notification",v)}function rn(v,P,q){if(!(w===st.Off||!I))if(k===Ci.Text){let z;(w===st.Verbose||w===st.Compact)&&(v.error&&v.error.data?z=`Error data: ${nt(v.error.data)}

`:v.result?z=`Result: ${nt(v.result)}

`:v.error===void 0&&(z=`No result returned.

`)),I.log(`Sending response '${P} - (${v.id})'. Processing request took ${Date.now()-q}ms`,z)}else lt("send-response",v)}function Ri(v){if(!(w===st.Off||!I))if(k===Ci.Text){let P;(w===st.Verbose||w===st.Compact)&&v.params&&(P=`Params: ${nt(v.params)}

`),I.log(`Received request '${v.method} - (${v.id})'.`,P)}else lt("receive-request",v)}function cn(v){if(!(w===st.Off||!I||v.method===ip.type.method))if(k===Ci.Text){let P;(w===st.Verbose||w===st.Compact)&&(v.params?P=`Params: ${nt(v.params)}

`:P=`No parameters provided.

`),I.log(`Received notification '${v.method}'.`,P)}else lt("receive-notification",v)}function Yn(v,P){if(!(w===st.Off||!I))if(k===Ci.Text){let q;if((w===st.Verbose||w===st.Compact)&&(v.error&&v.error.data?q=`Error data: ${nt(v.error.data)}

`:v.result?q=`Result: ${nt(v.result)}

`:v.error===void 0&&(q=`No result returned.

`)),P){let z=v.error?` Request failed: ${v.error.message} (${v.error.code}).`:"";I.log(`Received response '${P.method} - (${v.id})' in ${Date.now()-P.timerStart}ms.${z}`,q)}else I.log(`Received response ${v.id} without active response promise.`,q)}else lt("receive-response",v)}function lt(v,P){if(!I||w===st.Off)return;let q={isLSPMessage:!0,type:v,message:P,timestamp:Date.now()};I.log(q)}function xt(){if(se())throw new Aa(Vu.Closed,"Connection is closed.");if(re())throw new Aa(Vu.Disposed,"Connection is disposed.")}function Gt(){if(ae())throw new Aa(Vu.AlreadyListening,"Connection is already listening")}function mn(){if(!ae())throw new Error("Call listen() first.")}function Wt(v){return v===void 0?null:v}function Wn(v){if(v!==null)return v}function Qn(v){return v!=null&&!Array.isArray(v)&&typeof v=="object"}function yn(v,P){switch(v){case Pe.ParameterStructures.auto:return Qn(P)?Wn(P):[Wt(P)];case Pe.ParameterStructures.byName:if(!Qn(P))throw new Error("Received parameters by name but param is not an object literal.");return Wn(P);case Pe.ParameterStructures.byPosition:return[Wt(P)];default:throw new Error(`Unknown parameter structure ${v.toString()}`)}}function Zn(v,P){let q,z=v.numberOfParams;switch(z){case 0:q=void 0;break;case 1:q=yn(v.parameterStructures,P[0]);break;default:q=[];for(let Ce=0;Ce<P.length&&Ce<z;Ce++)q.push(Wt(P[Ce]));if(P.length<z)for(let Ce=P.length;Ce<z;Ce++)q.push(null);break}return q}let Et={sendNotification:(v,...P)=>{xt();let q,z;if(Mt.string(v)){q=v;let ge=P[0],we=0,xe=Pe.ParameterStructures.auto;Pe.ParameterStructures.is(ge)&&(we=1,xe=ge);let ue=P.length,Se=ue-we;switch(Se){case 0:z=void 0;break;case 1:z=yn(xe,P[we]);break;default:if(xe===Pe.ParameterStructures.byName)throw new Error(`Received ${Se} parameters for 'by Name' notification parameter structure.`);z=P.slice(we,ue).map(de=>Wt(de));break}}else{let ge=P;q=v.method,z=Zn(v,ge)}let Ce={jsonrpc:c,method:q,params:z};return Bn(Ce),e.write(Ce).catch(ge=>{throw r.error("Sending notification failed."),ge})},onNotification:(v,P)=>{xt();let q;return Mt.func(v)?g=v:P&&(Mt.string(v)?(q=v,p.set(v,{type:void 0,handler:P})):(q=v.method,p.set(v.method,{type:v,handler:P}))),{dispose:()=>{q!==void 0?p.delete(q):g=void 0}}},onProgress:(v,P,q)=>{if(u.has(P))throw new Error(`Progress handler for token ${P} already registered`);return u.set(P,q),{dispose:()=>{u.delete(P)}}},sendProgress:(v,P,q)=>Et.sendNotification(Hu.type,{token:P,value:q}),onUnhandledProgress:ne.event,sendRequest:(v,...P)=>{xt(),mn();let q,z,Ce;if(Mt.string(v)){q=v;let ue=P[0],Se=P[P.length-1],de=0,L=Pe.ParameterStructures.auto;Pe.ParameterStructures.is(ue)&&(de=1,L=ue);let M=P.length;DS.CancellationToken.is(Se)&&(M=M-1,Ce=Se);let Y=M-de;switch(Y){case 0:z=void 0;break;case 1:z=yn(L,P[de]);break;default:if(L===Pe.ParameterStructures.byName)throw new Error(`Received ${Y} parameters for 'by Name' request parameter structure.`);z=P.slice(de,M).map(Ee=>Wt(Ee));break}}else{let ue=P;q=v.method,z=Zn(v,ue);let Se=v.numberOfParams;Ce=DS.CancellationToken.is(ue[Se])?ue[Se]:void 0}let ge=s++,we;Ce&&(we=Ce.onCancellationRequested(()=>{let ue=N.sender.sendCancellation(Et,ge);return ue===void 0?(r.log(`Received no promise from cancellation strategy when cancelling id ${ge}`),Promise.resolve()):ue.catch(()=>{r.log(`Sending cancellation messages for id ${ge} failed`)})}));let xe={jsonrpc:c,id:ge,method:q,params:z};return pi(xe),typeof N.sender.enableCancellation=="function"&&N.sender.enableCancellation(xe),new Promise(async(ue,Se)=>{let de=Y=>{ue(Y),N.sender.cleanup(ge),we?.dispose()},L=Y=>{Se(Y),N.sender.cleanup(ge),we?.dispose()},M={method:q,timerStart:Date.now(),resolve:de,reject:L};try{await e.write(xe),m.set(ge,M)}catch(Y){throw r.error("Sending request failed."),M.reject(new Pe.ResponseError(Pe.ErrorCodes.MessageWriteError,Y.message?Y.message:"Unknown reason")),Y}})},onRequest:(v,P)=>{xt();let q=null;return xS.is(v)?(q=void 0,l=v):Mt.string(v)?(q=null,P!==void 0&&(q=v,f.set(v,{handler:P,type:void 0}))):P!==void 0&&(q=v.method,f.set(v.method,{type:v,handler:P})),{dispose:()=>{q!==null&&(q!==void 0?f.delete(q):l=void 0)}}},hasPendingResponse:()=>m.size>0,trace:async(v,P,q)=>{let z=!1,Ce=Ci.Text;q!==void 0&&(Mt.boolean(q)?z=q:(z=q.sendNotification||!1,Ce=q.traceFormat||Ci.Text)),w=v,k=Ce,w===st.Off?I=void 0:I=P,z&&!se()&&!re()&&await Et.sendNotification(ES.type,{value:st.toString(v)})},onError:W.event,onClose:j.event,onUnhandledNotification:ie.event,onDispose:H.event,end:()=>{e.end()},dispose:()=>{if(re())return;B=er.Disposed,H.fire(void 0);let v=new Pe.ResponseError(Pe.ErrorCodes.PendingResponseRejected,"Pending response rejected since connection got disposed");for(let P of m.values())P.reject(v);m=new Map,D=new Map,C=new Set,h=new sI.LinkedMap,Mt.func(e.dispose)&&e.dispose(),Mt.func(t.dispose)&&t.dispose()},listen:()=>{xt(),Gt(),B=er.Listening,t.listen(Jn)},inspect:()=>{(0,rI.default)().console.log("inspect")}};return Et.onNotification(ip.type,v=>{if(w===st.Off||!I)return;let P=w===st.Verbose||w===st.Compact;I.log(v.message,P?v.verbose:void 0)}),Et.onNotification(Hu.type,v=>{let P=u.get(v.token);P?P(v.value):ne.fire(v)}),Et}Le.createMessageConnection=dz});var up=F(J=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0});J.ProgressType=J.ProgressToken=J.createMessageConnection=J.NullLogger=J.ConnectionOptions=J.ConnectionStrategy=J.AbstractMessageBuffer=J.WriteableStreamMessageWriter=J.AbstractMessageWriter=J.MessageWriter=J.ReadableStreamMessageReader=J.AbstractMessageReader=J.MessageReader=J.SharedArrayReceiverStrategy=J.SharedArraySenderStrategy=J.CancellationToken=J.CancellationTokenSource=J.Emitter=J.Event=J.Disposable=J.LRUCache=J.Touch=J.LinkedMap=J.ParameterStructures=J.NotificationType9=J.NotificationType8=J.NotificationType7=J.NotificationType6=J.NotificationType5=J.NotificationType4=J.NotificationType3=J.NotificationType2=J.NotificationType1=J.NotificationType0=J.NotificationType=J.ErrorCodes=J.ResponseError=J.RequestType9=J.RequestType8=J.RequestType7=J.RequestType6=J.RequestType5=J.RequestType4=J.RequestType3=J.RequestType2=J.RequestType1=J.RequestType0=J.RequestType=J.Message=J.RAL=void 0;J.MessageStrategy=J.CancellationStrategy=J.CancellationSenderStrategy=J.CancellationReceiverStrategy=J.ConnectionError=J.ConnectionErrors=J.LogTraceNotification=J.SetTraceNotification=J.TraceFormat=J.TraceValues=J.Trace=void 0;var vt=eS();Object.defineProperty(J,"Message",{enumerable:!0,get:function(){return vt.Message}});Object.defineProperty(J,"RequestType",{enumerable:!0,get:function(){return vt.RequestType}});Object.defineProperty(J,"RequestType0",{enumerable:!0,get:function(){return vt.RequestType0}});Object.defineProperty(J,"RequestType1",{enumerable:!0,get:function(){return vt.RequestType1}});Object.defineProperty(J,"RequestType2",{enumerable:!0,get:function(){return vt.RequestType2}});Object.defineProperty(J,"RequestType3",{enumerable:!0,get:function(){return vt.RequestType3}});Object.defineProperty(J,"RequestType4",{enumerable:!0,get:function(){return vt.RequestType4}});Object.defineProperty(J,"RequestType5",{enumerable:!0,get:function(){return vt.RequestType5}});Object.defineProperty(J,"RequestType6",{enumerable:!0,get:function(){return vt.RequestType6}});Object.defineProperty(J,"RequestType7",{enumerable:!0,get:function(){return vt.RequestType7}});Object.defineProperty(J,"RequestType8",{enumerable:!0,get:function(){return vt.RequestType8}});Object.defineProperty(J,"RequestType9",{enumerable:!0,get:function(){return vt.RequestType9}});Object.defineProperty(J,"ResponseError",{enumerable:!0,get:function(){return vt.ResponseError}});Object.defineProperty(J,"ErrorCodes",{enumerable:!0,get:function(){return vt.ErrorCodes}});Object.defineProperty(J,"NotificationType",{enumerable:!0,get:function(){return vt.NotificationType}});Object.defineProperty(J,"NotificationType0",{enumerable:!0,get:function(){return vt.NotificationType0}});Object.defineProperty(J,"NotificationType1",{enumerable:!0,get:function(){return vt.NotificationType1}});Object.defineProperty(J,"NotificationType2",{enumerable:!0,get:function(){return vt.NotificationType2}});Object.defineProperty(J,"NotificationType3",{enumerable:!0,get:function(){return vt.NotificationType3}});Object.defineProperty(J,"NotificationType4",{enumerable:!0,get:function(){return vt.NotificationType4}});Object.defineProperty(J,"NotificationType5",{enumerable:!0,get:function(){return vt.NotificationType5}});Object.defineProperty(J,"NotificationType6",{enumerable:!0,get:function(){return vt.NotificationType6}});Object.defineProperty(J,"NotificationType7",{enumerable:!0,get:function(){return vt.NotificationType7}});Object.defineProperty(J,"NotificationType8",{enumerable:!0,get:function(){return vt.NotificationType8}});Object.defineProperty(J,"NotificationType9",{enumerable:!0,get:function(){return vt.NotificationType9}});Object.defineProperty(J,"ParameterStructures",{enumerable:!0,get:function(){return vt.ParameterStructures}});var PS=nS();Object.defineProperty(J,"LinkedMap",{enumerable:!0,get:function(){return PS.LinkedMap}});Object.defineProperty(J,"LRUCache",{enumerable:!0,get:function(){return PS.LRUCache}});Object.defineProperty(J,"Touch",{enumerable:!0,get:function(){return PS.Touch}});var fz=zA();Object.defineProperty(J,"Disposable",{enumerable:!0,get:function(){return fz.Disposable}});var uI=ka();Object.defineProperty(J,"Event",{enumerable:!0,get:function(){return uI.Event}});Object.defineProperty(J,"Emitter",{enumerable:!0,get:function(){return uI.Emitter}});var lI=Qf();Object.defineProperty(J,"CancellationTokenSource",{enumerable:!0,get:function(){return lI.CancellationTokenSource}});Object.defineProperty(J,"CancellationToken",{enumerable:!0,get:function(){return lI.CancellationToken}});var dI=JA();Object.defineProperty(J,"SharedArraySenderStrategy",{enumerable:!0,get:function(){return dI.SharedArraySenderStrategy}});Object.defineProperty(J,"SharedArrayReceiverStrategy",{enumerable:!0,get:function(){return dI.SharedArrayReceiverStrategy}});var RS=YA();Object.defineProperty(J,"MessageReader",{enumerable:!0,get:function(){return RS.MessageReader}});Object.defineProperty(J,"AbstractMessageReader",{enumerable:!0,get:function(){return RS.AbstractMessageReader}});Object.defineProperty(J,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return RS.ReadableStreamMessageReader}});var AS=nI();Object.defineProperty(J,"MessageWriter",{enumerable:!0,get:function(){return AS.MessageWriter}});Object.defineProperty(J,"AbstractMessageWriter",{enumerable:!0,get:function(){return AS.AbstractMessageWriter}});Object.defineProperty(J,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return AS.WriteableStreamMessageWriter}});var pz=iI();Object.defineProperty(J,"AbstractMessageBuffer",{enumerable:!0,get:function(){return pz.AbstractMessageBuffer}});var bn=cI();Object.defineProperty(J,"ConnectionStrategy",{enumerable:!0,get:function(){return bn.ConnectionStrategy}});Object.defineProperty(J,"ConnectionOptions",{enumerable:!0,get:function(){return bn.ConnectionOptions}});Object.defineProperty(J,"NullLogger",{enumerable:!0,get:function(){return bn.NullLogger}});Object.defineProperty(J,"createMessageConnection",{enumerable:!0,get:function(){return bn.createMessageConnection}});Object.defineProperty(J,"ProgressToken",{enumerable:!0,get:function(){return bn.ProgressToken}});Object.defineProperty(J,"ProgressType",{enumerable:!0,get:function(){return bn.ProgressType}});Object.defineProperty(J,"Trace",{enumerable:!0,get:function(){return bn.Trace}});Object.defineProperty(J,"TraceValues",{enumerable:!0,get:function(){return bn.TraceValues}});Object.defineProperty(J,"TraceFormat",{enumerable:!0,get:function(){return bn.TraceFormat}});Object.defineProperty(J,"SetTraceNotification",{enumerable:!0,get:function(){return bn.SetTraceNotification}});Object.defineProperty(J,"LogTraceNotification",{enumerable:!0,get:function(){return bn.LogTraceNotification}});Object.defineProperty(J,"ConnectionErrors",{enumerable:!0,get:function(){return bn.ConnectionErrors}});Object.defineProperty(J,"ConnectionError",{enumerable:!0,get:function(){return bn.ConnectionError}});Object.defineProperty(J,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return bn.CancellationReceiverStrategy}});Object.defineProperty(J,"CancellationSenderStrategy",{enumerable:!0,get:function(){return bn.CancellationSenderStrategy}});Object.defineProperty(J,"CancellationStrategy",{enumerable:!0,get:function(){return bn.CancellationStrategy}});Object.defineProperty(J,"MessageStrategy",{enumerable:!0,get:function(){return bn.MessageStrategy}});var hz=Ts();J.RAL=hz.default});var hI=F(LS=>{"use strict";Object.defineProperty(LS,"__esModule",{value:!0});var fI=require("util"),Hr=up(),lp=class t extends Hr.AbstractMessageBuffer{constructor(e="utf-8"){super(e)}emptyBuffer(){return t.emptyBuffer}fromString(e,n){return Buffer.from(e,n)}toString(e,n){return e instanceof Buffer?e.toString(n):new fI.TextDecoder(n).decode(e)}asNative(e,n){return n===void 0?e instanceof Buffer?e:Buffer.from(e):e instanceof Buffer?e.slice(0,n):Buffer.from(e,0,n)}allocNative(e){return Buffer.allocUnsafe(e)}};lp.emptyBuffer=Buffer.allocUnsafe(0);var IS=class{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),Hr.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),Hr.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),Hr.Disposable.create(()=>this.stream.off("end",e))}onData(e){return this.stream.on("data",e),Hr.Disposable.create(()=>this.stream.off("data",e))}},_S=class{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),Hr.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),Hr.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),Hr.Disposable.create(()=>this.stream.off("end",e))}write(e,n){return new Promise((i,r)=>{let s=o=>{o==null?i():r(o)};typeof e=="string"?this.stream.write(e,n,s):this.stream.write(e,s)})}end(){this.stream.end()}},pI=Object.freeze({messageBuffer:Object.freeze({create:t=>new lp(t)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(t,e)=>{try{return Promise.resolve(Buffer.from(JSON.stringify(t,void 0,0),e.charset))}catch(n){return Promise.reject(n)}}}),decoder:Object.freeze({name:"application/json",decode:(t,e)=>{try{return t instanceof Buffer?Promise.resolve(JSON.parse(t.toString(e.charset))):Promise.resolve(JSON.parse(new fI.TextDecoder(e.charset).decode(t)))}catch(n){return Promise.reject(n)}}})}),stream:Object.freeze({asReadableStream:t=>new IS(t),asWritableStream:t=>new _S(t)}),console,timer:Object.freeze({setTimeout(t,e,...n){let i=setTimeout(t,e,...n);return{dispose:()=>clearTimeout(i)}},setImmediate(t,...e){let n=setImmediate(t,...e);return{dispose:()=>clearImmediate(n)}},setInterval(t,e,...n){let i=setInterval(t,e,...n);return{dispose:()=>clearInterval(i)}}})});function NS(){return pI}(function(t){function e(){Hr.RAL.install(pI)}t.install=e})(NS||(NS={}));LS.default=NS});var xo=F(Ge=>{"use strict";var gz=Ge&&Ge.__createBinding||(Object.create?function(t,e,n,i){i===void 0&&(i=n);var r=Object.getOwnPropertyDescriptor(e,n);(!r||("get"in r?!e.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,i,r)}:function(t,e,n,i){i===void 0&&(i=n),t[i]=e[n]}),mz=Ge&&Ge.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&gz(e,t,n)};Object.defineProperty(Ge,"__esModule",{value:!0});Ge.createMessageConnection=Ge.createServerSocketTransport=Ge.createClientSocketTransport=Ge.createServerPipeTransport=Ge.createClientPipeTransport=Ge.generateRandomPipeName=Ge.StreamMessageWriter=Ge.StreamMessageReader=Ge.SocketMessageWriter=Ge.SocketMessageReader=Ge.PortMessageWriter=Ge.PortMessageReader=Ge.IPCMessageWriter=Ge.IPCMessageReader=void 0;var Ia=hI();Ia.default.install();var gI=require("path"),yz=require("os"),Cz=require("crypto"),pp=require("net"),vi=up();mz(up(),Ge);var OS=class extends vi.AbstractMessageReader{constructor(e){super(),this.process=e;let n=this.process;n.on("error",i=>this.fireError(i)),n.on("close",()=>this.fireClose())}listen(e){return this.process.on("message",e),vi.Disposable.create(()=>this.process.off("message",e))}};Ge.IPCMessageReader=OS;var MS=class extends vi.AbstractMessageWriter{constructor(e){super(),this.process=e,this.errorCount=0;let n=this.process;n.on("error",i=>this.fireError(i)),n.on("close",()=>this.fireClose)}write(e){try{return typeof this.process.send=="function"&&this.process.send(e,void 0,void 0,n=>{n?(this.errorCount++,this.handleError(n,e)):this.errorCount=0}),Promise.resolve()}catch(n){return this.handleError(n,e),Promise.reject(n)}}handleError(e,n){this.errorCount++,this.fireError(e,n,this.errorCount)}end(){}};Ge.IPCMessageWriter=MS;var qS=class extends vi.AbstractMessageReader{constructor(e){super(),this.onData=new vi.Emitter,e.on("close",()=>this.fireClose),e.on("error",n=>this.fireError(n)),e.on("message",n=>{this.onData.fire(n)})}listen(e){return this.onData.event(e)}};Ge.PortMessageReader=qS;var US=class extends vi.AbstractMessageWriter{constructor(e){super(),this.port=e,this.errorCount=0,e.on("close",()=>this.fireClose()),e.on("error",n=>this.fireError(n))}write(e){try{return this.port.postMessage(e),Promise.resolve()}catch(n){return this.handleError(n,e),Promise.reject(n)}}handleError(e,n){this.errorCount++,this.fireError(e,n,this.errorCount)}end(){}};Ge.PortMessageWriter=US;var To=class extends vi.ReadableStreamMessageReader{constructor(e,n="utf-8"){super((0,Ia.default)().stream.asReadableStream(e),n)}};Ge.SocketMessageReader=To;var wo=class extends vi.WriteableStreamMessageWriter{constructor(e,n){super((0,Ia.default)().stream.asWritableStream(e),n),this.socket=e}dispose(){super.dispose(),this.socket.destroy()}};Ge.SocketMessageWriter=wo;var dp=class extends vi.ReadableStreamMessageReader{constructor(e,n){super((0,Ia.default)().stream.asReadableStream(e),n)}};Ge.StreamMessageReader=dp;var fp=class extends vi.WriteableStreamMessageWriter{constructor(e,n){super((0,Ia.default)().stream.asWritableStream(e),n)}};Ge.StreamMessageWriter=fp;var mI=process.env.XDG_RUNTIME_DIR,vz=new Map([["linux",107],["darwin",103]]);function Sz(){let t=(0,Cz.randomBytes)(21).toString("hex");if(process.platform==="win32")return`\\\\.\\pipe\\vscode-jsonrpc-${t}-sock`;let e;mI?e=gI.join(mI,`vscode-ipc-${t}.sock`):e=gI.join(yz.tmpdir(),`vscode-${t}.sock`);let n=vz.get(process.platform);return n!==void 0&&e.length>n&&(0,Ia.default)().console.warn(`WARNING: IPC handle "${e}" is longer than ${n} characters.`),e}Ge.generateRandomPipeName=Sz;function bz(t,e="utf-8"){let n,i=new Promise((r,s)=>{n=r});return new Promise((r,s)=>{let o=(0,pp.createServer)(a=>{o.close(),n([new To(a,e),new wo(a,e)])});o.on("error",s),o.listen(t,()=>{o.removeListener("error",s),r({onConnected:()=>i})})})}Ge.createClientPipeTransport=bz;function Dz(t,e="utf-8"){let n=(0,pp.createConnection)(t);return[new To(n,e),new wo(n,e)]}Ge.createServerPipeTransport=Dz;function Tz(t,e="utf-8"){let n,i=new Promise((r,s)=>{n=r});return new Promise((r,s)=>{let o=(0,pp.createServer)(a=>{o.close(),n([new To(a,e),new wo(a,e)])});o.on("error",s),o.listen(t,"127.0.0.1",()=>{o.removeListener("error",s),r({onConnected:()=>i})})})}Ge.createClientSocketTransport=Tz;function wz(t,e="utf-8"){let n=(0,pp.createConnection)(t,"127.0.0.1");return[new To(n,e),new wo(n,e)]}Ge.createServerSocketTransport=wz;function xz(t){let e=t;return e.read!==void 0&&e.addListener!==void 0}function Ez(t){let e=t;return e.write!==void 0&&e.addListener!==void 0}function kz(t,e,n,i){n||(n=vi.NullLogger);let r=xz(t)?new dp(t):t,s=Ez(e)?new fp(e):e;return vi.ConnectionStrategy.is(i)&&(i={connectionStrategy:i}),(0,vi.createMessageConnection)(r,s,n,i)}Ge.createMessageConnection=kz});var jS=F((Yie,yI)=>{"use strict";yI.exports=xo()});var gp=F((CI,hp)=>{(function(t){if(typeof hp=="object"&&typeof hp.exports=="object"){var e=t(require,CI);e!==void 0&&(hp.exports=e)}else typeof define=="function"&&define.amd&&define(["require","exports"],t)})(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextDocument=e.EOL=e.WorkspaceFolder=e.InlineCompletionContext=e.SelectedCompletionInfo=e.InlineCompletionTriggerKind=e.InlineCompletionList=e.InlineCompletionItem=e.StringValue=e.InlayHint=e.InlayHintLabelPart=e.InlayHintKind=e.InlineValueContext=e.InlineValueEvaluatableExpression=e.InlineValueVariableLookup=e.InlineValueText=e.SemanticTokens=e.SemanticTokenModifiers=e.SemanticTokenTypes=e.SelectionRange=e.DocumentLink=e.FormattingOptions=e.CodeLens=e.CodeAction=e.CodeActionContext=e.CodeActionTriggerKind=e.CodeActionKind=e.DocumentSymbol=e.WorkspaceSymbol=e.SymbolInformation=e.SymbolTag=e.SymbolKind=e.DocumentHighlight=e.DocumentHighlightKind=e.SignatureInformation=e.ParameterInformation=e.Hover=e.MarkedString=e.CompletionList=e.CompletionItem=e.CompletionItemLabelDetails=e.InsertTextMode=e.InsertReplaceEdit=e.CompletionItemTag=e.InsertTextFormat=e.CompletionItemKind=e.MarkupContent=e.MarkupKind=e.TextDocumentItem=e.OptionalVersionedTextDocumentIdentifier=e.VersionedTextDocumentIdentifier=e.TextDocumentIdentifier=e.WorkspaceChange=e.WorkspaceEdit=e.DeleteFile=e.RenameFile=e.CreateFile=e.TextDocumentEdit=e.AnnotatedTextEdit=e.ChangeAnnotationIdentifier=e.ChangeAnnotation=e.TextEdit=e.Command=e.Diagnostic=e.CodeDescription=e.DiagnosticTag=e.DiagnosticSeverity=e.DiagnosticRelatedInformation=e.FoldingRange=e.FoldingRangeKind=e.ColorPresentation=e.ColorInformation=e.Color=e.LocationLink=e.Location=e.Range=e.Position=e.uinteger=e.integer=e.URI=e.DocumentUri=void 0;var n;(function(T){function R(A){return typeof A=="string"}T.is=R})(n||(e.DocumentUri=n={}));var i;(function(T){function R(A){return typeof A=="string"}T.is=R})(i||(e.URI=i={}));var r;(function(T){T.MIN_VALUE=-2147483648,T.MAX_VALUE=2147483647;function R(A){return typeof A=="number"&&T.MIN_VALUE<=A&&A<=T.MAX_VALUE}T.is=R})(r||(e.integer=r={}));var s;(function(T){T.MIN_VALUE=0,T.MAX_VALUE=2147483647;function R(A){return typeof A=="number"&&T.MIN_VALUE<=A&&A<=T.MAX_VALUE}T.is=R})(s||(e.uinteger=s={}));var o;(function(T){function R(x,S){return x===Number.MAX_VALUE&&(x=s.MAX_VALUE),S===Number.MAX_VALUE&&(S=s.MAX_VALUE),{line:x,character:S}}T.create=R;function A(x){var S=x;return O.objectLiteral(S)&&O.uinteger(S.line)&&O.uinteger(S.character)}T.is=A})(o||(e.Position=o={}));var a;(function(T){function R(x,S,U,Z){if(O.uinteger(x)&&O.uinteger(S)&&O.uinteger(U)&&O.uinteger(Z))return{start:o.create(x,S),end:o.create(U,Z)};if(o.is(x)&&o.is(S))return{start:x,end:S};throw new Error("Range#create called with invalid arguments[".concat(x,", ").concat(S,", ").concat(U,", ").concat(Z,"]"))}T.create=R;function A(x){var S=x;return O.objectLiteral(S)&&o.is(S.start)&&o.is(S.end)}T.is=A})(a||(e.Range=a={}));var c;(function(T){function R(x,S){return{uri:x,range:S}}T.create=R;function A(x){var S=x;return O.objectLiteral(S)&&a.is(S.range)&&(O.string(S.uri)||O.undefined(S.uri))}T.is=A})(c||(e.Location=c={}));var l;(function(T){function R(x,S,U,Z){return{targetUri:x,targetRange:S,targetSelectionRange:U,originSelectionRange:Z}}T.create=R;function A(x){var S=x;return O.objectLiteral(S)&&a.is(S.targetRange)&&O.string(S.targetUri)&&a.is(S.targetSelectionRange)&&(a.is(S.originSelectionRange)||O.undefined(S.originSelectionRange))}T.is=A})(l||(e.LocationLink=l={}));var f;(function(T){function R(x,S,U,Z){return{red:x,green:S,blue:U,alpha:Z}}T.create=R;function A(x){var S=x;return O.objectLiteral(S)&&O.numberRange(S.red,0,1)&&O.numberRange(S.green,0,1)&&O.numberRange(S.blue,0,1)&&O.numberRange(S.alpha,0,1)}T.is=A})(f||(e.Color=f={}));var g;(function(T){function R(x,S){return{range:x,color:S}}T.create=R;function A(x){var S=x;return O.objectLiteral(S)&&a.is(S.range)&&f.is(S.color)}T.is=A})(g||(e.ColorInformation=g={}));var p;(function(T){function R(x,S,U){return{label:x,textEdit:S,additionalTextEdits:U}}T.create=R;function A(x){var S=x;return O.objectLiteral(S)&&O.string(S.label)&&(O.undefined(S.textEdit)||I.is(S))&&(O.undefined(S.additionalTextEdits)||O.typedArray(S.additionalTextEdits,I.is))}T.is=A})(p||(e.ColorPresentation=p={}));var u;(function(T){T.Comment="comment",T.Imports="imports",T.Region="region"})(u||(e.FoldingRangeKind=u={}));var d;(function(T){function R(x,S,U,Z,Ie,kt){var mt={startLine:x,endLine:S};return O.defined(U)&&(mt.startCharacter=U),O.defined(Z)&&(mt.endCharacter=Z),O.defined(Ie)&&(mt.kind=Ie),O.defined(kt)&&(mt.collapsedText=kt),mt}T.create=R;function A(x){var S=x;return O.objectLiteral(S)&&O.uinteger(S.startLine)&&O.uinteger(S.startLine)&&(O.undefined(S.startCharacter)||O.uinteger(S.startCharacter))&&(O.undefined(S.endCharacter)||O.uinteger(S.endCharacter))&&(O.undefined(S.kind)||O.string(S.kind))}T.is=A})(d||(e.FoldingRange=d={}));var h;(function(T){function R(x,S){return{location:x,message:S}}T.create=R;function A(x){var S=x;return O.defined(S)&&c.is(S.location)&&O.string(S.message)}T.is=A})(h||(e.DiagnosticRelatedInformation=h={}));var m;(function(T){T.Error=1,T.Warning=2,T.Information=3,T.Hint=4})(m||(e.DiagnosticSeverity=m={}));var C;(function(T){T.Unnecessary=1,T.Deprecated=2})(C||(e.DiagnosticTag=C={}));var D;(function(T){function R(A){var x=A;return O.objectLiteral(x)&&O.string(x.href)}T.is=R})(D||(e.CodeDescription=D={}));var w;(function(T){function R(x,S,U,Z,Ie,kt){var mt={range:x,message:S};return O.defined(U)&&(mt.severity=U),O.defined(Z)&&(mt.code=Z),O.defined(Ie)&&(mt.source=Ie),O.defined(kt)&&(mt.relatedInformation=kt),mt}T.create=R;function A(x){var S,U=x;return O.defined(U)&&a.is(U.range)&&O.string(U.message)&&(O.number(U.severity)||O.undefined(U.severity))&&(O.integer(U.code)||O.string(U.code)||O.undefined(U.code))&&(O.undefined(U.codeDescription)||O.string((S=U.codeDescription)===null||S===void 0?void 0:S.href))&&(O.string(U.source)||O.undefined(U.source))&&(O.undefined(U.relatedInformation)||O.typedArray(U.relatedInformation,h.is))}T.is=A})(w||(e.Diagnostic=w={}));var k;(function(T){function R(x,S){for(var U=[],Z=2;Z<arguments.length;Z++)U[Z-2]=arguments[Z];var Ie={title:x,command:S};return O.defined(U)&&U.length>0&&(Ie.arguments=U),Ie}T.create=R;function A(x){var S=x;return O.defined(S)&&O.string(S.title)&&O.string(S.command)}T.is=A})(k||(e.Command=k={}));var I;(function(T){function R(U,Z){return{range:U,newText:Z}}T.replace=R;function A(U,Z){return{range:{start:U,end:U},newText:Z}}T.insert=A;function x(U){return{range:U,newText:""}}T.del=x;function S(U){var Z=U;return O.objectLiteral(Z)&&O.string(Z.newText)&&a.is(Z.range)}T.is=S})(I||(e.TextEdit=I={}));var B;(function(T){function R(x,S,U){var Z={label:x};return S!==void 0&&(Z.needsConfirmation=S),U!==void 0&&(Z.description=U),Z}T.create=R;function A(x){var S=x;return O.objectLiteral(S)&&O.string(S.label)&&(O.boolean(S.needsConfirmation)||S.needsConfirmation===void 0)&&(O.string(S.description)||S.description===void 0)}T.is=A})(B||(e.ChangeAnnotation=B={}));var W;(function(T){function R(A){var x=A;return O.string(x)}T.is=R})(W||(e.ChangeAnnotationIdentifier=W={}));var j;(function(T){function R(U,Z,Ie){return{range:U,newText:Z,annotationId:Ie}}T.replace=R;function A(U,Z,Ie){return{range:{start:U,end:U},newText:Z,annotationId:Ie}}T.insert=A;function x(U,Z){return{range:U,newText:"",annotationId:Z}}T.del=x;function S(U){var Z=U;return I.is(Z)&&(B.is(Z.annotationId)||W.is(Z.annotationId))}T.is=S})(j||(e.AnnotatedTextEdit=j={}));var ie;(function(T){function R(x,S){return{textDocument:x,edits:S}}T.create=R;function A(x){var S=x;return O.defined(S)&&se.is(S.textDocument)&&Array.isArray(S.edits)}T.is=A})(ie||(e.TextDocumentEdit=ie={}));var ne;(function(T){function R(x,S,U){var Z={kind:"create",uri:x};return S!==void 0&&(S.overwrite!==void 0||S.ignoreIfExists!==void 0)&&(Z.options=S),U!==void 0&&(Z.annotationId=U),Z}T.create=R;function A(x){var S=x;return S&&S.kind==="create"&&O.string(S.uri)&&(S.options===void 0||(S.options.overwrite===void 0||O.boolean(S.options.overwrite))&&(S.options.ignoreIfExists===void 0||O.boolean(S.options.ignoreIfExists)))&&(S.annotationId===void 0||W.is(S.annotationId))}T.is=A})(ne||(e.CreateFile=ne={}));var H;(function(T){function R(x,S,U,Z){var Ie={kind:"rename",oldUri:x,newUri:S};return U!==void 0&&(U.overwrite!==void 0||U.ignoreIfExists!==void 0)&&(Ie.options=U),Z!==void 0&&(Ie.annotationId=Z),Ie}T.create=R;function A(x){var S=x;return S&&S.kind==="rename"&&O.string(S.oldUri)&&O.string(S.newUri)&&(S.options===void 0||(S.options.overwrite===void 0||O.boolean(S.options.overwrite))&&(S.options.ignoreIfExists===void 0||O.boolean(S.options.ignoreIfExists)))&&(S.annotationId===void 0||W.is(S.annotationId))}T.is=A})(H||(e.RenameFile=H={}));var N;(function(T){function R(x,S,U){var Z={kind:"delete",uri:x};return S!==void 0&&(S.recursive!==void 0||S.ignoreIfNotExists!==void 0)&&(Z.options=S),U!==void 0&&(Z.annotationId=U),Z}T.create=R;function A(x){var S=x;return S&&S.kind==="delete"&&O.string(S.uri)&&(S.options===void 0||(S.options.recursive===void 0||O.boolean(S.options.recursive))&&(S.options.ignoreIfNotExists===void 0||O.boolean(S.options.ignoreIfNotExists)))&&(S.annotationId===void 0||W.is(S.annotationId))}T.is=A})(N||(e.DeleteFile=N={}));var $;(function(T){function R(A){var x=A;return x&&(x.changes!==void 0||x.documentChanges!==void 0)&&(x.documentChanges===void 0||x.documentChanges.every(function(S){return O.string(S.kind)?ne.is(S)||H.is(S)||N.is(S):ie.is(S)}))}T.is=R})($||(e.WorkspaceEdit=$={}));var te=function(){function T(R,A){this.edits=R,this.changeAnnotations=A}return T.prototype.insert=function(R,A,x){var S,U;if(x===void 0?S=I.insert(R,A):W.is(x)?(U=x,S=j.insert(R,A,x)):(this.assertChangeAnnotations(this.changeAnnotations),U=this.changeAnnotations.manage(x),S=j.insert(R,A,U)),this.edits.push(S),U!==void 0)return U},T.prototype.replace=function(R,A,x){var S,U;if(x===void 0?S=I.replace(R,A):W.is(x)?(U=x,S=j.replace(R,A,x)):(this.assertChangeAnnotations(this.changeAnnotations),U=this.changeAnnotations.manage(x),S=j.replace(R,A,U)),this.edits.push(S),U!==void 0)return U},T.prototype.delete=function(R,A){var x,S;if(A===void 0?x=I.del(R):W.is(A)?(S=A,x=j.del(R,A)):(this.assertChangeAnnotations(this.changeAnnotations),S=this.changeAnnotations.manage(A),x=j.del(R,S)),this.edits.push(x),S!==void 0)return S},T.prototype.add=function(R){this.edits.push(R)},T.prototype.all=function(){return this.edits},T.prototype.clear=function(){this.edits.splice(0,this.edits.length)},T.prototype.assertChangeAnnotations=function(R){if(R===void 0)throw new Error("Text edit change is not configured to manage change annotations.")},T}(),K=function(){function T(R){this._annotations=R===void 0?Object.create(null):R,this._counter=0,this._size=0}return T.prototype.all=function(){return this._annotations},Object.defineProperty(T.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),T.prototype.manage=function(R,A){var x;if(W.is(R)?x=R:(x=this.nextId(),A=R),this._annotations[x]!==void 0)throw new Error("Id ".concat(x," is already in use."));if(A===void 0)throw new Error("No annotation provided for id ".concat(x));return this._annotations[x]=A,this._size++,x},T.prototype.nextId=function(){return this._counter++,this._counter.toString()},T}(),G=function(){function T(R){var A=this;this._textEditChanges=Object.create(null),R!==void 0?(this._workspaceEdit=R,R.documentChanges?(this._changeAnnotations=new K(R.changeAnnotations),R.changeAnnotations=this._changeAnnotations.all(),R.documentChanges.forEach(function(x){if(ie.is(x)){var S=new te(x.edits,A._changeAnnotations);A._textEditChanges[x.textDocument.uri]=S}})):R.changes&&Object.keys(R.changes).forEach(function(x){var S=new te(R.changes[x]);A._textEditChanges[x]=S})):this._workspaceEdit={}}return Object.defineProperty(T.prototype,"edit",{get:function(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},enumerable:!1,configurable:!0}),T.prototype.getTextEditChange=function(R){if(se.is(R)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var A={uri:R.uri,version:R.version},x=this._textEditChanges[A.uri];if(!x){var S=[],U={textDocument:A,edits:S};this._workspaceEdit.documentChanges.push(U),x=new te(S,this._changeAnnotations),this._textEditChanges[A.uri]=x}return x}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");var x=this._textEditChanges[R];if(!x){var S=[];this._workspaceEdit.changes[R]=S,x=new te(S),this._textEditChanges[R]=x}return x}},T.prototype.initDocumentChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new K,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},T.prototype.initChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))},T.prototype.createFile=function(R,A,x){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var S;B.is(A)||W.is(A)?S=A:x=A;var U,Z;if(S===void 0?U=ne.create(R,x):(Z=W.is(S)?S:this._changeAnnotations.manage(S),U=ne.create(R,x,Z)),this._workspaceEdit.documentChanges.push(U),Z!==void 0)return Z},T.prototype.renameFile=function(R,A,x,S){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var U;B.is(x)||W.is(x)?U=x:S=x;var Z,Ie;if(U===void 0?Z=H.create(R,A,S):(Ie=W.is(U)?U:this._changeAnnotations.manage(U),Z=H.create(R,A,S,Ie)),this._workspaceEdit.documentChanges.push(Z),Ie!==void 0)return Ie},T.prototype.deleteFile=function(R,A,x){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var S;B.is(A)||W.is(A)?S=A:x=A;var U,Z;if(S===void 0?U=N.create(R,x):(Z=W.is(S)?S:this._changeAnnotations.manage(S),U=N.create(R,x,Z)),this._workspaceEdit.documentChanges.push(U),Z!==void 0)return Z},T}();e.WorkspaceChange=G;var Q;(function(T){function R(x){return{uri:x}}T.create=R;function A(x){var S=x;return O.defined(S)&&O.string(S.uri)}T.is=A})(Q||(e.TextDocumentIdentifier=Q={}));var ae;(function(T){function R(x,S){return{uri:x,version:S}}T.create=R;function A(x){var S=x;return O.defined(S)&&O.string(S.uri)&&O.integer(S.version)}T.is=A})(ae||(e.VersionedTextDocumentIdentifier=ae={}));var se;(function(T){function R(x,S){return{uri:x,version:S}}T.create=R;function A(x){var S=x;return O.defined(S)&&O.string(S.uri)&&(S.version===null||O.integer(S.version))}T.is=A})(se||(e.OptionalVersionedTextDocumentIdentifier=se={}));var re;(function(T){function R(x,S,U,Z){return{uri:x,languageId:S,version:U,text:Z}}T.create=R;function A(x){var S=x;return O.defined(S)&&O.string(S.uri)&&O.string(S.languageId)&&O.integer(S.version)&&O.string(S.text)}T.is=A})(re||(e.TextDocumentItem=re={}));var ye;(function(T){T.PlainText="plaintext",T.Markdown="markdown";function R(A){var x=A;return x===T.PlainText||x===T.Markdown}T.is=R})(ye||(e.MarkupKind=ye={}));var ve;(function(T){function R(A){var x=A;return O.objectLiteral(A)&&ye.is(x.kind)&&O.string(x.value)}T.is=R})(ve||(e.MarkupContent=ve={}));var $e;(function(T){T.Text=1,T.Method=2,T.Function=3,T.Constructor=4,T.Field=5,T.Variable=6,T.Class=7,T.Interface=8,T.Module=9,T.Property=10,T.Unit=11,T.Value=12,T.Enum=13,T.Keyword=14,T.Snippet=15,T.Color=16,T.File=17,T.Reference=18,T.Folder=19,T.EnumMember=20,T.Constant=21,T.Struct=22,T.Event=23,T.Operator=24,T.TypeParameter=25})($e||(e.CompletionItemKind=$e={}));var ke;(function(T){T.PlainText=1,T.Snippet=2})(ke||(e.InsertTextFormat=ke={}));var ht;(function(T){T.Deprecated=1})(ht||(e.CompletionItemTag=ht={}));var wt;(function(T){function R(x,S,U){return{newText:x,insert:S,replace:U}}T.create=R;function A(x){var S=x;return S&&O.string(S.newText)&&a.is(S.insert)&&a.is(S.replace)}T.is=A})(wt||(e.InsertReplaceEdit=wt={}));var Jn;(function(T){T.asIs=1,T.adjustIndentation=2})(Jn||(e.InsertTextMode=Jn={}));var qn;(function(T){function R(A){var x=A;return x&&(O.string(x.detail)||x.detail===void 0)&&(O.string(x.description)||x.description===void 0)}T.is=R})(qn||(e.CompletionItemLabelDetails=qn={}));var Un;(function(T){function R(A){return{label:A}}T.create=R})(Un||(e.CompletionItem=Un={}));var jn;(function(T){function R(A,x){return{items:A||[],isIncomplete:!!x}}T.create=R})(jn||(e.CompletionList=jn={}));var Xn;(function(T){function R(x){return x.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}T.fromPlainText=R;function A(x){var S=x;return O.string(S)||O.objectLiteral(S)&&O.string(S.language)&&O.string(S.value)}T.is=A})(Xn||(e.MarkedString=Xn={}));var nt;(function(T){function R(A){var x=A;return!!x&&O.objectLiteral(x)&&(ve.is(x.contents)||Xn.is(x.contents)||O.typedArray(x.contents,Xn.is))&&(A.range===void 0||a.is(A.range))}T.is=R})(nt||(e.Hover=nt={}));var pi;(function(T){function R(A,x){return x?{label:A,documentation:x}:{label:A}}T.create=R})(pi||(e.ParameterInformation=pi={}));var Bn;(function(T){function R(A,x){for(var S=[],U=2;U<arguments.length;U++)S[U-2]=arguments[U];var Z={label:A};return O.defined(x)&&(Z.documentation=x),O.defined(S)?Z.parameters=S:Z.parameters=[],Z}T.create=R})(Bn||(e.SignatureInformation=Bn={}));var rn;(function(T){T.Text=1,T.Read=2,T.Write=3})(rn||(e.DocumentHighlightKind=rn={}));var Ri;(function(T){function R(A,x){var S={range:A};return O.number(x)&&(S.kind=x),S}T.create=R})(Ri||(e.DocumentHighlight=Ri={}));var cn;(function(T){T.File=1,T.Module=2,T.Namespace=3,T.Package=4,T.Class=5,T.Method=6,T.Property=7,T.Field=8,T.Constructor=9,T.Enum=10,T.Interface=11,T.Function=12,T.Variable=13,T.Constant=14,T.String=15,T.Number=16,T.Boolean=17,T.Array=18,T.Object=19,T.Key=20,T.Null=21,T.EnumMember=22,T.Struct=23,T.Event=24,T.Operator=25,T.TypeParameter=26})(cn||(e.SymbolKind=cn={}));var Yn;(function(T){T.Deprecated=1})(Yn||(e.SymbolTag=Yn={}));var lt;(function(T){function R(A,x,S,U,Z){var Ie={name:A,kind:x,location:{uri:U,range:S}};return Z&&(Ie.containerName=Z),Ie}T.create=R})(lt||(e.SymbolInformation=lt={}));var xt;(function(T){function R(A,x,S,U){return U!==void 0?{name:A,kind:x,location:{uri:S,range:U}}:{name:A,kind:x,location:{uri:S}}}T.create=R})(xt||(e.WorkspaceSymbol=xt={}));var Gt;(function(T){function R(x,S,U,Z,Ie,kt){var mt={name:x,detail:S,kind:U,range:Z,selectionRange:Ie};return kt!==void 0&&(mt.children=kt),mt}T.create=R;function A(x){var S=x;return S&&O.string(S.name)&&O.number(S.kind)&&a.is(S.range)&&a.is(S.selectionRange)&&(S.detail===void 0||O.string(S.detail))&&(S.deprecated===void 0||O.boolean(S.deprecated))&&(S.children===void 0||Array.isArray(S.children))&&(S.tags===void 0||Array.isArray(S.tags))}T.is=A})(Gt||(e.DocumentSymbol=Gt={}));var mn;(function(T){T.Empty="",T.QuickFix="quickfix",T.Refactor="refactor",T.RefactorExtract="refactor.extract",T.RefactorInline="refactor.inline",T.RefactorRewrite="refactor.rewrite",T.Source="source",T.SourceOrganizeImports="source.organizeImports",T.SourceFixAll="source.fixAll"})(mn||(e.CodeActionKind=mn={}));var Wt;(function(T){T.Invoked=1,T.Automatic=2})(Wt||(e.CodeActionTriggerKind=Wt={}));var Wn;(function(T){function R(x,S,U){var Z={diagnostics:x};return S!=null&&(Z.only=S),U!=null&&(Z.triggerKind=U),Z}T.create=R;function A(x){var S=x;return O.defined(S)&&O.typedArray(S.diagnostics,w.is)&&(S.only===void 0||O.typedArray(S.only,O.string))&&(S.triggerKind===void 0||S.triggerKind===Wt.Invoked||S.triggerKind===Wt.Automatic)}T.is=A})(Wn||(e.CodeActionContext=Wn={}));var Qn;(function(T){function R(x,S,U){var Z={title:x},Ie=!0;return typeof S=="string"?(Ie=!1,Z.kind=S):k.is(S)?Z.command=S:Z.edit=S,Ie&&U!==void 0&&(Z.kind=U),Z}T.create=R;function A(x){var S=x;return S&&O.string(S.title)&&(S.diagnostics===void 0||O.typedArray(S.diagnostics,w.is))&&(S.kind===void 0||O.string(S.kind))&&(S.edit!==void 0||S.command!==void 0)&&(S.command===void 0||k.is(S.command))&&(S.isPreferred===void 0||O.boolean(S.isPreferred))&&(S.edit===void 0||$.is(S.edit))}T.is=A})(Qn||(e.CodeAction=Qn={}));var yn;(function(T){function R(x,S){var U={range:x};return O.defined(S)&&(U.data=S),U}T.create=R;function A(x){var S=x;return O.defined(S)&&a.is(S.range)&&(O.undefined(S.command)||k.is(S.command))}T.is=A})(yn||(e.CodeLens=yn={}));var Zn;(function(T){function R(x,S){return{tabSize:x,insertSpaces:S}}T.create=R;function A(x){var S=x;return O.defined(S)&&O.uinteger(S.tabSize)&&O.boolean(S.insertSpaces)}T.is=A})(Zn||(e.FormattingOptions=Zn={}));var Et;(function(T){function R(x,S,U){return{range:x,target:S,data:U}}T.create=R;function A(x){var S=x;return O.defined(S)&&a.is(S.range)&&(O.undefined(S.target)||O.string(S.target))}T.is=A})(Et||(e.DocumentLink=Et={}));var v;(function(T){function R(x,S){return{range:x,parent:S}}T.create=R;function A(x){var S=x;return O.objectLiteral(S)&&a.is(S.range)&&(S.parent===void 0||T.is(S.parent))}T.is=A})(v||(e.SelectionRange=v={}));var P;(function(T){T.namespace="namespace",T.type="type",T.class="class",T.enum="enum",T.interface="interface",T.struct="struct",T.typeParameter="typeParameter",T.parameter="parameter",T.variable="variable",T.property="property",T.enumMember="enumMember",T.event="event",T.function="function",T.method="method",T.macro="macro",T.keyword="keyword",T.modifier="modifier",T.comment="comment",T.string="string",T.number="number",T.regexp="regexp",T.operator="operator",T.decorator="decorator"})(P||(e.SemanticTokenTypes=P={}));var q;(function(T){T.declaration="declaration",T.definition="definition",T.readonly="readonly",T.static="static",T.deprecated="deprecated",T.abstract="abstract",T.async="async",T.modification="modification",T.documentation="documentation",T.defaultLibrary="defaultLibrary"})(q||(e.SemanticTokenModifiers=q={}));var z;(function(T){function R(A){var x=A;return O.objectLiteral(x)&&(x.resultId===void 0||typeof x.resultId=="string")&&Array.isArray(x.data)&&(x.data.length===0||typeof x.data[0]=="number")}T.is=R})(z||(e.SemanticTokens=z={}));var Ce;(function(T){function R(x,S){return{range:x,text:S}}T.create=R;function A(x){var S=x;return S!=null&&a.is(S.range)&&O.string(S.text)}T.is=A})(Ce||(e.InlineValueText=Ce={}));var ge;(function(T){function R(x,S,U){return{range:x,variableName:S,caseSensitiveLookup:U}}T.create=R;function A(x){var S=x;return S!=null&&a.is(S.range)&&O.boolean(S.caseSensitiveLookup)&&(O.string(S.variableName)||S.variableName===void 0)}T.is=A})(ge||(e.InlineValueVariableLookup=ge={}));var we;(function(T){function R(x,S){return{range:x,expression:S}}T.create=R;function A(x){var S=x;return S!=null&&a.is(S.range)&&(O.string(S.expression)||S.expression===void 0)}T.is=A})(we||(e.InlineValueEvaluatableExpression=we={}));var xe;(function(T){function R(x,S){return{frameId:x,stoppedLocation:S}}T.create=R;function A(x){var S=x;return O.defined(S)&&a.is(x.stoppedLocation)}T.is=A})(xe||(e.InlineValueContext=xe={}));var ue;(function(T){T.Type=1,T.Parameter=2;function R(A){return A===1||A===2}T.is=R})(ue||(e.InlayHintKind=ue={}));var Se;(function(T){function R(x){return{value:x}}T.create=R;function A(x){var S=x;return O.objectLiteral(S)&&(S.tooltip===void 0||O.string(S.tooltip)||ve.is(S.tooltip))&&(S.location===void 0||c.is(S.location))&&(S.command===void 0||k.is(S.command))}T.is=A})(Se||(e.InlayHintLabelPart=Se={}));var de;(function(T){function R(x,S,U){var Z={position:x,label:S};return U!==void 0&&(Z.kind=U),Z}T.create=R;function A(x){var S=x;return O.objectLiteral(S)&&o.is(S.position)&&(O.string(S.label)||O.typedArray(S.label,Se.is))&&(S.kind===void 0||ue.is(S.kind))&&S.textEdits===void 0||O.typedArray(S.textEdits,I.is)&&(S.tooltip===void 0||O.string(S.tooltip)||ve.is(S.tooltip))&&(S.paddingLeft===void 0||O.boolean(S.paddingLeft))&&(S.paddingRight===void 0||O.boolean(S.paddingRight))}T.is=A})(de||(e.InlayHint=de={}));var L;(function(T){function R(A){return{kind:"snippet",value:A}}T.createSnippet=R})(L||(e.StringValue=L={}));var M;(function(T){function R(A,x,S,U){return{insertText:A,filterText:x,range:S,command:U}}T.create=R})(M||(e.InlineCompletionItem=M={}));var Y;(function(T){function R(A){return{items:A}}T.create=R})(Y||(e.InlineCompletionList=Y={}));var Ee;(function(T){T.Invoked=0,T.Automatic=1})(Ee||(e.InlineCompletionTriggerKind=Ee={}));var Kt;(function(T){function R(A,x){return{range:A,text:x}}T.create=R})(Kt||(e.SelectedCompletionInfo=Kt={}));var b;(function(T){function R(A,x){return{triggerKind:A,selectedCompletionInfo:x}}T.create=R})(b||(e.InlineCompletionContext=b={}));var V;(function(T){function R(A){var x=A;return O.objectLiteral(x)&&i.is(x.uri)&&O.string(x.name)}T.is=R})(V||(e.WorkspaceFolder=V={})),e.EOL=[`
`,`\r
`,"\r"];var he;(function(T){function R(U,Z,Ie,kt){return new et(U,Z,Ie,kt)}T.create=R;function A(U){var Z=U;return!!(O.defined(Z)&&O.string(Z.uri)&&(O.undefined(Z.languageId)||O.string(Z.languageId))&&O.uinteger(Z.lineCount)&&O.func(Z.getText)&&O.func(Z.positionAt)&&O.func(Z.offsetAt))}T.is=A;function x(U,Z){for(var Ie=U.getText(),kt=S(Z,function(mr,y){var _=mr.range.start.line-y.range.start.line;return _===0?mr.range.start.character-y.range.start.character:_}),mt=Ie.length,ei=kt.length-1;ei>=0;ei--){var hi=kt[ei],Yi=U.offsetAt(hi.range.start),Ke=U.offsetAt(hi.range.end);if(Ke<=mt)Ie=Ie.substring(0,Yi)+hi.newText+Ie.substring(Ke,Ie.length);else throw new Error("Overlapping edit");mt=Yi}return Ie}T.applyEdits=x;function S(U,Z){if(U.length<=1)return U;var Ie=U.length/2|0,kt=U.slice(0,Ie),mt=U.slice(Ie);S(kt,Z),S(mt,Z);for(var ei=0,hi=0,Yi=0;ei<kt.length&&hi<mt.length;){var Ke=Z(kt[ei],mt[hi]);Ke<=0?U[Yi++]=kt[ei++]:U[Yi++]=mt[hi++]}for(;ei<kt.length;)U[Yi++]=kt[ei++];for(;hi<mt.length;)U[Yi++]=mt[hi++];return U}})(he||(e.TextDocument=he={}));var et=function(){function T(R,A,x,S){this._uri=R,this._languageId=A,this._version=x,this._content=S,this._lineOffsets=void 0}return Object.defineProperty(T.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),T.prototype.getText=function(R){if(R){var A=this.offsetAt(R.start),x=this.offsetAt(R.end);return this._content.substring(A,x)}return this._content},T.prototype.update=function(R,A){this._content=R.text,this._version=A,this._lineOffsets=void 0},T.prototype.getLineOffsets=function(){if(this._lineOffsets===void 0){for(var R=[],A=this._content,x=!0,S=0;S<A.length;S++){x&&(R.push(S),x=!1);var U=A.charAt(S);x=U==="\r"||U===`
`,U==="\r"&&S+1<A.length&&A.charAt(S+1)===`
`&&S++}x&&A.length>0&&R.push(A.length),this._lineOffsets=R}return this._lineOffsets},T.prototype.positionAt=function(R){R=Math.max(Math.min(R,this._content.length),0);var A=this.getLineOffsets(),x=0,S=A.length;if(S===0)return o.create(0,R);for(;x<S;){var U=Math.floor((x+S)/2);A[U]>R?S=U:x=U+1}var Z=x-1;return o.create(Z,R-A[Z])},T.prototype.offsetAt=function(R){var A=this.getLineOffsets();if(R.line>=A.length)return this._content.length;if(R.line<0)return 0;var x=A[R.line],S=R.line+1<A.length?A[R.line+1]:this._content.length;return Math.max(Math.min(x+R.character,S),x)},Object.defineProperty(T.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),T}(),O;(function(T){var R=Object.prototype.toString;function A(Ke){return typeof Ke<"u"}T.defined=A;function x(Ke){return typeof Ke>"u"}T.undefined=x;function S(Ke){return Ke===!0||Ke===!1}T.boolean=S;function U(Ke){return R.call(Ke)==="[object String]"}T.string=U;function Z(Ke){return R.call(Ke)==="[object Number]"}T.number=Z;function Ie(Ke,mr,y){return R.call(Ke)==="[object Number]"&&mr<=Ke&&Ke<=y}T.numberRange=Ie;function kt(Ke){return R.call(Ke)==="[object Number]"&&-2147483648<=Ke&&Ke<=2147483647}T.integer=kt;function mt(Ke){return R.call(Ke)==="[object Number]"&&0<=Ke&&Ke<=2147483647}T.uinteger=mt;function ei(Ke){return R.call(Ke)==="[object Function]"}T.func=ei;function hi(Ke){return Ke!==null&&typeof Ke=="object"}T.objectLiteral=hi;function Yi(Ke,mr){return Array.isArray(Ke)&&Ke.every(mr)}T.typedArray=Yi})(O||(O={}))})});var Ft=F(ri=>{"use strict";Object.defineProperty(ri,"__esModule",{value:!0});ri.ProtocolNotificationType=ri.ProtocolNotificationType0=ri.ProtocolRequestType=ri.ProtocolRequestType0=ri.RegistrationType=ri.MessageDirection=void 0;var _a=xo(),vI;(function(t){t.clientToServer="clientToServer",t.serverToClient="serverToClient",t.both="both"})(vI||(ri.MessageDirection=vI={}));var BS=class{constructor(e){this.method=e}};ri.RegistrationType=BS;var WS=class extends _a.RequestType0{constructor(e){super(e)}};ri.ProtocolRequestType0=WS;var KS=class extends _a.RequestType{constructor(e){super(e,_a.ParameterStructures.byName)}};ri.ProtocolRequestType=KS;var $S=class extends _a.NotificationType0{constructor(e){super(e)}};ri.ProtocolNotificationType0=$S;var HS=class extends _a.NotificationType{constructor(e){super(e,_a.ParameterStructures.byName)}};ri.ProtocolNotificationType=HS});var mp=F(Zt=>{"use strict";Object.defineProperty(Zt,"__esModule",{value:!0});Zt.objectLiteral=Zt.typedArray=Zt.stringArray=Zt.array=Zt.func=Zt.error=Zt.number=Zt.string=Zt.boolean=void 0;function Fz(t){return t===!0||t===!1}Zt.boolean=Fz;function SI(t){return typeof t=="string"||t instanceof String}Zt.string=SI;function Pz(t){return typeof t=="number"||t instanceof Number}Zt.number=Pz;function Rz(t){return t instanceof Error}Zt.error=Rz;function Az(t){return typeof t=="function"}Zt.func=Az;function bI(t){return Array.isArray(t)}Zt.array=bI;function Iz(t){return bI(t)&&t.every(e=>SI(e))}Zt.stringArray=Iz;function _z(t,e){return Array.isArray(t)&&t.every(e)}Zt.typedArray=_z;function Nz(t){return t!==null&&typeof t=="object"}Zt.objectLiteral=Nz});var wI=F(yp=>{"use strict";Object.defineProperty(yp,"__esModule",{value:!0});yp.ImplementationRequest=void 0;var DI=Ft(),TI;(function(t){t.method="textDocument/implementation",t.messageDirection=DI.MessageDirection.clientToServer,t.type=new DI.ProtocolRequestType(t.method)})(TI||(yp.ImplementationRequest=TI={}))});var kI=F(Cp=>{"use strict";Object.defineProperty(Cp,"__esModule",{value:!0});Cp.TypeDefinitionRequest=void 0;var xI=Ft(),EI;(function(t){t.method="textDocument/typeDefinition",t.messageDirection=xI.MessageDirection.clientToServer,t.type=new xI.ProtocolRequestType(t.method)})(EI||(Cp.TypeDefinitionRequest=EI={}))});var RI=F(Na=>{"use strict";Object.defineProperty(Na,"__esModule",{value:!0});Na.DidChangeWorkspaceFoldersNotification=Na.WorkspaceFoldersRequest=void 0;var vp=Ft(),FI;(function(t){t.method="workspace/workspaceFolders",t.messageDirection=vp.MessageDirection.serverToClient,t.type=new vp.ProtocolRequestType0(t.method)})(FI||(Na.WorkspaceFoldersRequest=FI={}));var PI;(function(t){t.method="workspace/didChangeWorkspaceFolders",t.messageDirection=vp.MessageDirection.clientToServer,t.type=new vp.ProtocolNotificationType(t.method)})(PI||(Na.DidChangeWorkspaceFoldersNotification=PI={}))});var _I=F(Sp=>{"use strict";Object.defineProperty(Sp,"__esModule",{value:!0});Sp.ConfigurationRequest=void 0;var AI=Ft(),II;(function(t){t.method="workspace/configuration",t.messageDirection=AI.MessageDirection.serverToClient,t.type=new AI.ProtocolRequestType(t.method)})(II||(Sp.ConfigurationRequest=II={}))});var OI=F(La=>{"use strict";Object.defineProperty(La,"__esModule",{value:!0});La.ColorPresentationRequest=La.DocumentColorRequest=void 0;var bp=Ft(),NI;(function(t){t.method="textDocument/documentColor",t.messageDirection=bp.MessageDirection.clientToServer,t.type=new bp.ProtocolRequestType(t.method)})(NI||(La.DocumentColorRequest=NI={}));var LI;(function(t){t.method="textDocument/colorPresentation",t.messageDirection=bp.MessageDirection.clientToServer,t.type=new bp.ProtocolRequestType(t.method)})(LI||(La.ColorPresentationRequest=LI={}))});var UI=F(Oa=>{"use strict";Object.defineProperty(Oa,"__esModule",{value:!0});Oa.FoldingRangeRefreshRequest=Oa.FoldingRangeRequest=void 0;var Dp=Ft(),MI;(function(t){t.method="textDocument/foldingRange",t.messageDirection=Dp.MessageDirection.clientToServer,t.type=new Dp.ProtocolRequestType(t.method)})(MI||(Oa.FoldingRangeRequest=MI={}));var qI;(function(t){t.method="workspace/foldingRange/refresh",t.messageDirection=Dp.MessageDirection.serverToClient,t.type=new Dp.ProtocolRequestType0(t.method)})(qI||(Oa.FoldingRangeRefreshRequest=qI={}))});var WI=F(Tp=>{"use strict";Object.defineProperty(Tp,"__esModule",{value:!0});Tp.DeclarationRequest=void 0;var jI=Ft(),BI;(function(t){t.method="textDocument/declaration",t.messageDirection=jI.MessageDirection.clientToServer,t.type=new jI.ProtocolRequestType(t.method)})(BI||(Tp.DeclarationRequest=BI={}))});var HI=F(wp=>{"use strict";Object.defineProperty(wp,"__esModule",{value:!0});wp.SelectionRangeRequest=void 0;var KI=Ft(),$I;(function(t){t.method="textDocument/selectionRange",t.messageDirection=KI.MessageDirection.clientToServer,t.type=new KI.ProtocolRequestType(t.method)})($I||(wp.SelectionRangeRequest=$I={}))});var JI=F(Es=>{"use strict";Object.defineProperty(Es,"__esModule",{value:!0});Es.WorkDoneProgressCancelNotification=Es.WorkDoneProgressCreateRequest=Es.WorkDoneProgress=void 0;var Lz=xo(),xp=Ft(),VI;(function(t){t.type=new Lz.ProgressType;function e(n){return n===t.type}t.is=e})(VI||(Es.WorkDoneProgress=VI={}));var zI;(function(t){t.method="window/workDoneProgress/create",t.messageDirection=xp.MessageDirection.serverToClient,t.type=new xp.ProtocolRequestType(t.method)})(zI||(Es.WorkDoneProgressCreateRequest=zI={}));var GI;(function(t){t.method="window/workDoneProgress/cancel",t.messageDirection=xp.MessageDirection.clientToServer,t.type=new xp.ProtocolNotificationType(t.method)})(GI||(Es.WorkDoneProgressCancelNotification=GI={}))});var ZI=F(ks=>{"use strict";Object.defineProperty(ks,"__esModule",{value:!0});ks.CallHierarchyOutgoingCallsRequest=ks.CallHierarchyIncomingCallsRequest=ks.CallHierarchyPrepareRequest=void 0;var Ma=Ft(),XI;(function(t){t.method="textDocument/prepareCallHierarchy",t.messageDirection=Ma.MessageDirection.clientToServer,t.type=new Ma.ProtocolRequestType(t.method)})(XI||(ks.CallHierarchyPrepareRequest=XI={}));var YI;(function(t){t.method="callHierarchy/incomingCalls",t.messageDirection=Ma.MessageDirection.clientToServer,t.type=new Ma.ProtocolRequestType(t.method)})(YI||(ks.CallHierarchyIncomingCallsRequest=YI={}));var QI;(function(t){t.method="callHierarchy/outgoingCalls",t.messageDirection=Ma.MessageDirection.clientToServer,t.type=new Ma.ProtocolRequestType(t.method)})(QI||(ks.CallHierarchyOutgoingCallsRequest=QI={}))});var s_=F(si=>{"use strict";Object.defineProperty(si,"__esModule",{value:!0});si.SemanticTokensRefreshRequest=si.SemanticTokensRangeRequest=si.SemanticTokensDeltaRequest=si.SemanticTokensRequest=si.SemanticTokensRegistrationType=si.TokenFormat=void 0;var Vr=Ft(),e_;(function(t){t.Relative="relative"})(e_||(si.TokenFormat=e_={}));var Gu;(function(t){t.method="textDocument/semanticTokens",t.type=new Vr.RegistrationType(t.method)})(Gu||(si.SemanticTokensRegistrationType=Gu={}));var t_;(function(t){t.method="textDocument/semanticTokens/full",t.messageDirection=Vr.MessageDirection.clientToServer,t.type=new Vr.ProtocolRequestType(t.method),t.registrationMethod=Gu.method})(t_||(si.SemanticTokensRequest=t_={}));var n_;(function(t){t.method="textDocument/semanticTokens/full/delta",t.messageDirection=Vr.MessageDirection.clientToServer,t.type=new Vr.ProtocolRequestType(t.method),t.registrationMethod=Gu.method})(n_||(si.SemanticTokensDeltaRequest=n_={}));var i_;(function(t){t.method="textDocument/semanticTokens/range",t.messageDirection=Vr.MessageDirection.clientToServer,t.type=new Vr.ProtocolRequestType(t.method),t.registrationMethod=Gu.method})(i_||(si.SemanticTokensRangeRequest=i_={}));var r_;(function(t){t.method="workspace/semanticTokens/refresh",t.messageDirection=Vr.MessageDirection.serverToClient,t.type=new Vr.ProtocolRequestType0(t.method)})(r_||(si.SemanticTokensRefreshRequest=r_={}))});var c_=F(Ep=>{"use strict";Object.defineProperty(Ep,"__esModule",{value:!0});Ep.ShowDocumentRequest=void 0;var o_=Ft(),a_;(function(t){t.method="window/showDocument",t.messageDirection=o_.MessageDirection.serverToClient,t.type=new o_.ProtocolRequestType(t.method)})(a_||(Ep.ShowDocumentRequest=a_={}))});var d_=F(kp=>{"use strict";Object.defineProperty(kp,"__esModule",{value:!0});kp.LinkedEditingRangeRequest=void 0;var u_=Ft(),l_;(function(t){t.method="textDocument/linkedEditingRange",t.messageDirection=u_.MessageDirection.clientToServer,t.type=new u_.ProtocolRequestType(t.method)})(l_||(kp.LinkedEditingRangeRequest=l_={}))});var v_=F(kn=>{"use strict";Object.defineProperty(kn,"__esModule",{value:!0});kn.WillDeleteFilesRequest=kn.DidDeleteFilesNotification=kn.DidRenameFilesNotification=kn.WillRenameFilesRequest=kn.DidCreateFilesNotification=kn.WillCreateFilesRequest=kn.FileOperationPatternKind=void 0;var Mi=Ft(),f_;(function(t){t.file="file",t.folder="folder"})(f_||(kn.FileOperationPatternKind=f_={}));var p_;(function(t){t.method="workspace/willCreateFiles",t.messageDirection=Mi.MessageDirection.clientToServer,t.type=new Mi.ProtocolRequestType(t.method)})(p_||(kn.WillCreateFilesRequest=p_={}));var h_;(function(t){t.method="workspace/didCreateFiles",t.messageDirection=Mi.MessageDirection.clientToServer,t.type=new Mi.ProtocolNotificationType(t.method)})(h_||(kn.DidCreateFilesNotification=h_={}));var g_;(function(t){t.method="workspace/willRenameFiles",t.messageDirection=Mi.MessageDirection.clientToServer,t.type=new Mi.ProtocolRequestType(t.method)})(g_||(kn.WillRenameFilesRequest=g_={}));var m_;(function(t){t.method="workspace/didRenameFiles",t.messageDirection=Mi.MessageDirection.clientToServer,t.type=new Mi.ProtocolNotificationType(t.method)})(m_||(kn.DidRenameFilesNotification=m_={}));var y_;(function(t){t.method="workspace/didDeleteFiles",t.messageDirection=Mi.MessageDirection.clientToServer,t.type=new Mi.ProtocolNotificationType(t.method)})(y_||(kn.DidDeleteFilesNotification=y_={}));var C_;(function(t){t.method="workspace/willDeleteFiles",t.messageDirection=Mi.MessageDirection.clientToServer,t.type=new Mi.ProtocolRequestType(t.method)})(C_||(kn.WillDeleteFilesRequest=C_={}))});var w_=F(Fs=>{"use strict";Object.defineProperty(Fs,"__esModule",{value:!0});Fs.MonikerRequest=Fs.MonikerKind=Fs.UniquenessLevel=void 0;var S_=Ft(),b_;(function(t){t.document="document",t.project="project",t.group="group",t.scheme="scheme",t.global="global"})(b_||(Fs.UniquenessLevel=b_={}));var D_;(function(t){t.$import="import",t.$export="export",t.local="local"})(D_||(Fs.MonikerKind=D_={}));var T_;(function(t){t.method="textDocument/moniker",t.messageDirection=S_.MessageDirection.clientToServer,t.type=new S_.ProtocolRequestType(t.method)})(T_||(Fs.MonikerRequest=T_={}))});var F_=F(Ps=>{"use strict";Object.defineProperty(Ps,"__esModule",{value:!0});Ps.TypeHierarchySubtypesRequest=Ps.TypeHierarchySupertypesRequest=Ps.TypeHierarchyPrepareRequest=void 0;var qa=Ft(),x_;(function(t){t.method="textDocument/prepareTypeHierarchy",t.messageDirection=qa.MessageDirection.clientToServer,t.type=new qa.ProtocolRequestType(t.method)})(x_||(Ps.TypeHierarchyPrepareRequest=x_={}));var E_;(function(t){t.method="typeHierarchy/supertypes",t.messageDirection=qa.MessageDirection.clientToServer,t.type=new qa.ProtocolRequestType(t.method)})(E_||(Ps.TypeHierarchySupertypesRequest=E_={}));var k_;(function(t){t.method="typeHierarchy/subtypes",t.messageDirection=qa.MessageDirection.clientToServer,t.type=new qa.ProtocolRequestType(t.method)})(k_||(Ps.TypeHierarchySubtypesRequest=k_={}))});var A_=F(Ua=>{"use strict";Object.defineProperty(Ua,"__esModule",{value:!0});Ua.InlineValueRefreshRequest=Ua.InlineValueRequest=void 0;var Fp=Ft(),P_;(function(t){t.method="textDocument/inlineValue",t.messageDirection=Fp.MessageDirection.clientToServer,t.type=new Fp.ProtocolRequestType(t.method)})(P_||(Ua.InlineValueRequest=P_={}));var R_;(function(t){t.method="workspace/inlineValue/refresh",t.messageDirection=Fp.MessageDirection.serverToClient,t.type=new Fp.ProtocolRequestType0(t.method)})(R_||(Ua.InlineValueRefreshRequest=R_={}))});var L_=F(Rs=>{"use strict";Object.defineProperty(Rs,"__esModule",{value:!0});Rs.InlayHintRefreshRequest=Rs.InlayHintResolveRequest=Rs.InlayHintRequest=void 0;var ja=Ft(),I_;(function(t){t.method="textDocument/inlayHint",t.messageDirection=ja.MessageDirection.clientToServer,t.type=new ja.ProtocolRequestType(t.method)})(I_||(Rs.InlayHintRequest=I_={}));var __;(function(t){t.method="inlayHint/resolve",t.messageDirection=ja.MessageDirection.clientToServer,t.type=new ja.ProtocolRequestType(t.method)})(__||(Rs.InlayHintResolveRequest=__={}));var N_;(function(t){t.method="workspace/inlayHint/refresh",t.messageDirection=ja.MessageDirection.serverToClient,t.type=new ja.ProtocolRequestType0(t.method)})(N_||(Rs.InlayHintRefreshRequest=N_={}))});var W_=F(qi=>{"use strict";Object.defineProperty(qi,"__esModule",{value:!0});qi.DiagnosticRefreshRequest=qi.WorkspaceDiagnosticRequest=qi.DocumentDiagnosticRequest=qi.DocumentDiagnosticReportKind=qi.DiagnosticServerCancellationData=void 0;var B_=xo(),Oz=mp(),Ba=Ft(),O_;(function(t){function e(n){let i=n;return i&&Oz.boolean(i.retriggerRequest)}t.is=e})(O_||(qi.DiagnosticServerCancellationData=O_={}));var M_;(function(t){t.Full="full",t.Unchanged="unchanged"})(M_||(qi.DocumentDiagnosticReportKind=M_={}));var q_;(function(t){t.method="textDocument/diagnostic",t.messageDirection=Ba.MessageDirection.clientToServer,t.type=new Ba.ProtocolRequestType(t.method),t.partialResult=new B_.ProgressType})(q_||(qi.DocumentDiagnosticRequest=q_={}));var U_;(function(t){t.method="workspace/diagnostic",t.messageDirection=Ba.MessageDirection.clientToServer,t.type=new Ba.ProtocolRequestType(t.method),t.partialResult=new B_.ProgressType})(U_||(qi.WorkspaceDiagnosticRequest=U_={}));var j_;(function(t){t.method="workspace/diagnostic/refresh",t.messageDirection=Ba.MessageDirection.serverToClient,t.type=new Ba.ProtocolRequestType0(t.method)})(j_||(qi.DiagnosticRefreshRequest=j_={}))});var J_=F(Vt=>{"use strict";Object.defineProperty(Vt,"__esModule",{value:!0});Vt.DidCloseNotebookDocumentNotification=Vt.DidSaveNotebookDocumentNotification=Vt.DidChangeNotebookDocumentNotification=Vt.NotebookCellArrayChange=Vt.DidOpenNotebookDocumentNotification=Vt.NotebookDocumentSyncRegistrationType=Vt.NotebookDocument=Vt.NotebookCell=Vt.ExecutionSummary=Vt.NotebookCellKind=void 0;var Ju=gp(),tr=mp(),Fr=Ft(),VS;(function(t){t.Markup=1,t.Code=2;function e(n){return n===1||n===2}t.is=e})(VS||(Vt.NotebookCellKind=VS={}));var zS;(function(t){function e(r,s){let o={executionOrder:r};return(s===!0||s===!1)&&(o.success=s),o}t.create=e;function n(r){let s=r;return tr.objectLiteral(s)&&Ju.uinteger.is(s.executionOrder)&&(s.success===void 0||tr.boolean(s.success))}t.is=n;function i(r,s){return r===s?!0:r==null||s===null||s===void 0?!1:r.executionOrder===s.executionOrder&&r.success===s.success}t.equals=i})(zS||(Vt.ExecutionSummary=zS={}));var Pp;(function(t){function e(s,o){return{kind:s,document:o}}t.create=e;function n(s){let o=s;return tr.objectLiteral(o)&&VS.is(o.kind)&&Ju.DocumentUri.is(o.document)&&(o.metadata===void 0||tr.objectLiteral(o.metadata))}t.is=n;function i(s,o){let a=new Set;return s.document!==o.document&&a.add("document"),s.kind!==o.kind&&a.add("kind"),s.executionSummary!==o.executionSummary&&a.add("executionSummary"),(s.metadata!==void 0||o.metadata!==void 0)&&!r(s.metadata,o.metadata)&&a.add("metadata"),(s.executionSummary!==void 0||o.executionSummary!==void 0)&&!zS.equals(s.executionSummary,o.executionSummary)&&a.add("executionSummary"),a}t.diff=i;function r(s,o){if(s===o)return!0;if(s==null||o===null||o===void 0||typeof s!=typeof o||typeof s!="object")return!1;let a=Array.isArray(s),c=Array.isArray(o);if(a!==c)return!1;if(a&&c){if(s.length!==o.length)return!1;for(let l=0;l<s.length;l++)if(!r(s[l],o[l]))return!1}if(tr.objectLiteral(s)&&tr.objectLiteral(o)){let l=Object.keys(s),f=Object.keys(o);if(l.length!==f.length||(l.sort(),f.sort(),!r(l,f)))return!1;for(let g=0;g<l.length;g++){let p=l[g];if(!r(s[p],o[p]))return!1}}return!0}})(Pp||(Vt.NotebookCell=Pp={}));var K_;(function(t){function e(i,r,s,o){return{uri:i,notebookType:r,version:s,cells:o}}t.create=e;function n(i){let r=i;return tr.objectLiteral(r)&&tr.string(r.uri)&&Ju.integer.is(r.version)&&tr.typedArray(r.cells,Pp.is)}t.is=n})(K_||(Vt.NotebookDocument=K_={}));var Wa;(function(t){t.method="notebookDocument/sync",t.messageDirection=Fr.MessageDirection.clientToServer,t.type=new Fr.RegistrationType(t.method)})(Wa||(Vt.NotebookDocumentSyncRegistrationType=Wa={}));var $_;(function(t){t.method="notebookDocument/didOpen",t.messageDirection=Fr.MessageDirection.clientToServer,t.type=new Fr.ProtocolNotificationType(t.method),t.registrationMethod=Wa.method})($_||(Vt.DidOpenNotebookDocumentNotification=$_={}));var H_;(function(t){function e(i){let r=i;return tr.objectLiteral(r)&&Ju.uinteger.is(r.start)&&Ju.uinteger.is(r.deleteCount)&&(r.cells===void 0||tr.typedArray(r.cells,Pp.is))}t.is=e;function n(i,r,s){let o={start:i,deleteCount:r};return s!==void 0&&(o.cells=s),o}t.create=n})(H_||(Vt.NotebookCellArrayChange=H_={}));var V_;(function(t){t.method="notebookDocument/didChange",t.messageDirection=Fr.MessageDirection.clientToServer,t.type=new Fr.ProtocolNotificationType(t.method),t.registrationMethod=Wa.method})(V_||(Vt.DidChangeNotebookDocumentNotification=V_={}));var z_;(function(t){t.method="notebookDocument/didSave",t.messageDirection=Fr.MessageDirection.clientToServer,t.type=new Fr.ProtocolNotificationType(t.method),t.registrationMethod=Wa.method})(z_||(Vt.DidSaveNotebookDocumentNotification=z_={}));var G_;(function(t){t.method="notebookDocument/didClose",t.messageDirection=Fr.MessageDirection.clientToServer,t.type=new Fr.ProtocolNotificationType(t.method),t.registrationMethod=Wa.method})(G_||(Vt.DidCloseNotebookDocumentNotification=G_={}))});var Q_=F(Rp=>{"use strict";Object.defineProperty(Rp,"__esModule",{value:!0});Rp.InlineCompletionRequest=void 0;var X_=Ft(),Y_;(function(t){t.method="textDocument/inlineCompletion",t.messageDirection=X_.MessageDirection.clientToServer,t.type=new X_.ProtocolRequestType(t.method)})(Y_||(Rp.InlineCompletionRequest=Y_={}))});var dN=F(E=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0});E.WorkspaceSymbolRequest=E.CodeActionResolveRequest=E.CodeActionRequest=E.DocumentSymbolRequest=E.DocumentHighlightRequest=E.ReferencesRequest=E.DefinitionRequest=E.SignatureHelpRequest=E.SignatureHelpTriggerKind=E.HoverRequest=E.CompletionResolveRequest=E.CompletionRequest=E.CompletionTriggerKind=E.PublishDiagnosticsNotification=E.WatchKind=E.RelativePattern=E.FileChangeType=E.DidChangeWatchedFilesNotification=E.WillSaveTextDocumentWaitUntilRequest=E.WillSaveTextDocumentNotification=E.TextDocumentSaveReason=E.DidSaveTextDocumentNotification=E.DidCloseTextDocumentNotification=E.DidChangeTextDocumentNotification=E.TextDocumentContentChangeEvent=E.DidOpenTextDocumentNotification=E.TextDocumentSyncKind=E.TelemetryEventNotification=E.LogMessageNotification=E.ShowMessageRequest=E.ShowMessageNotification=E.MessageType=E.DidChangeConfigurationNotification=E.ExitNotification=E.ShutdownRequest=E.InitializedNotification=E.InitializeErrorCodes=E.InitializeRequest=E.WorkDoneProgressOptions=E.TextDocumentRegistrationOptions=E.StaticRegistrationOptions=E.PositionEncodingKind=E.FailureHandlingKind=E.ResourceOperationKind=E.UnregistrationRequest=E.RegistrationRequest=E.DocumentSelector=E.NotebookCellTextDocumentFilter=E.NotebookDocumentFilter=E.TextDocumentFilter=void 0;E.MonikerRequest=E.MonikerKind=E.UniquenessLevel=E.WillDeleteFilesRequest=E.DidDeleteFilesNotification=E.WillRenameFilesRequest=E.DidRenameFilesNotification=E.WillCreateFilesRequest=E.DidCreateFilesNotification=E.FileOperationPatternKind=E.LinkedEditingRangeRequest=E.ShowDocumentRequest=E.SemanticTokensRegistrationType=E.SemanticTokensRefreshRequest=E.SemanticTokensRangeRequest=E.SemanticTokensDeltaRequest=E.SemanticTokensRequest=E.TokenFormat=E.CallHierarchyPrepareRequest=E.CallHierarchyOutgoingCallsRequest=E.CallHierarchyIncomingCallsRequest=E.WorkDoneProgressCancelNotification=E.WorkDoneProgressCreateRequest=E.WorkDoneProgress=E.SelectionRangeRequest=E.DeclarationRequest=E.FoldingRangeRefreshRequest=E.FoldingRangeRequest=E.ColorPresentationRequest=E.DocumentColorRequest=E.ConfigurationRequest=E.DidChangeWorkspaceFoldersNotification=E.WorkspaceFoldersRequest=E.TypeDefinitionRequest=E.ImplementationRequest=E.ApplyWorkspaceEditRequest=E.ExecuteCommandRequest=E.PrepareRenameRequest=E.RenameRequest=E.PrepareSupportDefaultBehavior=E.DocumentOnTypeFormattingRequest=E.DocumentRangesFormattingRequest=E.DocumentRangeFormattingRequest=E.DocumentFormattingRequest=E.DocumentLinkResolveRequest=E.DocumentLinkRequest=E.CodeLensRefreshRequest=E.CodeLensResolveRequest=E.CodeLensRequest=E.WorkspaceSymbolResolveRequest=void 0;E.InlineCompletionRequest=E.DidCloseNotebookDocumentNotification=E.DidSaveNotebookDocumentNotification=E.DidChangeNotebookDocumentNotification=E.NotebookCellArrayChange=E.DidOpenNotebookDocumentNotification=E.NotebookDocumentSyncRegistrationType=E.NotebookDocument=E.NotebookCell=E.ExecutionSummary=E.NotebookCellKind=E.DiagnosticRefreshRequest=E.WorkspaceDiagnosticRequest=E.DocumentDiagnosticRequest=E.DocumentDiagnosticReportKind=E.DiagnosticServerCancellationData=E.InlayHintRefreshRequest=E.InlayHintResolveRequest=E.InlayHintRequest=E.InlineValueRefreshRequest=E.InlineValueRequest=E.TypeHierarchySupertypesRequest=E.TypeHierarchySubtypesRequest=E.TypeHierarchyPrepareRequest=void 0;var ce=Ft(),Z_=gp(),fn=mp(),Mz=wI();Object.defineProperty(E,"ImplementationRequest",{enumerable:!0,get:function(){return Mz.ImplementationRequest}});var qz=kI();Object.defineProperty(E,"TypeDefinitionRequest",{enumerable:!0,get:function(){return qz.TypeDefinitionRequest}});var aN=RI();Object.defineProperty(E,"WorkspaceFoldersRequest",{enumerable:!0,get:function(){return aN.WorkspaceFoldersRequest}});Object.defineProperty(E,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:function(){return aN.DidChangeWorkspaceFoldersNotification}});var Uz=_I();Object.defineProperty(E,"ConfigurationRequest",{enumerable:!0,get:function(){return Uz.ConfigurationRequest}});var cN=OI();Object.defineProperty(E,"DocumentColorRequest",{enumerable:!0,get:function(){return cN.DocumentColorRequest}});Object.defineProperty(E,"ColorPresentationRequest",{enumerable:!0,get:function(){return cN.ColorPresentationRequest}});var uN=UI();Object.defineProperty(E,"FoldingRangeRequest",{enumerable:!0,get:function(){return uN.FoldingRangeRequest}});Object.defineProperty(E,"FoldingRangeRefreshRequest",{enumerable:!0,get:function(){return uN.FoldingRangeRefreshRequest}});var jz=WI();Object.defineProperty(E,"DeclarationRequest",{enumerable:!0,get:function(){return jz.DeclarationRequest}});var Bz=HI();Object.defineProperty(E,"SelectionRangeRequest",{enumerable:!0,get:function(){return Bz.SelectionRangeRequest}});var QS=JI();Object.defineProperty(E,"WorkDoneProgress",{enumerable:!0,get:function(){return QS.WorkDoneProgress}});Object.defineProperty(E,"WorkDoneProgressCreateRequest",{enumerable:!0,get:function(){return QS.WorkDoneProgressCreateRequest}});Object.defineProperty(E,"WorkDoneProgressCancelNotification",{enumerable:!0,get:function(){return QS.WorkDoneProgressCancelNotification}});var ZS=ZI();Object.defineProperty(E,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:function(){return ZS.CallHierarchyIncomingCallsRequest}});Object.defineProperty(E,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:function(){return ZS.CallHierarchyOutgoingCallsRequest}});Object.defineProperty(E,"CallHierarchyPrepareRequest",{enumerable:!0,get:function(){return ZS.CallHierarchyPrepareRequest}});var Ka=s_();Object.defineProperty(E,"TokenFormat",{enumerable:!0,get:function(){return Ka.TokenFormat}});Object.defineProperty(E,"SemanticTokensRequest",{enumerable:!0,get:function(){return Ka.SemanticTokensRequest}});Object.defineProperty(E,"SemanticTokensDeltaRequest",{enumerable:!0,get:function(){return Ka.SemanticTokensDeltaRequest}});Object.defineProperty(E,"SemanticTokensRangeRequest",{enumerable:!0,get:function(){return Ka.SemanticTokensRangeRequest}});Object.defineProperty(E,"SemanticTokensRefreshRequest",{enumerable:!0,get:function(){return Ka.SemanticTokensRefreshRequest}});Object.defineProperty(E,"SemanticTokensRegistrationType",{enumerable:!0,get:function(){return Ka.SemanticTokensRegistrationType}});var Wz=c_();Object.defineProperty(E,"ShowDocumentRequest",{enumerable:!0,get:function(){return Wz.ShowDocumentRequest}});var Kz=d_();Object.defineProperty(E,"LinkedEditingRangeRequest",{enumerable:!0,get:function(){return Kz.LinkedEditingRangeRequest}});var Eo=v_();Object.defineProperty(E,"FileOperationPatternKind",{enumerable:!0,get:function(){return Eo.FileOperationPatternKind}});Object.defineProperty(E,"DidCreateFilesNotification",{enumerable:!0,get:function(){return Eo.DidCreateFilesNotification}});Object.defineProperty(E,"WillCreateFilesRequest",{enumerable:!0,get:function(){return Eo.WillCreateFilesRequest}});Object.defineProperty(E,"DidRenameFilesNotification",{enumerable:!0,get:function(){return Eo.DidRenameFilesNotification}});Object.defineProperty(E,"WillRenameFilesRequest",{enumerable:!0,get:function(){return Eo.WillRenameFilesRequest}});Object.defineProperty(E,"DidDeleteFilesNotification",{enumerable:!0,get:function(){return Eo.DidDeleteFilesNotification}});Object.defineProperty(E,"WillDeleteFilesRequest",{enumerable:!0,get:function(){return Eo.WillDeleteFilesRequest}});var eb=w_();Object.defineProperty(E,"UniquenessLevel",{enumerable:!0,get:function(){return eb.UniquenessLevel}});Object.defineProperty(E,"MonikerKind",{enumerable:!0,get:function(){return eb.MonikerKind}});Object.defineProperty(E,"MonikerRequest",{enumerable:!0,get:function(){return eb.MonikerRequest}});var tb=F_();Object.defineProperty(E,"TypeHierarchyPrepareRequest",{enumerable:!0,get:function(){return tb.TypeHierarchyPrepareRequest}});Object.defineProperty(E,"TypeHierarchySubtypesRequest",{enumerable:!0,get:function(){return tb.TypeHierarchySubtypesRequest}});Object.defineProperty(E,"TypeHierarchySupertypesRequest",{enumerable:!0,get:function(){return tb.TypeHierarchySupertypesRequest}});var lN=A_();Object.defineProperty(E,"InlineValueRequest",{enumerable:!0,get:function(){return lN.InlineValueRequest}});Object.defineProperty(E,"InlineValueRefreshRequest",{enumerable:!0,get:function(){return lN.InlineValueRefreshRequest}});var nb=L_();Object.defineProperty(E,"InlayHintRequest",{enumerable:!0,get:function(){return nb.InlayHintRequest}});Object.defineProperty(E,"InlayHintResolveRequest",{enumerable:!0,get:function(){return nb.InlayHintResolveRequest}});Object.defineProperty(E,"InlayHintRefreshRequest",{enumerable:!0,get:function(){return nb.InlayHintRefreshRequest}});var Xu=W_();Object.defineProperty(E,"DiagnosticServerCancellationData",{enumerable:!0,get:function(){return Xu.DiagnosticServerCancellationData}});Object.defineProperty(E,"DocumentDiagnosticReportKind",{enumerable:!0,get:function(){return Xu.DocumentDiagnosticReportKind}});Object.defineProperty(E,"DocumentDiagnosticRequest",{enumerable:!0,get:function(){return Xu.DocumentDiagnosticRequest}});Object.defineProperty(E,"WorkspaceDiagnosticRequest",{enumerable:!0,get:function(){return Xu.WorkspaceDiagnosticRequest}});Object.defineProperty(E,"DiagnosticRefreshRequest",{enumerable:!0,get:function(){return Xu.DiagnosticRefreshRequest}});var Pr=J_();Object.defineProperty(E,"NotebookCellKind",{enumerable:!0,get:function(){return Pr.NotebookCellKind}});Object.defineProperty(E,"ExecutionSummary",{enumerable:!0,get:function(){return Pr.ExecutionSummary}});Object.defineProperty(E,"NotebookCell",{enumerable:!0,get:function(){return Pr.NotebookCell}});Object.defineProperty(E,"NotebookDocument",{enumerable:!0,get:function(){return Pr.NotebookDocument}});Object.defineProperty(E,"NotebookDocumentSyncRegistrationType",{enumerable:!0,get:function(){return Pr.NotebookDocumentSyncRegistrationType}});Object.defineProperty(E,"DidOpenNotebookDocumentNotification",{enumerable:!0,get:function(){return Pr.DidOpenNotebookDocumentNotification}});Object.defineProperty(E,"NotebookCellArrayChange",{enumerable:!0,get:function(){return Pr.NotebookCellArrayChange}});Object.defineProperty(E,"DidChangeNotebookDocumentNotification",{enumerable:!0,get:function(){return Pr.DidChangeNotebookDocumentNotification}});Object.defineProperty(E,"DidSaveNotebookDocumentNotification",{enumerable:!0,get:function(){return Pr.DidSaveNotebookDocumentNotification}});Object.defineProperty(E,"DidCloseNotebookDocumentNotification",{enumerable:!0,get:function(){return Pr.DidCloseNotebookDocumentNotification}});var $z=Q_();Object.defineProperty(E,"InlineCompletionRequest",{enumerable:!0,get:function(){return $z.InlineCompletionRequest}});var GS;(function(t){function e(n){let i=n;return fn.string(i)||fn.string(i.language)||fn.string(i.scheme)||fn.string(i.pattern)}t.is=e})(GS||(E.TextDocumentFilter=GS={}));var JS;(function(t){function e(n){let i=n;return fn.objectLiteral(i)&&(fn.string(i.notebookType)||fn.string(i.scheme)||fn.string(i.pattern))}t.is=e})(JS||(E.NotebookDocumentFilter=JS={}));var XS;(function(t){function e(n){let i=n;return fn.objectLiteral(i)&&(fn.string(i.notebook)||JS.is(i.notebook))&&(i.language===void 0||fn.string(i.language))}t.is=e})(XS||(E.NotebookCellTextDocumentFilter=XS={}));var YS;(function(t){function e(n){if(!Array.isArray(n))return!1;for(let i of n)if(!fn.string(i)&&!GS.is(i)&&!XS.is(i))return!1;return!0}t.is=e})(YS||(E.DocumentSelector=YS={}));var e1;(function(t){t.method="client/registerCapability",t.messageDirection=ce.MessageDirection.serverToClient,t.type=new ce.ProtocolRequestType(t.method)})(e1||(E.RegistrationRequest=e1={}));var t1;(function(t){t.method="client/unregisterCapability",t.messageDirection=ce.MessageDirection.serverToClient,t.type=new ce.ProtocolRequestType(t.method)})(t1||(E.UnregistrationRequest=t1={}));var n1;(function(t){t.Create="create",t.Rename="rename",t.Delete="delete"})(n1||(E.ResourceOperationKind=n1={}));var i1;(function(t){t.Abort="abort",t.Transactional="transactional",t.TextOnlyTransactional="textOnlyTransactional",t.Undo="undo"})(i1||(E.FailureHandlingKind=i1={}));var r1;(function(t){t.UTF8="utf-8",t.UTF16="utf-16",t.UTF32="utf-32"})(r1||(E.PositionEncodingKind=r1={}));var s1;(function(t){function e(n){let i=n;return i&&fn.string(i.id)&&i.id.length>0}t.hasId=e})(s1||(E.StaticRegistrationOptions=s1={}));var o1;(function(t){function e(n){let i=n;return i&&(i.documentSelector===null||YS.is(i.documentSelector))}t.is=e})(o1||(E.TextDocumentRegistrationOptions=o1={}));var a1;(function(t){function e(i){let r=i;return fn.objectLiteral(r)&&(r.workDoneProgress===void 0||fn.boolean(r.workDoneProgress))}t.is=e;function n(i){let r=i;return r&&fn.boolean(r.workDoneProgress)}t.hasWorkDoneProgress=n})(a1||(E.WorkDoneProgressOptions=a1={}));var c1;(function(t){t.method="initialize",t.messageDirection=ce.MessageDirection.clientToServer,t.type=new ce.ProtocolRequestType(t.method)})(c1||(E.InitializeRequest=c1={}));var u1;(function(t){t.unknownProtocolVersion=1})(u1||(E.InitializeErrorCodes=u1={}));var l1;(function(t){t.method="initialized",t.messageDirection=ce.MessageDirection.clientToServer,t.type=new ce.ProtocolNotificationType(t.method)})(l1||(E.InitializedNotification=l1={}));var d1;(function(t){t.method="shutdown",t.messageDirection=ce.MessageDirection.clientToServer,t.type=new ce.ProtocolRequestType0(t.method)})(d1||(E.ShutdownRequest=d1={}));var f1;(function(t){t.method="exit",t.messageDirection=ce.MessageDirection.clientToServer,t.type=new ce.ProtocolNotificationType0(t.method)})(f1||(E.ExitNotification=f1={}));var p1;(function(t){t.method="workspace/didChangeConfiguration",t.messageDirection=ce.MessageDirection.clientToServer,t.type=new ce.ProtocolNotificationType(t.method)})(p1||(E.DidChangeConfigurationNotification=p1={}));var h1;(function(t){t.Error=1,t.Warning=2,t.Info=3,t.Log=4,t.Debug=5})(h1||(E.MessageType=h1={}));var g1;(function(t){t.method="window/showMessage",t.messageDirection=ce.MessageDirection.serverToClient,t.type=new ce.ProtocolNotificationType(t.method)})(g1||(E.ShowMessageNotification=g1={}));var m1;(function(t){t.method="window/showMessageRequest",t.messageDirection=ce.MessageDirection.serverToClient,t.type=new ce.ProtocolRequestType(t.method)})(m1||(E.ShowMessageRequest=m1={}));var y1;(function(t){t.method="window/logMessage",t.messageDirection=ce.MessageDirection.serverToClient,t.type=new ce.ProtocolNotificationType(t.method)})(y1||(E.LogMessageNotification=y1={}));var C1;(function(t){t.method="telemetry/event",t.messageDirection=ce.MessageDirection.serverToClient,t.type=new ce.ProtocolNotificationType(t.method)})(C1||(E.TelemetryEventNotification=C1={}));var v1;(function(t){t.None=0,t.Full=1,t.Incremental=2})(v1||(E.TextDocumentSyncKind=v1={}));var S1;(function(t){t.method="textDocument/didOpen",t.messageDirection=ce.MessageDirection.clientToServer,t.type=new ce.ProtocolNotificationType(t.method)})(S1||(E.DidOpenTextDocumentNotification=S1={}));var b1;(function(t){function e(i){let r=i;return r!=null&&typeof r.text=="string"&&r.range!==void 0&&(r.rangeLength===void 0||typeof r.rangeLength=="number")}t.isIncremental=e;function n(i){let r=i;return r!=null&&typeof r.text=="string"&&r.range===void 0&&r.rangeLength===void 0}t.isFull=n})(b1||(E.TextDocumentContentChangeEvent=b1={}));var D1;(function(t){t.method="textDocument/didChange",t.messageDirection=ce.MessageDirection.clientToServer,t.type=new ce.ProtocolNotificationType(t.method)})(D1||(E.DidChangeTextDocumentNotification=D1={}));var T1;(function(t){t.method="textDocument/didClose",t.messageDirection=ce.MessageDirection.clientToServer,t.type=new ce.ProtocolNotificationType(t.method)})(T1||(E.DidCloseTextDocumentNotification=T1={}));var w1;(function(t){t.method="textDocument/didSave",t.messageDirection=ce.MessageDirection.clientToServer,t.type=new ce.ProtocolNotificationType(t.method)})(w1||(E.DidSaveTextDocumentNotification=w1={}));var x1;(function(t){t.Manual=1,t.AfterDelay=2,t.FocusOut=3})(x1||(E.TextDocumentSaveReason=x1={}));var E1;(function(t){t.method="textDocument/willSave",t.messageDirection=ce.MessageDirection.clientToServer,t.type=new ce.ProtocolNotificationType(t.method)})(E1||(E.WillSaveTextDocumentNotification=E1={}));var k1;(function(t){t.method="textDocument/willSaveWaitUntil",t.messageDirection=ce.MessageDirection.clientToServer,t.type=new ce.ProtocolRequestType(t.method)})(k1||(E.WillSaveTextDocumentWaitUntilRequest=k1={}));var F1;(function(t){t.method="workspace/didChangeWatchedFiles",t.messageDirection=ce.MessageDirection.clientToServer,t.type=new ce.ProtocolNotificationType(t.method)})(F1||(E.DidChangeWatchedFilesNotification=F1={}));var P1;(function(t){t.Created=1,t.Changed=2,t.Deleted=3})(P1||(E.FileChangeType=P1={}));var R1;(function(t){function e(n){let i=n;return fn.objectLiteral(i)&&(Z_.URI.is(i.baseUri)||Z_.WorkspaceFolder.is(i.baseUri))&&fn.string(i.pattern)}t.is=e})(R1||(E.RelativePattern=R1={}));var A1;(function(t){t.Create=1,t.Change=2,t.Delete=4})(A1||(E.WatchKind=A1={}));var I1;(function(t){t.method="textDocument/publishDiagnostics",t.messageDirection=ce.MessageDirection.serverToClient,t.type=new ce.ProtocolNotificationType(t.method)})(I1||(E.PublishDiagnosticsNotification=I1={}));var _1;(function(t){t.Invoked=1,t.TriggerCharacter=2,t.TriggerForIncompleteCompletions=3})(_1||(E.CompletionTriggerKind=_1={}));var N1;(function(t){t.method="textDocument/completion",t.messageDirection=ce.MessageDirection.clientToServer,t.type=new ce.ProtocolRequestType(t.method)})(N1||(E.CompletionRequest=N1={}));var L1;(function(t){t.method="completionItem/resolve",t.messageDirection=ce.MessageDirection.clientToServer,t.type=new ce.ProtocolRequestType(t.method)})(L1||(E.CompletionResolveRequest=L1={}));var O1;(function(t){t.method="textDocument/hover",t.messageDirection=ce.MessageDirection.clientToServer,t.type=new ce.ProtocolRequestType(t.method)})(O1||(E.HoverRequest=O1={}));var M1;(function(t){t.Invoked=1,t.TriggerCharacter=2,t.ContentChange=3})(M1||(E.SignatureHelpTriggerKind=M1={}));var q1;(function(t){t.method="textDocument/signatureHelp",t.messageDirection=ce.MessageDirection.clientToServer,t.type=new ce.ProtocolRequestType(t.method)})(q1||(E.SignatureHelpRequest=q1={}));var U1;(function(t){t.method="textDocument/definition",t.messageDirection=ce.MessageDirection.clientToServer,t.type=new ce.ProtocolRequestType(t.method)})(U1||(E.DefinitionRequest=U1={}));var j1;(function(t){t.method="textDocument/references",t.messageDirection=ce.MessageDirection.clientToServer,t.type=new ce.ProtocolRequestType(t.method)})(j1||(E.ReferencesRequest=j1={}));var B1;(function(t){t.method="textDocument/documentHighlight",t.messageDirection=ce.MessageDirection.clientToServer,t.type=new ce.ProtocolRequestType(t.method)})(B1||(E.DocumentHighlightRequest=B1={}));var W1;(function(t){t.method="textDocument/documentSymbol",t.messageDirection=ce.MessageDirection.clientToServer,t.type=new ce.ProtocolRequestType(t.method)})(W1||(E.DocumentSymbolRequest=W1={}));var K1;(function(t){t.method="textDocument/codeAction",t.messageDirection=ce.MessageDirection.clientToServer,t.type=new ce.ProtocolRequestType(t.method)})(K1||(E.CodeActionRequest=K1={}));var $1;(function(t){t.method="codeAction/resolve",t.messageDirection=ce.MessageDirection.clientToServer,t.type=new ce.ProtocolRequestType(t.method)})($1||(E.CodeActionResolveRequest=$1={}));var H1;(function(t){t.method="workspace/symbol",t.messageDirection=ce.MessageDirection.clientToServer,t.type=new ce.ProtocolRequestType(t.method)})(H1||(E.WorkspaceSymbolRequest=H1={}));var V1;(function(t){t.method="workspaceSymbol/resolve",t.messageDirection=ce.MessageDirection.clientToServer,t.type=new ce.ProtocolRequestType(t.method)})(V1||(E.WorkspaceSymbolResolveRequest=V1={}));var z1;(function(t){t.method="textDocument/codeLens",t.messageDirection=ce.MessageDirection.clientToServer,t.type=new ce.ProtocolRequestType(t.method)})(z1||(E.CodeLensRequest=z1={}));var G1;(function(t){t.method="codeLens/resolve",t.messageDirection=ce.MessageDirection.clientToServer,t.type=new ce.ProtocolRequestType(t.method)})(G1||(E.CodeLensResolveRequest=G1={}));var J1;(function(t){t.method="workspace/codeLens/refresh",t.messageDirection=ce.MessageDirection.serverToClient,t.type=new ce.ProtocolRequestType0(t.method)})(J1||(E.CodeLensRefreshRequest=J1={}));var X1;(function(t){t.method="textDocument/documentLink",t.messageDirection=ce.MessageDirection.clientToServer,t.type=new ce.ProtocolRequestType(t.method)})(X1||(E.DocumentLinkRequest=X1={}));var Y1;(function(t){t.method="documentLink/resolve",t.messageDirection=ce.MessageDirection.clientToServer,t.type=new ce.ProtocolRequestType(t.method)})(Y1||(E.DocumentLinkResolveRequest=Y1={}));var Q1;(function(t){t.method="textDocument/formatting",t.messageDirection=ce.MessageDirection.clientToServer,t.type=new ce.ProtocolRequestType(t.method)})(Q1||(E.DocumentFormattingRequest=Q1={}));var Z1;(function(t){t.method="textDocument/rangeFormatting",t.messageDirection=ce.MessageDirection.clientToServer,t.type=new ce.ProtocolRequestType(t.method)})(Z1||(E.DocumentRangeFormattingRequest=Z1={}));var eN;(function(t){t.method="textDocument/rangesFormatting",t.messageDirection=ce.MessageDirection.clientToServer,t.type=new ce.ProtocolRequestType(t.method)})(eN||(E.DocumentRangesFormattingRequest=eN={}));var tN;(function(t){t.method="textDocument/onTypeFormatting",t.messageDirection=ce.MessageDirection.clientToServer,t.type=new ce.ProtocolRequestType(t.method)})(tN||(E.DocumentOnTypeFormattingRequest=tN={}));var nN;(function(t){t.Identifier=1})(nN||(E.PrepareSupportDefaultBehavior=nN={}));var iN;(function(t){t.method="textDocument/rename",t.messageDirection=ce.MessageDirection.clientToServer,t.type=new ce.ProtocolRequestType(t.method)})(iN||(E.RenameRequest=iN={}));var rN;(function(t){t.method="textDocument/prepareRename",t.messageDirection=ce.MessageDirection.clientToServer,t.type=new ce.ProtocolRequestType(t.method)})(rN||(E.PrepareRenameRequest=rN={}));var sN;(function(t){t.method="workspace/executeCommand",t.messageDirection=ce.MessageDirection.clientToServer,t.type=new ce.ProtocolRequestType(t.method)})(sN||(E.ExecuteCommandRequest=sN={}));var oN;(function(t){t.method="workspace/applyEdit",t.messageDirection=ce.MessageDirection.serverToClient,t.type=new ce.ProtocolRequestType("workspace/applyEdit")})(oN||(E.ApplyWorkspaceEditRequest=oN={}))});var pN=F(Ap=>{"use strict";Object.defineProperty(Ap,"__esModule",{value:!0});Ap.createProtocolConnection=void 0;var fN=xo();function Hz(t,e,n,i){return fN.ConnectionStrategy.is(i)&&(i={connectionStrategy:i}),(0,fN.createMessageConnection)(t,e,n,i)}Ap.createProtocolConnection=Hz});var gN=F(oi=>{"use strict";var Vz=oi&&oi.__createBinding||(Object.create?function(t,e,n,i){i===void 0&&(i=n);var r=Object.getOwnPropertyDescriptor(e,n);(!r||("get"in r?!e.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,i,r)}:function(t,e,n,i){i===void 0&&(i=n),t[i]=e[n]}),Ip=oi&&oi.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&Vz(e,t,n)};Object.defineProperty(oi,"__esModule",{value:!0});oi.LSPErrorCodes=oi.createProtocolConnection=void 0;Ip(xo(),oi);Ip(gp(),oi);Ip(Ft(),oi);Ip(dN(),oi);var zz=pN();Object.defineProperty(oi,"createProtocolConnection",{enumerable:!0,get:function(){return zz.createProtocolConnection}});var hN;(function(t){t.lspReservedErrorRangeStart=-32899,t.RequestFailed=-32803,t.ServerCancelled=-32802,t.ContentModified=-32801,t.RequestCancelled=-32800,t.lspReservedErrorRangeEnd=-32800})(hN||(oi.LSPErrorCodes=hN={}))});var _e=F(Rr=>{"use strict";var Gz=Rr&&Rr.__createBinding||(Object.create?function(t,e,n,i){i===void 0&&(i=n);var r=Object.getOwnPropertyDescriptor(e,n);(!r||("get"in r?!e.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,i,r)}:function(t,e,n,i){i===void 0&&(i=n),t[i]=e[n]}),mN=Rr&&Rr.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&Gz(e,t,n)};Object.defineProperty(Rr,"__esModule",{value:!0});Rr.createProtocolConnection=void 0;var Jz=jS();mN(jS(),Rr);mN(gN(),Rr);function Xz(t,e,n,i){return(0,Jz.createMessageConnection)(t,e,n,i)}Rr.createProtocolConnection=Xz});var _p=F(Fn=>{"use strict";Object.defineProperty(Fn,"__esModule",{value:!0});Fn.forEach=Fn.mapAsync=Fn.map=Fn.clearTestMode=Fn.setTestMode=Fn.Semaphore=Fn.Delayer=void 0;var Qu=_e(),ib=class{constructor(e){this.defaultDelay=e,this.timeout=void 0,this.completionPromise=void 0,this.onSuccess=void 0,this.task=void 0}trigger(e,n=this.defaultDelay){return this.task=e,n>=0&&this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise(i=>{this.onSuccess=i}).then(()=>{this.completionPromise=void 0,this.onSuccess=void 0;var i=this.task();return this.task=void 0,i})),(n>=0||this.timeout===void 0)&&(this.timeout=(0,Qu.RAL)().timer.setTimeout(()=>{this.timeout=void 0,this.onSuccess(void 0)},n>=0?n:this.defaultDelay)),this.completionPromise}forceDelivery(){if(!this.completionPromise)return;this.cancelTimeout();let e=this.task();return this.completionPromise=void 0,this.onSuccess=void 0,this.task=void 0,e}isTriggered(){return this.timeout!==void 0}cancel(){this.cancelTimeout(),this.completionPromise=void 0}cancelTimeout(){this.timeout!==void 0&&(this.timeout.dispose(),this.timeout=void 0)}};Fn.Delayer=ib;var rb=class{constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise((n,i)=>{this._waiting.push({thunk:e,resolve:n,reject:i}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,Qu.RAL)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let n=e.thunk();n instanceof Promise?n.then(i=>{this._active--,e.resolve(i),this.runNext()},i=>{this._active--,e.reject(i),this.runNext()}):(this._active--,e.resolve(n),this.runNext())}catch(n){this._active--,e.reject(n),this.runNext()}}};Fn.Semaphore=rb;var sb=!1;function Yz(){sb=!0}Fn.setTestMode=Yz;function Qz(){sb=!1}Fn.clearTestMode=Qz;var yN=15,Yu=class{constructor(e=yN){this.yieldAfter=sb===!0?Math.max(e,2):Math.max(e,yN),this.startTime=Date.now(),this.counter=0,this.total=0,this.counterInterval=1}start(){this.counter=0,this.total=0,this.counterInterval=1,this.startTime=Date.now()}shouldYield(){if(++this.counter>=this.counterInterval){let e=Date.now()-this.startTime,n=Math.max(0,this.yieldAfter-e);if(this.total+=this.counter,this.counter=0,e>=this.yieldAfter||n<=1)return this.counterInterval=1,this.total=0,!0;switch(e){case 0:case 1:this.counterInterval=this.total*2;break}}return!1}};async function Zz(t,e,n,i){if(t.length===0)return[];let r=new Array(t.length),s=new Yu(i?.yieldAfter);function o(c){s.start();for(let l=c;l<t.length;l++)if(r[l]=e(t[l]),s.shouldYield())return i?.yieldCallback&&i.yieldCallback(),l+1;return-1}let a=o(0);for(;a!==-1&&!(n!==void 0&&n.isCancellationRequested);)a=await new Promise(c=>{(0,Qu.RAL)().timer.setImmediate(()=>{c(o(a))})});return r}Fn.map=Zz;async function e9(t,e,n,i){if(t.length===0)return[];let r=new Array(t.length),s=new Yu(i?.yieldAfter);async function o(c){s.start();for(let l=c;l<t.length;l++)if(r[l]=await e(t[l],n),s.shouldYield())return i?.yieldCallback&&i.yieldCallback(),l+1;return-1}let a=await o(0);for(;a!==-1&&!(n!==void 0&&n.isCancellationRequested);)a=await new Promise(c=>{(0,Qu.RAL)().timer.setImmediate(()=>{c(o(a))})});return r}Fn.mapAsync=e9;async function t9(t,e,n,i){if(t.length===0)return;let r=new Yu(i?.yieldAfter);function s(a){r.start();for(let c=a;c<t.length;c++)if(e(t[c]),r.shouldYield())return i?.yieldCallback&&i.yieldCallback(),c+1;return-1}let o=s(0);for(;o!==-1&&!(n!==void 0&&n.isCancellationRequested);)o=await new Promise(a=>{(0,Qu.RAL)().timer.setImmediate(()=>{a(s(o))})})}Fn.forEach=t9});var cb=F(ab=>{"use strict";Object.defineProperty(ab,"__esModule",{value:!0});var n9=require("vscode"),ob=class extends n9.CompletionItem{constructor(e){super(e)}};ab.default=ob});var db=F(lb=>{"use strict";Object.defineProperty(lb,"__esModule",{value:!0});var i9=require("vscode"),ub=class extends i9.CodeLens{constructor(e){super(e)}};lb.default=ub});var hb=F(pb=>{"use strict";Object.defineProperty(pb,"__esModule",{value:!0});var r9=require("vscode"),fb=class extends r9.DocumentLink{constructor(e,n){super(e,n)}};pb.default=fb});var yb=F(mb=>{"use strict";Object.defineProperty(mb,"__esModule",{value:!0});var s9=require("vscode"),gb=class extends s9.CodeAction{constructor(e,n){super(e),this.data=n}};mb.default=gb});var Sb=F($a=>{"use strict";Object.defineProperty($a,"__esModule",{value:!0});$a.ProtocolDiagnostic=$a.DiagnosticCode=void 0;var o9=require("vscode"),Cb=Oi(),CN;(function(t){function e(n){let i=n;return i!=null&&(Cb.number(i.value)||Cb.string(i.value))&&Cb.string(i.target)}t.is=e})(CN||($a.DiagnosticCode=CN={}));var vb=class extends o9.Diagnostic{constructor(e,n,i,r){super(e,n,i),this.data=r,this.hasDiagnosticCode=!1}};$a.ProtocolDiagnostic=vb});var Tb=F(Db=>{"use strict";Object.defineProperty(Db,"__esModule",{value:!0});var a9=require("vscode"),bb=class extends a9.CallHierarchyItem{constructor(e,n,i,r,s,o,a){super(e,n,i,r,s,o),a!==void 0&&(this.data=a)}};Db.default=bb});var Eb=F(xb=>{"use strict";Object.defineProperty(xb,"__esModule",{value:!0});var c9=require("vscode"),wb=class extends c9.TypeHierarchyItem{constructor(e,n,i,r,s,o,a){super(e,n,i,r,s,o),a!==void 0&&(this.data=a)}};xb.default=wb});var Pb=F(Fb=>{"use strict";Object.defineProperty(Fb,"__esModule",{value:!0});var Np=require("vscode"),kb=class extends Np.SymbolInformation{constructor(e,n,i,r,s){let o=!(r instanceof Np.Uri);super(e,n,i,o?r:new Np.Location(r,new Np.Range(0,0,0,0))),this.hasRange=o,s!==void 0&&(this.data=s)}};Fb.default=kb});var Ib=F(Ab=>{"use strict";Object.defineProperty(Ab,"__esModule",{value:!0});var u9=require("vscode"),Rb=class extends u9.InlayHint{constructor(e,n,i){super(e,n,i)}};Ab.default=Rb});var DN=F(Lp=>{"use strict";Object.defineProperty(Lp,"__esModule",{value:!0});Lp.createConverter=void 0;var en=require("vscode"),Ne=_e(),ko=Oi(),vN=_p(),l9=cb(),d9=db(),f9=hb(),SN=yb(),bN=Sb(),p9=Tb(),h9=Eb(),g9=Pb(),m9=Ib(),_b;(function(t){function e(n){let i=n;return i&&!!i.inserting&&!!i.replacing}t.is=e})(_b||(_b={}));function y9(t){let n=t||(b=>b.toString());function i(b){return n(b)}function r(b){return{uri:n(b.uri)}}function s(b){return{uri:n(b.uri),languageId:b.languageId,version:b.version,text:b.getText()}}function o(b){return{uri:n(b.uri),version:b.version}}function a(b){return{textDocument:s(b)}}function c(b){let V=b;return!!V.document&&!!V.contentChanges}function l(b){let V=b;return!!V.uri&&!!V.version}function f(b,V,he){if(l(b))return{textDocument:{uri:n(b.uri),version:b.version},contentChanges:[{text:b.getText()}]};if(c(b)){let et=V,O=he;return{textDocument:{uri:n(et),version:O},contentChanges:b.contentChanges.map(R=>{let A=R.range;return{range:{start:{line:A.start.line,character:A.start.character},end:{line:A.end.line,character:A.end.character}},rangeLength:R.rangeLength,text:R.text}})}}else throw Error("Unsupported text document change parameter")}function g(b){return{textDocument:r(b)}}function p(b,V=!1){let he={textDocument:r(b)};return V&&(he.text=b.getText()),he}function u(b){switch(b){case en.TextDocumentSaveReason.Manual:return Ne.TextDocumentSaveReason.Manual;case en.TextDocumentSaveReason.AfterDelay:return Ne.TextDocumentSaveReason.AfterDelay;case en.TextDocumentSaveReason.FocusOut:return Ne.TextDocumentSaveReason.FocusOut}return Ne.TextDocumentSaveReason.Manual}function d(b){return{textDocument:r(b.document),reason:u(b.reason)}}function h(b){return{files:b.files.map(V=>({uri:n(V)}))}}function m(b){return{files:b.files.map(V=>({oldUri:n(V.oldUri),newUri:n(V.newUri)}))}}function C(b){return{files:b.files.map(V=>({uri:n(V)}))}}function D(b){return{files:b.files.map(V=>({uri:n(V)}))}}function w(b){return{files:b.files.map(V=>({oldUri:n(V.oldUri),newUri:n(V.newUri)}))}}function k(b){return{files:b.files.map(V=>({uri:n(V)}))}}function I(b,V){return{textDocument:r(b),position:K(V)}}function B(b){switch(b){case en.CompletionTriggerKind.TriggerCharacter:return Ne.CompletionTriggerKind.TriggerCharacter;case en.CompletionTriggerKind.TriggerForIncompleteCompletions:return Ne.CompletionTriggerKind.TriggerForIncompleteCompletions;default:return Ne.CompletionTriggerKind.Invoked}}function W(b,V,he){return{textDocument:r(b),position:K(V),context:{triggerKind:B(he.triggerKind),triggerCharacter:he.triggerCharacter}}}function j(b){switch(b){case en.SignatureHelpTriggerKind.Invoke:return Ne.SignatureHelpTriggerKind.Invoked;case en.SignatureHelpTriggerKind.TriggerCharacter:return Ne.SignatureHelpTriggerKind.TriggerCharacter;case en.SignatureHelpTriggerKind.ContentChange:return Ne.SignatureHelpTriggerKind.ContentChange}}function ie(b){return{label:b.label}}function ne(b){return b.map(ie)}function H(b){return{label:b.label,parameters:ne(b.parameters)}}function N(b){return b.map(H)}function $(b){return b===void 0?b:{signatures:N(b.signatures),activeSignature:b.activeSignature,activeParameter:b.activeParameter}}function te(b,V,he){return{textDocument:r(b),position:K(V),context:{isRetrigger:he.isRetrigger,triggerCharacter:he.triggerCharacter,triggerKind:j(he.triggerKind),activeSignatureHelp:$(he.activeSignatureHelp)}}}function K(b){return{line:b.line,character:b.character}}function G(b){return b==null?b:{line:b.line>Ne.uinteger.MAX_VALUE?Ne.uinteger.MAX_VALUE:b.line,character:b.character>Ne.uinteger.MAX_VALUE?Ne.uinteger.MAX_VALUE:b.character}}function Q(b,V){return vN.map(b,G,V)}function ae(b){return b.map(G)}function se(b){return b==null?b:{start:G(b.start),end:G(b.end)}}function re(b){return b.map(se)}function ye(b){return b==null?b:Ne.Location.create(i(b.uri),se(b.range))}function ve(b){switch(b){case en.DiagnosticSeverity.Error:return Ne.DiagnosticSeverity.Error;case en.DiagnosticSeverity.Warning:return Ne.DiagnosticSeverity.Warning;case en.DiagnosticSeverity.Information:return Ne.DiagnosticSeverity.Information;case en.DiagnosticSeverity.Hint:return Ne.DiagnosticSeverity.Hint}}function $e(b){if(!b)return;let V=[];for(let he of b){let et=ke(he);et!==void 0&&V.push(et)}return V.length>0?V:void 0}function ke(b){switch(b){case en.DiagnosticTag.Unnecessary:return Ne.DiagnosticTag.Unnecessary;case en.DiagnosticTag.Deprecated:return Ne.DiagnosticTag.Deprecated;default:return}}function ht(b){return{message:b.message,location:ye(b.location)}}function wt(b){return b.map(ht)}function Jn(b){if(b!=null)return ko.number(b)||ko.string(b)?b:{value:b.value,target:i(b.target)}}function qn(b){let V=Ne.Diagnostic.create(se(b.range),b.message),he=b instanceof bN.ProtocolDiagnostic?b:void 0;he!==void 0&&he.data!==void 0&&(V.data=he.data);let et=Jn(b.code);return bN.DiagnosticCode.is(et)?he!==void 0&&he.hasDiagnosticCode?V.code=et:(V.code=et.value,V.codeDescription={href:et.target}):V.code=et,ko.number(b.severity)&&(V.severity=ve(b.severity)),Array.isArray(b.tags)&&(V.tags=$e(b.tags)),b.relatedInformation&&(V.relatedInformation=wt(b.relatedInformation)),b.source&&(V.source=b.source),V}function Un(b,V){return b==null?b:vN.map(b,qn,V)}function jn(b){return b==null?b:b.map(qn)}function Xn(b,V){switch(b){case"$string":return V;case Ne.MarkupKind.PlainText:return{kind:b,value:V};case Ne.MarkupKind.Markdown:return{kind:b,value:V.value};default:return`Unsupported Markup content received. Kind is: ${b}`}}function nt(b){switch(b){case en.CompletionItemTag.Deprecated:return Ne.CompletionItemTag.Deprecated}}function pi(b){if(b===void 0)return b;let V=[];for(let he of b){let et=nt(he);et!==void 0&&V.push(et)}return V}function Bn(b,V){return V!==void 0?V:b+1}function rn(b,V=!1){let he,et;ko.string(b.label)?he=b.label:(he=b.label.label,V&&(b.label.detail!==void 0||b.label.description!==void 0)&&(et={detail:b.label.detail,description:b.label.description}));let O={label:he};et!==void 0&&(O.labelDetails=et);let T=b instanceof l9.default?b:void 0;b.detail&&(O.detail=b.detail),b.documentation&&(!T||T.documentationFormat==="$string"?O.documentation=b.documentation:O.documentation=Xn(T.documentationFormat,b.documentation)),b.filterText&&(O.filterText=b.filterText),Ri(O,b),ko.number(b.kind)&&(O.kind=Bn(b.kind,T&&T.originalItemKind)),b.sortText&&(O.sortText=b.sortText),b.additionalTextEdits&&(O.additionalTextEdits=lt(b.additionalTextEdits)),b.commitCharacters&&(O.commitCharacters=b.commitCharacters.slice()),b.command&&(O.command=z(b.command)),(b.preselect===!0||b.preselect===!1)&&(O.preselect=b.preselect);let R=pi(b.tags);if(T){if(T.data!==void 0&&(O.data=T.data),T.deprecated===!0||T.deprecated===!1){if(T.deprecated===!0&&R!==void 0&&R.length>0){let A=R.indexOf(en.CompletionItemTag.Deprecated);A!==-1&&R.splice(A,1)}O.deprecated=T.deprecated}T.insertTextMode!==void 0&&(O.insertTextMode=T.insertTextMode)}return R!==void 0&&R.length>0&&(O.tags=R),O.insertTextMode===void 0&&b.keepWhitespace===!0&&(O.insertTextMode=Ne.InsertTextMode.adjustIndentation),O}function Ri(b,V){let he=Ne.InsertTextFormat.PlainText,et,O;V.textEdit?(et=V.textEdit.newText,O=V.textEdit.range):V.insertText instanceof en.SnippetString?(he=Ne.InsertTextFormat.Snippet,et=V.insertText.value):et=V.insertText,V.range&&(O=V.range),b.insertTextFormat=he,V.fromEdit&&et!==void 0&&O!==void 0?b.textEdit=cn(et,O):b.insertText=et}function cn(b,V){return _b.is(V)?Ne.InsertReplaceEdit.create(b,se(V.inserting),se(V.replacing)):{newText:b,range:se(V)}}function Yn(b){return{range:se(b.range),newText:b.newText}}function lt(b){return b==null?b:b.map(Yn)}function xt(b){return b<=en.SymbolKind.TypeParameter?b+1:Ne.SymbolKind.Property}function Gt(b){return b}function mn(b){return b.map(Gt)}function Wt(b,V,he){return{textDocument:r(b),position:K(V),context:{includeDeclaration:he.includeDeclaration}}}async function Wn(b,V){let he=Ne.CodeAction.create(b.title);if(b instanceof SN.default&&b.data!==void 0&&(he.data=b.data),b.kind!==void 0&&(he.kind=v(b.kind)),b.diagnostics!==void 0&&(he.diagnostics=await Un(b.diagnostics,V)),b.edit!==void 0)throw new Error("VS Code code actions can only be converted to a protocol code action without an edit.");return b.command!==void 0&&(he.command=z(b.command)),b.isPreferred!==void 0&&(he.isPreferred=b.isPreferred),b.disabled!==void 0&&(he.disabled={reason:b.disabled.reason}),he}function Qn(b){let V=Ne.CodeAction.create(b.title);if(b instanceof SN.default&&b.data!==void 0&&(V.data=b.data),b.kind!==void 0&&(V.kind=v(b.kind)),b.diagnostics!==void 0&&(V.diagnostics=jn(b.diagnostics)),b.edit!==void 0)throw new Error("VS Code code actions can only be converted to a protocol code action without an edit.");return b.command!==void 0&&(V.command=z(b.command)),b.isPreferred!==void 0&&(V.isPreferred=b.isPreferred),b.disabled!==void 0&&(V.disabled={reason:b.disabled.reason}),V}async function yn(b,V){if(b==null)return b;let he;return b.only&&ko.string(b.only.value)&&(he=[b.only.value]),Ne.CodeActionContext.create(await Un(b.diagnostics,V),he,Et(b.triggerKind))}function Zn(b){if(b==null)return b;let V;return b.only&&ko.string(b.only.value)&&(V=[b.only.value]),Ne.CodeActionContext.create(jn(b.diagnostics),V,Et(b.triggerKind))}function Et(b){switch(b){case en.CodeActionTriggerKind.Invoke:return Ne.CodeActionTriggerKind.Invoked;case en.CodeActionTriggerKind.Automatic:return Ne.CodeActionTriggerKind.Automatic;default:return}}function v(b){if(b!=null)return b.value}function P(b){return b==null?b:Ne.InlineValueContext.create(b.frameId,se(b.stoppedLocation))}function q(b,V,he){return{context:Ne.InlineCompletionContext.create(he.triggerKind,he.selectedCompletionInfo),textDocument:r(b),position:G(V)}}function z(b){let V=Ne.Command.create(b.title,b.command);return b.arguments&&(V.arguments=b.arguments),V}function Ce(b){let V=Ne.CodeLens.create(se(b.range));return b.command&&(V.command=z(b.command)),b instanceof d9.default&&b.data&&(V.data=b.data),V}function ge(b,V){let he={tabSize:b.tabSize,insertSpaces:b.insertSpaces};return V.trimTrailingWhitespace&&(he.trimTrailingWhitespace=!0),V.trimFinalNewlines&&(he.trimFinalNewlines=!0),V.insertFinalNewline&&(he.insertFinalNewline=!0),he}function we(b){return{textDocument:r(b)}}function xe(b){return{textDocument:r(b)}}function ue(b){let V=Ne.DocumentLink.create(se(b.range));b.target&&(V.target=i(b.target)),b.tooltip!==void 0&&(V.tooltip=b.tooltip);let he=b instanceof f9.default?b:void 0;return he&&he.data&&(V.data=he.data),V}function Se(b){return{textDocument:r(b)}}function de(b){let V={name:b.name,kind:xt(b.kind),uri:i(b.uri),range:se(b.range),selectionRange:se(b.selectionRange)};return b.detail!==void 0&&b.detail.length>0&&(V.detail=b.detail),b.tags!==void 0&&(V.tags=mn(b.tags)),b instanceof p9.default&&b.data!==void 0&&(V.data=b.data),V}function L(b){let V={name:b.name,kind:xt(b.kind),uri:i(b.uri),range:se(b.range),selectionRange:se(b.selectionRange)};return b.detail!==void 0&&b.detail.length>0&&(V.detail=b.detail),b.tags!==void 0&&(V.tags=mn(b.tags)),b instanceof h9.default&&b.data!==void 0&&(V.data=b.data),V}function M(b){let V=b instanceof g9.default?{name:b.name,kind:xt(b.kind),location:b.hasRange?ye(b.location):{uri:n(b.location.uri)},data:b.data}:{name:b.name,kind:xt(b.kind),location:ye(b.location)};return b.tags!==void 0&&(V.tags=mn(b.tags)),b.containerName!==""&&(V.containerName=b.containerName),V}function Y(b){let V=typeof b.label=="string"?b.label:b.label.map(Ee),he=Ne.InlayHint.create(G(b.position),V);return b.kind!==void 0&&(he.kind=b.kind),b.textEdits!==void 0&&(he.textEdits=lt(b.textEdits)),b.tooltip!==void 0&&(he.tooltip=Kt(b.tooltip)),b.paddingLeft!==void 0&&(he.paddingLeft=b.paddingLeft),b.paddingRight!==void 0&&(he.paddingRight=b.paddingRight),b instanceof m9.default&&b.data!==void 0&&(he.data=b.data),he}function Ee(b){let V=Ne.InlayHintLabelPart.create(b.value);return b.location!==void 0&&(V.location=ye(b.location)),b.command!==void 0&&(V.command=z(b.command)),b.tooltip!==void 0&&(V.tooltip=Kt(b.tooltip)),V}function Kt(b){return typeof b=="string"?b:{kind:Ne.MarkupKind.Markdown,value:b.value}}return{asUri:i,asTextDocumentIdentifier:r,asTextDocumentItem:s,asVersionedTextDocumentIdentifier:o,asOpenTextDocumentParams:a,asChangeTextDocumentParams:f,asCloseTextDocumentParams:g,asSaveTextDocumentParams:p,asWillSaveTextDocumentParams:d,asDidCreateFilesParams:h,asDidRenameFilesParams:m,asDidDeleteFilesParams:C,asWillCreateFilesParams:D,asWillRenameFilesParams:w,asWillDeleteFilesParams:k,asTextDocumentPositionParams:I,asCompletionParams:W,asSignatureHelpParams:te,asWorkerPosition:K,asRange:se,asRanges:re,asPosition:G,asPositions:Q,asPositionsSync:ae,asLocation:ye,asDiagnosticSeverity:ve,asDiagnosticTag:ke,asDiagnostic:qn,asDiagnostics:Un,asDiagnosticsSync:jn,asCompletionItem:rn,asTextEdit:Yn,asSymbolKind:xt,asSymbolTag:Gt,asSymbolTags:mn,asReferenceParams:Wt,asCodeAction:Wn,asCodeActionSync:Qn,asCodeActionContext:yn,asCodeActionContextSync:Zn,asInlineValueContext:P,asCommand:z,asCodeLens:Ce,asFormattingOptions:ge,asDocumentSymbolParams:we,asCodeLensParams:xe,asDocumentLink:ue,asDocumentLinkParams:Se,asCallHierarchyItem:de,asTypeHierarchyItem:L,asInlayHint:Y,asWorkspaceSymbol:M,asInlineCompletionParams:q}}Lp.createConverter=y9});var xN=F(Mp=>{"use strict";Object.defineProperty(Mp,"__esModule",{value:!0});Mp.createConverter=void 0;var le=require("vscode"),Re=_e(),Ui=Oi(),Ze=_p(),C9=cb(),v9=db(),S9=hb(),b9=yb(),TN=Sb(),D9=Tb(),T9=Eb(),w9=Pb(),x9=Ib(),wN=_e(),Op;(function(t){function e(n){let i=n;return i&&Ui.string(i.language)&&Ui.string(i.value)}t.is=e})(Op||(Op={}));function E9(t,e,n){let r=t||(y=>le.Uri.parse(y));function s(y){return r(y)}function o(y){let _=[];for(let ee of y)if(typeof ee=="string")_.push(ee);else if(wN.NotebookCellTextDocumentFilter.is(ee))if(typeof ee.notebook=="string")_.push({notebookType:ee.notebook,language:ee.language});else{let me=ee.notebook.notebookType??"*";_.push({notebookType:me,scheme:ee.notebook.scheme,pattern:ee.notebook.pattern,language:ee.language})}else wN.TextDocumentFilter.is(ee)&&_.push({language:ee.language,scheme:ee.scheme,pattern:ee.pattern});return _}async function a(y,_){return Ze.map(y,l,_)}function c(y){let _=new Array(y.length);for(let ee=0;ee<y.length;ee++)_[ee]=l(y[ee]);return _}function l(y){let _=new TN.ProtocolDiagnostic(d(y.range),y.message,m(y.severity),y.data);if(y.code!==void 0){if(typeof y.code=="string"||typeof y.code=="number")Re.CodeDescription.is(y.codeDescription)?_.code={value:y.code,target:s(y.codeDescription.href)}:_.code=y.code;else if(TN.DiagnosticCode.is(y.code)){_.hasDiagnosticCode=!0;let ee=y.code;_.code={value:ee.value,target:s(ee.target)}}}return y.source&&(_.source=y.source),y.relatedInformation&&(_.relatedInformation=f(y.relatedInformation)),Array.isArray(y.tags)&&(_.tags=g(y.tags)),_}function f(y){let _=new Array(y.length);for(let ee=0;ee<y.length;ee++){let me=y[ee];_[ee]=new le.DiagnosticRelatedInformation(ve(me.location),me.message)}return _}function g(y){if(!y)return;let _=[];for(let ee of y){let me=p(ee);me!==void 0&&_.push(me)}return _.length>0?_:void 0}function p(y){switch(y){case Re.DiagnosticTag.Unnecessary:return le.DiagnosticTag.Unnecessary;case Re.DiagnosticTag.Deprecated:return le.DiagnosticTag.Deprecated;default:return}}function u(y){return y?new le.Position(y.line,y.character):void 0}function d(y){return y?new le.Range(y.start.line,y.start.character,y.end.line,y.end.character):void 0}async function h(y,_){return Ze.map(y,ee=>new le.Range(ee.start.line,ee.start.character,ee.end.line,ee.end.character),_)}function m(y){if(y==null)return le.DiagnosticSeverity.Error;switch(y){case Re.DiagnosticSeverity.Error:return le.DiagnosticSeverity.Error;case Re.DiagnosticSeverity.Warning:return le.DiagnosticSeverity.Warning;case Re.DiagnosticSeverity.Information:return le.DiagnosticSeverity.Information;case Re.DiagnosticSeverity.Hint:return le.DiagnosticSeverity.Hint}return le.DiagnosticSeverity.Error}function C(y){if(Ui.string(y))return w(y);if(Op.is(y))return w().appendCodeblock(y.value,y.language);if(Array.isArray(y)){let _=[];for(let ee of y){let me=w();Op.is(ee)?me.appendCodeblock(ee.value,ee.language):me.appendMarkdown(ee),_.push(me)}return _}else return w(y)}function D(y){if(Ui.string(y))return y;switch(y.kind){case Re.MarkupKind.Markdown:return w(y.value);case Re.MarkupKind.PlainText:return y.value;default:return`Unsupported Markup content received. Kind is: ${y.kind}`}}function w(y){let _;if(y===void 0||typeof y=="string")_=new le.MarkdownString(y);else switch(y.kind){case Re.MarkupKind.Markdown:_=new le.MarkdownString(y.value);break;case Re.MarkupKind.PlainText:_=new le.MarkdownString,_.appendText(y.value);break;default:_=new le.MarkdownString,_.appendText(`Unsupported Markup content received. Kind is: ${y.kind}`);break}return _.isTrusted=e,_.supportHtml=n,_}function k(y){if(y)return new le.Hover(C(y.contents),d(y.range))}async function I(y,_,ee){if(!y)return;if(Array.isArray(y))return Ze.map(y,yr=>ne(yr,_),ee);let me=y,{defaultRange:un,commitCharacters:Cn}=B(me,_),gt=await Ze.map(me.items,yr=>ne(yr,Cn,un,me.itemDefaults?.insertTextMode,me.itemDefaults?.insertTextFormat,me.itemDefaults?.data),ee);return new le.CompletionList(gt,me.isIncomplete)}function B(y,_){let ee=y.itemDefaults?.editRange,me=y.itemDefaults?.commitCharacters??_;return Re.Range.is(ee)?{defaultRange:d(ee),commitCharacters:me}:ee!==void 0?{defaultRange:{inserting:d(ee.insert),replacing:d(ee.replace)},commitCharacters:me}:{defaultRange:void 0,commitCharacters:me}}function W(y){return Re.CompletionItemKind.Text<=y&&y<=Re.CompletionItemKind.TypeParameter?[y-1,void 0]:[le.CompletionItemKind.Text,y]}function j(y){switch(y){case Re.CompletionItemTag.Deprecated:return le.CompletionItemTag.Deprecated}}function ie(y){if(y==null)return[];let _=[];for(let ee of y){let me=j(ee);me!==void 0&&_.push(me)}return _}function ne(y,_,ee,me,un,Cn){let gt=ie(y.tags),yr=H(y),yt=new C9.default(yr);y.detail&&(yt.detail=y.detail),y.documentation&&(yt.documentation=D(y.documentation),yt.documentationFormat=Ui.string(y.documentation)?"$string":y.documentation.kind),y.filterText&&(yt.filterText=y.filterText);let pd=N(y,ee,un);if(pd&&(yt.insertText=pd.text,yt.range=pd.range,yt.fromEdit=pd.fromEdit),Ui.number(y.kind)){let[Uj,ME]=W(y.kind);yt.kind=Uj,ME&&(yt.originalItemKind=ME)}y.sortText&&(yt.sortText=y.sortText),y.additionalTextEdits&&(yt.additionalTextEdits=G(y.additionalTextEdits));let LE=y.commitCharacters!==void 0?Ui.stringArray(y.commitCharacters)?y.commitCharacters:void 0:_;LE&&(yt.commitCharacters=LE.slice()),y.command&&(yt.command=lt(y.command)),(y.deprecated===!0||y.deprecated===!1)&&(yt.deprecated=y.deprecated,y.deprecated===!0&&gt.push(le.CompletionItemTag.Deprecated)),(y.preselect===!0||y.preselect===!1)&&(yt.preselect=y.preselect);let OE=y.data??Cn;OE!==void 0&&(yt.data=OE),gt.length>0&&(yt.tags=gt);let _m=y.insertTextMode??me;return _m!==void 0&&(yt.insertTextMode=_m,_m===Re.InsertTextMode.asIs&&(yt.keepWhitespace=!0)),yt}function H(y){return Re.CompletionItemLabelDetails.is(y.labelDetails)?{label:y.label,detail:y.labelDetails.detail,description:y.labelDetails.description}:y.label}function N(y,_,ee){let me=y.insertTextFormat??ee;if(y.textEdit!==void 0||_!==void 0){let[un,Cn]=y.textEdit!==void 0?$(y.textEdit):[_,y.textEditText??y.label];return me===Re.InsertTextFormat.Snippet?{text:new le.SnippetString(Cn),range:un,fromEdit:!0}:{text:Cn,range:un,fromEdit:!0}}else return y.insertText?me===Re.InsertTextFormat.Snippet?{text:new le.SnippetString(y.insertText),fromEdit:!1}:{text:y.insertText,fromEdit:!1}:void 0}function $(y){return Re.InsertReplaceEdit.is(y)?[{inserting:d(y.insert),replacing:d(y.replace)},y.newText]:[d(y.range),y.newText]}function te(y){if(y)return new le.TextEdit(d(y.range),y.newText)}async function K(y,_){if(y)return Ze.map(y,te,_)}function G(y){if(!y)return;let _=new Array(y.length);for(let ee=0;ee<y.length;ee++)_[ee]=te(y[ee]);return _}async function Q(y,_){if(!y)return;let ee=new le.SignatureHelp;return Ui.number(y.activeSignature)?ee.activeSignature=y.activeSignature:ee.activeSignature=0,Ui.number(y.activeParameter)?ee.activeParameter=y.activeParameter:ee.activeParameter=0,y.signatures&&(ee.signatures=await ae(y.signatures,_)),ee}async function ae(y,_){return Ze.mapAsync(y,se,_)}async function se(y,_){let ee=new le.SignatureInformation(y.label);return y.documentation!==void 0&&(ee.documentation=D(y.documentation)),y.parameters!==void 0&&(ee.parameters=await re(y.parameters,_)),y.activeParameter!==void 0&&(ee.activeParameter=y.activeParameter),ee}function re(y,_){return Ze.map(y,ye,_)}function ye(y){let _=new le.ParameterInformation(y.label);return y.documentation&&(_.documentation=D(y.documentation)),_}function ve(y){return y?new le.Location(r(y.uri),d(y.range)):void 0}async function $e(y,_){if(y)return wt(y,_)}async function ke(y,_){if(y)return wt(y,_)}function ht(y){if(!y)return;let _={targetUri:r(y.targetUri),targetRange:d(y.targetRange),originSelectionRange:d(y.originSelectionRange),targetSelectionRange:d(y.targetSelectionRange)};if(!_.targetSelectionRange)throw new Error("targetSelectionRange must not be undefined or null");return _}async function wt(y,_){if(y)if(Ui.array(y)){if(y.length===0)return[];if(Re.LocationLink.is(y[0])){let ee=y;return Ze.map(ee,ht,_)}else{let ee=y;return Ze.map(ee,ve,_)}}else return Re.LocationLink.is(y)?[ht(y)]:ve(y)}async function Jn(y,_){if(y)return Ze.map(y,ve,_)}async function qn(y,_){if(y)return Ze.map(y,Un,_)}function Un(y){let _=new le.DocumentHighlight(d(y.range));return Ui.number(y.kind)&&(_.kind=jn(y.kind)),_}function jn(y){switch(y){case Re.DocumentHighlightKind.Text:return le.DocumentHighlightKind.Text;case Re.DocumentHighlightKind.Read:return le.DocumentHighlightKind.Read;case Re.DocumentHighlightKind.Write:return le.DocumentHighlightKind.Write}return le.DocumentHighlightKind.Text}async function Xn(y,_){if(y)return Ze.map(y,rn,_)}function nt(y){return y<=Re.SymbolKind.TypeParameter?y-1:le.SymbolKind.Property}function pi(y){switch(y){case Re.SymbolTag.Deprecated:return le.SymbolTag.Deprecated;default:return}}function Bn(y){if(y==null)return;let _=[];for(let ee of y){let me=pi(ee);me!==void 0&&_.push(me)}return _.length===0?void 0:_}function rn(y){let _=y.data,ee=y.location,me=ee.range===void 0||_!==void 0?new w9.default(y.name,nt(y.kind),y.containerName??"",ee.range===void 0?r(ee.uri):new le.Location(r(y.location.uri),d(ee.range)),_):new le.SymbolInformation(y.name,nt(y.kind),y.containerName??"",new le.Location(r(y.location.uri),d(ee.range)));return Yn(me,y),me}async function Ri(y,_){if(y!=null)return Ze.map(y,cn,_)}function cn(y){let _=new le.DocumentSymbol(y.name,y.detail||"",nt(y.kind),d(y.range),d(y.selectionRange));if(Yn(_,y),y.children!==void 0&&y.children.length>0){let ee=[];for(let me of y.children)ee.push(cn(me));_.children=ee}return _}function Yn(y,_){y.tags=Bn(_.tags),_.deprecated&&(y.tags?y.tags.includes(le.SymbolTag.Deprecated)||(y.tags=y.tags.concat(le.SymbolTag.Deprecated)):y.tags=[le.SymbolTag.Deprecated])}function lt(y){let _={title:y.title,command:y.command};return y.arguments&&(_.arguments=y.arguments),_}async function xt(y,_){if(y)return Ze.map(y,lt,_)}let Gt=new Map;Gt.set(Re.CodeActionKind.Empty,le.CodeActionKind.Empty),Gt.set(Re.CodeActionKind.QuickFix,le.CodeActionKind.QuickFix),Gt.set(Re.CodeActionKind.Refactor,le.CodeActionKind.Refactor),Gt.set(Re.CodeActionKind.RefactorExtract,le.CodeActionKind.RefactorExtract),Gt.set(Re.CodeActionKind.RefactorInline,le.CodeActionKind.RefactorInline),Gt.set(Re.CodeActionKind.RefactorRewrite,le.CodeActionKind.RefactorRewrite),Gt.set(Re.CodeActionKind.Source,le.CodeActionKind.Source),Gt.set(Re.CodeActionKind.SourceOrganizeImports,le.CodeActionKind.SourceOrganizeImports);function mn(y){if(y==null)return;let _=Gt.get(y);if(_)return _;let ee=y.split(".");_=le.CodeActionKind.Empty;for(let me of ee)_=_.append(me);return _}function Wt(y){if(y!=null)return y.map(_=>mn(_))}async function Wn(y,_){if(y==null)return;let ee=new b9.default(y.title,y.data);return y.kind!==void 0&&(ee.kind=mn(y.kind)),y.diagnostics!==void 0&&(ee.diagnostics=c(y.diagnostics)),y.edit!==void 0&&(ee.edit=await Et(y.edit,_)),y.command!==void 0&&(ee.command=lt(y.command)),y.isPreferred!==void 0&&(ee.isPreferred=y.isPreferred),y.disabled!==void 0&&(ee.disabled={reason:y.disabled.reason}),ee}function Qn(y,_){return Ze.mapAsync(y,async ee=>Re.Command.is(ee)?lt(ee):Wn(ee,_),_)}function yn(y){if(!y)return;let _=new v9.default(d(y.range));return y.command&&(_.command=lt(y.command)),y.data!==void 0&&y.data!==null&&(_.data=y.data),_}async function Zn(y,_){if(y)return Ze.map(y,yn,_)}async function Et(y,_){if(!y)return;let ee=new Map;if(y.changeAnnotations!==void 0){let Cn=y.changeAnnotations;await Ze.forEach(Object.keys(Cn),gt=>{let yr=v(Cn[gt]);ee.set(gt,yr)},_)}let me=Cn=>{if(Cn!==void 0)return ee.get(Cn)},un=new le.WorkspaceEdit;if(y.documentChanges){let Cn=y.documentChanges;await Ze.forEach(Cn,gt=>{if(Re.CreateFile.is(gt))un.createFile(r(gt.uri),gt.options,me(gt.annotationId));else if(Re.RenameFile.is(gt))un.renameFile(r(gt.oldUri),r(gt.newUri),gt.options,me(gt.annotationId));else if(Re.DeleteFile.is(gt))un.deleteFile(r(gt.uri),gt.options,me(gt.annotationId));else if(Re.TextDocumentEdit.is(gt)){let yr=r(gt.textDocument.uri);for(let yt of gt.edits)Re.AnnotatedTextEdit.is(yt)?un.replace(yr,d(yt.range),yt.newText,me(yt.annotationId)):un.replace(yr,d(yt.range),yt.newText)}else throw new Error(`Unknown workspace edit change received:
${JSON.stringify(gt,void 0,4)}`)},_)}else if(y.changes){let Cn=y.changes;await Ze.forEach(Object.keys(Cn),gt=>{un.set(r(gt),G(Cn[gt]))},_)}return un}function v(y){if(y!==void 0)return{label:y.label,needsConfirmation:!!y.needsConfirmation,description:y.description}}function P(y){let _=d(y.range),ee=y.target?s(y.target):void 0,me=new S9.default(_,ee);return y.tooltip!==void 0&&(me.tooltip=y.tooltip),y.data!==void 0&&y.data!==null&&(me.data=y.data),me}async function q(y,_){if(y)return Ze.map(y,P,_)}function z(y){return new le.Color(y.red,y.green,y.blue,y.alpha)}function Ce(y){return new le.ColorInformation(d(y.range),z(y.color))}async function ge(y,_){if(y)return Ze.map(y,Ce,_)}function we(y){let _=new le.ColorPresentation(y.label);return _.additionalTextEdits=G(y.additionalTextEdits),y.textEdit&&(_.textEdit=te(y.textEdit)),_}async function xe(y,_){if(y)return Ze.map(y,we,_)}function ue(y){if(y)switch(y){case Re.FoldingRangeKind.Comment:return le.FoldingRangeKind.Comment;case Re.FoldingRangeKind.Imports:return le.FoldingRangeKind.Imports;case Re.FoldingRangeKind.Region:return le.FoldingRangeKind.Region}}function Se(y){return new le.FoldingRange(y.startLine,y.endLine,ue(y.kind))}async function de(y,_){if(y)return Ze.map(y,Se,_)}function L(y){return new le.SelectionRange(d(y.range),y.parent?L(y.parent):void 0)}async function M(y,_){return Array.isArray(y)?Ze.map(y,L,_):[]}function Y(y){return Re.InlineValueText.is(y)?new le.InlineValueText(d(y.range),y.text):Re.InlineValueVariableLookup.is(y)?new le.InlineValueVariableLookup(d(y.range),y.variableName,y.caseSensitiveLookup):new le.InlineValueEvaluatableExpression(d(y.range),y.expression)}async function Ee(y,_){return Array.isArray(y)?Ze.map(y,Y,_):[]}async function Kt(y,_){let ee=typeof y.label=="string"?y.label:await Ze.map(y.label,b,_),me=new x9.default(u(y.position),ee);return y.kind!==void 0&&(me.kind=y.kind),y.textEdits!==void 0&&(me.textEdits=await K(y.textEdits,_)),y.tooltip!==void 0&&(me.tooltip=V(y.tooltip)),y.paddingLeft!==void 0&&(me.paddingLeft=y.paddingLeft),y.paddingRight!==void 0&&(me.paddingRight=y.paddingRight),y.data!==void 0&&(me.data=y.data),me}function b(y){let _=new le.InlayHintLabelPart(y.value);return y.location!==void 0&&(_.location=ve(y.location)),y.tooltip!==void 0&&(_.tooltip=V(y.tooltip)),y.command!==void 0&&(_.command=lt(y.command)),_}function V(y){return typeof y=="string"?y:w(y)}async function he(y,_){if(Array.isArray(y))return Ze.mapAsync(y,Kt,_)}function et(y){if(y===null)return;let _=new D9.default(nt(y.kind),y.name,y.detail||"",s(y.uri),d(y.range),d(y.selectionRange),y.data);return y.tags!==void 0&&(_.tags=Bn(y.tags)),_}async function O(y,_){if(y!==null)return Ze.map(y,et,_)}async function T(y,_){return new le.CallHierarchyIncomingCall(et(y.from),await h(y.fromRanges,_))}async function R(y,_){if(y!==null)return Ze.mapAsync(y,T,_)}async function A(y,_){return new le.CallHierarchyOutgoingCall(et(y.to),await h(y.fromRanges,_))}async function x(y,_){if(y!==null)return Ze.mapAsync(y,A,_)}async function S(y,_){if(y!=null)return new le.SemanticTokens(new Uint32Array(y.data),y.resultId)}function U(y){return new le.SemanticTokensEdit(y.start,y.deleteCount,y.data!==void 0?new Uint32Array(y.data):void 0)}async function Z(y,_){if(y!=null)return new le.SemanticTokensEdits(y.edits.map(U),y.resultId)}function Ie(y){return y}async function kt(y,_){if(y!=null)return new le.LinkedEditingRanges(await h(y.ranges,_),mt(y.wordPattern))}function mt(y){if(y!=null)return new RegExp(y)}function ei(y){if(y===null)return;let _=new T9.default(nt(y.kind),y.name,y.detail||"",s(y.uri),d(y.range),d(y.selectionRange),y.data);return y.tags!==void 0&&(_.tags=Bn(y.tags)),_}async function hi(y,_){if(y!==null)return Ze.map(y,ei,_)}function Yi(y){if(Ui.string(y))return y;if(Re.RelativePattern.is(y)){if(Re.URI.is(y.baseUri))return new le.RelativePattern(s(y.baseUri),y.pattern);if(Re.WorkspaceFolder.is(y.baseUri)){let _=le.workspace.getWorkspaceFolder(s(y.baseUri.uri));return _!==void 0?new le.RelativePattern(_,y.pattern):void 0}}}async function Ke(y,_){if(!y)return;if(Array.isArray(y))return Ze.map(y,un=>mr(un),_);let ee=y,me=await Ze.map(ee.items,un=>mr(un),_);return new le.InlineCompletionList(me)}function mr(y){let _;typeof y.insertText=="string"?_=y.insertText:_=new le.SnippetString(y.insertText.value);let ee;y.command&&(ee=lt(y.command));let me=new le.InlineCompletionItem(_,d(y.range),ee);return y.filterText&&(me.filterText=y.filterText),me}return{asUri:s,asDocumentSelector:o,asDiagnostics:a,asDiagnostic:l,asRange:d,asRanges:h,asPosition:u,asDiagnosticSeverity:m,asDiagnosticTag:p,asHover:k,asCompletionResult:I,asCompletionItem:ne,asTextEdit:te,asTextEdits:K,asSignatureHelp:Q,asSignatureInformations:ae,asSignatureInformation:se,asParameterInformations:re,asParameterInformation:ye,asDeclarationResult:$e,asDefinitionResult:ke,asLocation:ve,asReferences:Jn,asDocumentHighlights:qn,asDocumentHighlight:Un,asDocumentHighlightKind:jn,asSymbolKind:nt,asSymbolTag:pi,asSymbolTags:Bn,asSymbolInformations:Xn,asSymbolInformation:rn,asDocumentSymbols:Ri,asDocumentSymbol:cn,asCommand:lt,asCommands:xt,asCodeAction:Wn,asCodeActionKind:mn,asCodeActionKinds:Wt,asCodeActionResult:Qn,asCodeLens:yn,asCodeLenses:Zn,asWorkspaceEdit:Et,asDocumentLink:P,asDocumentLinks:q,asFoldingRangeKind:ue,asFoldingRange:Se,asFoldingRanges:de,asColor:z,asColorInformation:Ce,asColorInformations:ge,asColorPresentation:we,asColorPresentations:xe,asSelectionRange:L,asSelectionRanges:M,asInlineValue:Y,asInlineValues:Ee,asInlayHint:Kt,asInlayHints:he,asSemanticTokensLegend:Ie,asSemanticTokens:S,asSemanticTokensEdit:U,asSemanticTokensEdits:Z,asCallHierarchyItem:et,asCallHierarchyItems:O,asCallHierarchyIncomingCall:T,asCallHierarchyIncomingCalls:R,asCallHierarchyOutgoingCall:A,asCallHierarchyOutgoingCalls:x,asLinkedEditingRanges:kt,asTypeHierarchyItem:ei,asTypeHierarchyItems:hi,asGlobPattern:Yi,asInlineCompletionResult:Ke,asInlineCompletionItem:mr}}Mp.createConverter=E9});var Pt=F(ji=>{"use strict";Object.defineProperty(ji,"__esModule",{value:!0});ji.generateUuid=ji.parse=ji.isUUID=ji.v4=ji.empty=void 0;var Zu=class{constructor(e){this._value=e}asHex(){return this._value}equals(e){return this.asHex()===e.asHex()}},el=class t extends Zu{static _oneOf(e){return e[Math.floor(e.length*Math.random())]}static _randomHex(){return t._oneOf(t._chars)}constructor(){super([t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),"-",t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),"-","4",t._randomHex(),t._randomHex(),t._randomHex(),"-",t._oneOf(t._timeHighBits),t._randomHex(),t._randomHex(),t._randomHex(),"-",t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex()].join(""))}};el._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"];el._timeHighBits=["8","9","a","b"];ji.empty=new Zu("00000000-0000-0000-0000-000000000000");function EN(){return new el}ji.v4=EN;var k9=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function kN(t){return k9.test(t)}ji.isUUID=kN;function F9(t){if(!kN(t))throw new Error("invalid uuid");return new Zu(t)}ji.parse=F9;function P9(){return EN().asHex()}ji.generateUuid=P9});var Lb=F(qp=>{"use strict";Object.defineProperty(qp,"__esModule",{value:!0});qp.ProgressPart=void 0;var FN=require("vscode"),PN=_e(),RN=Oi(),Nb=class{constructor(e,n,i){this._client=e,this._token=n,this._reported=0,this._infinite=!1,this._lspProgressDisposable=this._client.onProgress(PN.WorkDoneProgress.type,this._token,r=>{switch(r.kind){case"begin":this.begin(r);break;case"report":this.report(r);break;case"end":this.done(),i&&i(this);break}})}begin(e){this._infinite=e.percentage===void 0,this._lspProgressDisposable!==void 0&&FN.window.withProgress({location:FN.ProgressLocation.Window,cancellable:e.cancellable,title:e.title},async(n,i)=>{if(this._lspProgressDisposable!==void 0)return this._progress=n,this._cancellationToken=i,this._tokenDisposable=this._cancellationToken.onCancellationRequested(()=>{this._client.sendNotification(PN.WorkDoneProgressCancelNotification.type,{token:this._token})}),this.report(e),new Promise((r,s)=>{this._resolve=r,this._reject=s})})}report(e){if(this._infinite&&RN.string(e.message))this._progress!==void 0&&this._progress.report({message:e.message});else if(RN.number(e.percentage)){let n=Math.max(0,Math.min(e.percentage,100)),i=Math.max(0,n-this._reported);this._reported+=i,this._progress!==void 0&&this._progress.report({message:e.message,increment:i})}}cancel(){this.cleanup(),this._reject!==void 0&&(this._reject(),this._resolve=void 0,this._reject=void 0)}done(){this.cleanup(),this._resolve!==void 0&&(this._resolve(),this._resolve=void 0,this._reject=void 0)}cleanup(){this._lspProgressDisposable!==void 0&&(this._lspProgressDisposable.dispose(),this._lspProgressDisposable=void 0),this._tokenDisposable!==void 0&&(this._tokenDisposable.dispose(),this._tokenDisposable=void 0),this._progress=void 0,this._cancellationToken=void 0}};qp.ProgressPart=Nb});var Qe=F(pn=>{"use strict";Object.defineProperty(pn,"__esModule",{value:!0});pn.WorkspaceFeature=pn.TextDocumentLanguageFeature=pn.TextDocumentEventFeature=pn.DynamicDocumentFeature=pn.DynamicFeature=pn.StaticFeature=pn.ensure=pn.LSPCancellationError=void 0;var Fo=require("vscode"),Ob=_e(),$n=Oi(),AN=Pt(),Mb=class extends Fo.CancellationError{constructor(e){super(),this.data=e}};pn.LSPCancellationError=Mb;function R9(t,e){return t[e]===void 0&&(t[e]={}),t[e]}pn.ensure=R9;var IN;(function(t){function e(n){let i=n;return i!=null&&$n.func(i.fillClientCapabilities)&&$n.func(i.initialize)&&$n.func(i.getState)&&$n.func(i.clear)&&(i.fillInitializeParams===void 0||$n.func(i.fillInitializeParams))}t.is=e})(IN||(pn.StaticFeature=IN={}));var _N;(function(t){function e(n){let i=n;return i!=null&&$n.func(i.fillClientCapabilities)&&$n.func(i.initialize)&&$n.func(i.getState)&&$n.func(i.clear)&&(i.fillInitializeParams===void 0||$n.func(i.fillInitializeParams))&&$n.func(i.register)&&$n.func(i.unregister)&&i.registrationType!==void 0}t.is=e})(_N||(pn.DynamicFeature=_N={}));var tl=class{constructor(e){this._client=e}getState(){let e=this.getDocumentSelectors(),n=0;for(let r of e){n++;for(let s of Fo.workspace.textDocuments)if(Fo.languages.match(r,s)>0)return{kind:"document",id:this.registrationType.method,registrations:!0,matches:!0}}let i=n>0;return{kind:"document",id:this.registrationType.method,registrations:i,matches:!1}}};pn.DynamicDocumentFeature=tl;var qb=class extends tl{static textDocumentFilter(e,n){for(let i of e)if(Fo.languages.match(i,n)>0)return!0;return!1}constructor(e,n,i,r,s,o,a){super(e),this._event=n,this._type=i,this._middleware=r,this._createParams=s,this._textDocument=o,this._selectorFilter=a,this._selectors=new Map,this._onNotificationSent=new Fo.EventEmitter}getStateInfo(){return[this._selectors.values(),!1]}getDocumentSelectors(){return this._selectors.values()}register(e){e.registerOptions.documentSelector&&(this._listener||(this._listener=this._event(n=>{this.callback(n).catch(i=>{this._client.error(`Sending document notification ${this._type.method} failed.`,i)})})),this._selectors.set(e.id,this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector)))}async callback(e){let n=async i=>{let r=this._createParams(i);await this._client.sendNotification(this._type,r),this.notificationSent(this.getTextDocument(i),this._type,r)};if(this.matches(e)){let i=this._middleware();return i?i(e,r=>n(r)):n(e)}}matches(e){return this._client.hasDedicatedTextSynchronizationFeature(this._textDocument(e))?!1:!this._selectorFilter||this._selectorFilter(this._selectors.values(),e)}get onNotificationSent(){return this._onNotificationSent.event}notificationSent(e,n,i){this._onNotificationSent.fire({textDocument:e,type:n,params:i})}unregister(e){this._selectors.delete(e),this._selectors.size===0&&this._listener&&(this._listener.dispose(),this._listener=void 0)}clear(){this._selectors.clear(),this._onNotificationSent.dispose(),this._listener&&(this._listener.dispose(),this._listener=void 0)}getProvider(e){for(let n of this._selectors.values())if(Fo.languages.match(n,e)>0)return{send:i=>this.callback(i)}}};pn.TextDocumentEventFeature=qb;var Ub=class extends tl{constructor(e,n){super(e),this._registrationType=n,this._registrations=new Map}*getDocumentSelectors(){for(let e of this._registrations.values()){let n=e.data.registerOptions.documentSelector;n!==null&&(yield this._client.protocol2CodeConverter.asDocumentSelector(n))}}get registrationType(){return this._registrationType}register(e){if(!e.registerOptions.documentSelector)return;let n=this.registerLanguageProvider(e.registerOptions,e.id);this._registrations.set(e.id,{disposable:n[0],data:e,provider:n[1]})}unregister(e){let n=this._registrations.get(e);n!==void 0&&n.disposable.dispose()}clear(){this._registrations.forEach(e=>{e.disposable.dispose()}),this._registrations.clear()}getRegistration(e,n){if(n){if(Ob.TextDocumentRegistrationOptions.is(n)){let i=Ob.StaticRegistrationOptions.hasId(n)?n.id:AN.generateUuid(),r=n.documentSelector??e;if(r)return[i,Object.assign({},n,{documentSelector:r})]}else if($n.boolean(n)&&n===!0||Ob.WorkDoneProgressOptions.is(n)){if(!e)return[void 0,void 0];let i=$n.boolean(n)&&n===!0?{documentSelector:e}:Object.assign({},n,{documentSelector:e});return[AN.generateUuid(),i]}}else return[void 0,void 0];return[void 0,void 0]}getRegistrationOptions(e,n){if(!(!e||!n))return $n.boolean(n)&&n===!0?{documentSelector:e}:Object.assign({},n,{documentSelector:e})}getProvider(e){for(let n of this._registrations.values()){let i=n.data.registerOptions.documentSelector;if(i!==null&&Fo.languages.match(this._client.protocol2CodeConverter.asDocumentSelector(i),e)>0)return n.provider}}getAllProviders(){let e=[];for(let n of this._registrations.values())e.push(n.provider);return e}};pn.TextDocumentLanguageFeature=Ub;var jb=class{constructor(e,n){this._client=e,this._registrationType=n,this._registrations=new Map}getState(){let e=this._registrations.size>0;return{kind:"workspace",id:this._registrationType.method,registrations:e}}get registrationType(){return this._registrationType}register(e){let n=this.registerLanguageProvider(e.registerOptions);this._registrations.set(e.id,{disposable:n[0],provider:n[1]})}unregister(e){let n=this._registrations.get(e);n!==void 0&&n.disposable.dispose()}clear(){this._registrations.forEach(e=>{e.disposable.dispose()}),this._registrations.clear()}getProviders(){let e=[];for(let n of this._registrations.values())e.push(n.provider);return e}};pn.WorkspaceFeature=jb});var LN=F((jre,NN)=>{var A9=typeof process=="object"&&process&&process.platform==="win32";NN.exports=A9?{sep:"\\"}:{sep:"/"}});var jN=F((Bre,UN)=>{"use strict";UN.exports=MN;function MN(t,e,n){t instanceof RegExp&&(t=ON(t,n)),e instanceof RegExp&&(e=ON(e,n));var i=qN(t,e,n);return i&&{start:i[0],end:i[1],pre:n.slice(0,i[0]),body:n.slice(i[0]+t.length,i[1]),post:n.slice(i[1]+e.length)}}function ON(t,e){var n=e.match(t);return n?n[0]:null}MN.range=qN;function qN(t,e,n){var i,r,s,o,a,c=n.indexOf(t),l=n.indexOf(e,c+1),f=c;if(c>=0&&l>0){if(t===e)return[c,l];for(i=[],s=n.length;f>=0&&!a;)f==c?(i.push(f),c=n.indexOf(t,f+1)):i.length==1?a=[i.pop(),l]:(r=i.pop(),r<s&&(s=r,o=l),l=n.indexOf(e,f+1)),f=c<l&&c>=0?c:l;i.length&&(a=[s,o])}return a}});var GN=F((Wre,zN)=>{var BN=jN();zN.exports=N9;var WN="\0SLASH"+Math.random()+"\0",KN="\0OPEN"+Math.random()+"\0",Wb="\0CLOSE"+Math.random()+"\0",$N="\0COMMA"+Math.random()+"\0",HN="\0PERIOD"+Math.random()+"\0";function Bb(t){return parseInt(t,10)==t?parseInt(t,10):t.charCodeAt(0)}function I9(t){return t.split("\\\\").join(WN).split("\\{").join(KN).split("\\}").join(Wb).split("\\,").join($N).split("\\.").join(HN)}function _9(t){return t.split(WN).join("\\").split(KN).join("{").split(Wb).join("}").split($N).join(",").split(HN).join(".")}function VN(t){if(!t)return[""];var e=[],n=BN("{","}",t);if(!n)return t.split(",");var i=n.pre,r=n.body,s=n.post,o=i.split(",");o[o.length-1]+="{"+r+"}";var a=VN(s);return s.length&&(o[o.length-1]+=a.shift(),o.push.apply(o,a)),e.push.apply(e,o),e}function N9(t){return t?(t.substr(0,2)==="{}"&&(t="\\{\\}"+t.substr(2)),nl(I9(t),!0).map(_9)):[]}function L9(t){return"{"+t+"}"}function O9(t){return/^-?0\d/.test(t)}function M9(t,e){return t<=e}function q9(t,e){return t>=e}function nl(t,e){var n=[],i=BN("{","}",t);if(!i)return[t];var r=i.pre,s=i.post.length?nl(i.post,!1):[""];if(/\$$/.test(i.pre))for(var o=0;o<s.length;o++){var a=r+"{"+i.body+"}"+s[o];n.push(a)}else{var c=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(i.body),l=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(i.body),f=c||l,g=i.body.indexOf(",")>=0;if(!f&&!g)return i.post.match(/,.*\}/)?(t=i.pre+"{"+i.body+Wb+i.post,nl(t)):[t];var p;if(f)p=i.body.split(/\.\./);else if(p=VN(i.body),p.length===1&&(p=nl(p[0],!1).map(L9),p.length===1))return s.map(function(ne){return i.pre+p[0]+ne});var u;if(f){var d=Bb(p[0]),h=Bb(p[1]),m=Math.max(p[0].length,p[1].length),C=p.length==3?Math.abs(Bb(p[2])):1,D=M9,w=h<d;w&&(C*=-1,D=q9);var k=p.some(O9);u=[];for(var I=d;D(I,h);I+=C){var B;if(l)B=String.fromCharCode(I),B==="\\"&&(B="");else if(B=String(I),k){var W=m-B.length;if(W>0){var j=new Array(W+1).join("0");I<0?B="-"+j+B.slice(1):B=j+B}}u.push(B)}}else{u=[];for(var ie=0;ie<p.length;ie++)u.push.apply(u,nl(p[ie],!1))}for(var ie=0;ie<u.length;ie++)for(var o=0;o<s.length;o++){var a=r+u[ie]+s[o];(!e||f||a)&&n.push(a)}}return n}});var jp=F(($re,zb)=>{var Si=zb.exports=(t,e,n={})=>(Up(e),!n.nocomment&&e.charAt(0)==="#"?!1:new Ha(e,n).match(t));zb.exports=Si;var Hb=LN();Si.sep=Hb.sep;var nr=Symbol("globstar **");Si.GLOBSTAR=nr;var U9=GN(),JN={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},Vb="[^/]",Kb=Vb+"*?",j9="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",B9="(?:(?!(?:\\/|^)\\.).)*?",QN=t=>t.split("").reduce((e,n)=>(e[n]=!0,e),{}),XN=QN("().*{}+?[]^$\\!"),W9=QN("[.("),YN=/\/+/;Si.filter=(t,e={})=>(n,i,r)=>Si(n,t,e);var As=(t,e={})=>{let n={};return Object.keys(t).forEach(i=>n[i]=t[i]),Object.keys(e).forEach(i=>n[i]=e[i]),n};Si.defaults=t=>{if(!t||typeof t!="object"||!Object.keys(t).length)return Si;let e=Si,n=(i,r,s)=>e(i,r,As(t,s));return n.Minimatch=class extends e.Minimatch{constructor(r,s){super(r,As(t,s))}},n.Minimatch.defaults=i=>e.defaults(As(t,i)).Minimatch,n.filter=(i,r)=>e.filter(i,As(t,r)),n.defaults=i=>e.defaults(As(t,i)),n.makeRe=(i,r)=>e.makeRe(i,As(t,r)),n.braceExpand=(i,r)=>e.braceExpand(i,As(t,r)),n.match=(i,r,s)=>e.match(i,r,As(t,s)),n};Si.braceExpand=(t,e)=>ZN(t,e);var ZN=(t,e={})=>(Up(t),e.nobrace||!/\{(?:(?!\{).)*\}/.test(t)?[t]:U9(t)),K9=1024*64,Up=t=>{if(typeof t!="string")throw new TypeError("invalid pattern");if(t.length>K9)throw new TypeError("pattern is too long")},$b=Symbol("subparse");Si.makeRe=(t,e)=>new Ha(t,e||{}).makeRe();Si.match=(t,e,n={})=>{let i=new Ha(e,n);return t=t.filter(r=>i.match(r)),i.options.nonull&&!t.length&&t.push(e),t};var $9=t=>t.replace(/\\(.)/g,"$1"),H9=t=>t.replace(/\\([^-\]])/g,"$1"),V9=t=>t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),z9=t=>t.replace(/[[\]\\]/g,"\\$&"),Ha=class{constructor(e,n){Up(e),n||(n={}),this.options=n,this.set=[],this.pattern=e,this.windowsPathsNoEscape=!!n.windowsPathsNoEscape||n.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.partial=!!n.partial,this.make()}debug(){}make(){let e=this.pattern,n=this.options;if(!n.nocomment&&e.charAt(0)==="#"){this.comment=!0;return}if(!e){this.empty=!0;return}this.parseNegate();let i=this.globSet=this.braceExpand();n.debug&&(this.debug=(...r)=>console.error(...r)),this.debug(this.pattern,i),i=this.globParts=i.map(r=>r.split(YN)),this.debug(this.pattern,i),i=i.map((r,s,o)=>r.map(this.parse,this)),this.debug(this.pattern,i),i=i.filter(r=>r.indexOf(!1)===-1),this.debug(this.pattern,i),this.set=i}parseNegate(){if(this.options.nonegate)return;let e=this.pattern,n=!1,i=0;for(let r=0;r<e.length&&e.charAt(r)==="!";r++)n=!n,i++;i&&(this.pattern=e.slice(i)),this.negate=n}matchOne(e,n,i){var r=this.options;this.debug("matchOne",{this:this,file:e,pattern:n}),this.debug("matchOne",e.length,n.length);for(var s=0,o=0,a=e.length,c=n.length;s<a&&o<c;s++,o++){this.debug("matchOne loop");var l=n[o],f=e[s];if(this.debug(n,l,f),l===!1)return!1;if(l===nr){this.debug("GLOBSTAR",[n,l,f]);var g=s,p=o+1;if(p===c){for(this.debug("** at the end");s<a;s++)if(e[s]==="."||e[s]===".."||!r.dot&&e[s].charAt(0)===".")return!1;return!0}for(;g<a;){var u=e[g];if(this.debug(`
globstar while`,e,g,n,p,u),this.matchOne(e.slice(g),n.slice(p),i))return this.debug("globstar found match!",g,a,u),!0;if(u==="."||u===".."||!r.dot&&u.charAt(0)==="."){this.debug("dot detected!",e,g,n,p);break}this.debug("globstar swallow a segment, and continue"),g++}return!!(i&&(this.debug(`
>>> no match, partial?`,e,g,n,p),g===a))}var d;if(typeof l=="string"?(d=f===l,this.debug("string match",l,f,d)):(d=f.match(l),this.debug("pattern match",l,f,d)),!d)return!1}if(s===a&&o===c)return!0;if(s===a)return i;if(o===c)return s===a-1&&e[s]==="";throw new Error("wtf?")}braceExpand(){return ZN(this.pattern,this.options)}parse(e,n){Up(e);let i=this.options;if(e==="**")if(i.noglobstar)e="*";else return nr;if(e==="")return"";let r="",s=!1,o=!1,a=[],c=[],l,f=!1,g=-1,p=-1,u,d,h,m=e.charAt(0)===".",C=i.dot||m,D=()=>m?"":C?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",w=W=>W.charAt(0)==="."?"":i.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",k=()=>{if(l){switch(l){case"*":r+=Kb,s=!0;break;case"?":r+=Vb,s=!0;break;default:r+="\\"+l;break}this.debug("clearStateChar %j %j",l,r),l=!1}};for(let W=0,j;W<e.length&&(j=e.charAt(W));W++){if(this.debug("%s	%s %s %j",e,W,r,j),o){if(j==="/")return!1;XN[j]&&(r+="\\"),r+=j,o=!1;continue}switch(j){case"/":return!1;case"\\":if(f&&e.charAt(W+1)==="-"){r+=j;continue}k(),o=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s	%s %s %j <-- stateChar",e,W,r,j),f){this.debug("  in class"),j==="!"&&W===p+1&&(j="^"),r+=j;continue}this.debug("call clearStateChar %j",l),k(),l=j,i.noext&&k();continue;case"(":{if(f){r+="(";continue}if(!l){r+="\\(";continue}let ie={type:l,start:W-1,reStart:r.length,open:JN[l].open,close:JN[l].close};this.debug(this.pattern,"	",ie),a.push(ie),r+=ie.open,ie.start===0&&ie.type!=="!"&&(m=!0,r+=w(e.slice(W+1))),this.debug("plType %j %j",l,r),l=!1;continue}case")":{let ie=a[a.length-1];if(f||!ie){r+="\\)";continue}a.pop(),k(),s=!0,d=ie,r+=d.close,d.type==="!"&&c.push(Object.assign(d,{reEnd:r.length}));continue}case"|":{let ie=a[a.length-1];if(f||!ie){r+="\\|";continue}k(),r+="|",ie.start===0&&ie.type!=="!"&&(m=!0,r+=w(e.slice(W+1)));continue}case"[":if(k(),f){r+="\\"+j;continue}f=!0,p=W,g=r.length,r+=j;continue;case"]":if(W===p+1||!f){r+="\\"+j;continue}u=e.substring(p+1,W);try{RegExp("["+z9(H9(u))+"]"),r+=j}catch{r=r.substring(0,g)+"(?:$.)"}s=!0,f=!1;continue;default:k(),XN[j]&&!(j==="^"&&f)&&(r+="\\"),r+=j;break}}for(f&&(u=e.slice(p+1),h=this.parse(u,$b),r=r.substring(0,g)+"\\["+h[0],s=s||h[1]),d=a.pop();d;d=a.pop()){let W;W=r.slice(d.reStart+d.open.length),this.debug("setting tail",r,d),W=W.replace(/((?:\\{2}){0,64})(\\?)\|/g,(ie,ne,H)=>(H||(H="\\"),ne+ne+H+"|")),this.debug(`tail=%j
   %s`,W,W,d,r);let j=d.type==="*"?Kb:d.type==="?"?Vb:"\\"+d.type;s=!0,r=r.slice(0,d.reStart)+j+"\\("+W}k(),o&&(r+="\\\\");let I=W9[r.charAt(0)];for(let W=c.length-1;W>-1;W--){let j=c[W],ie=r.slice(0,j.reStart),ne=r.slice(j.reStart,j.reEnd-8),H=r.slice(j.reEnd),N=r.slice(j.reEnd-8,j.reEnd)+H,$=ie.split(")").length,te=ie.split("(").length-$,K=H;for(let Q=0;Q<te;Q++)K=K.replace(/\)[+*?]?/,"");H=K;let G=H===""&&n!==$b?"(?:$|\\/)":"";r=ie+ne+H+G+N}if(r!==""&&s&&(r="(?=.)"+r),I&&(r=D()+r),n===$b)return[r,s];if(i.nocase&&!s&&(s=e.toUpperCase()!==e.toLowerCase()),!s)return $9(e);let B=i.nocase?"i":"";try{return Object.assign(new RegExp("^"+r+"$",B),{_glob:e,_src:r})}catch{return new RegExp("$.")}}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;let e=this.set;if(!e.length)return this.regexp=!1,this.regexp;let n=this.options,i=n.noglobstar?Kb:n.dot?j9:B9,r=n.nocase?"i":"",s=e.map(o=>(o=o.map(a=>typeof a=="string"?V9(a):a===nr?nr:a._src).reduce((a,c)=>(a[a.length-1]===nr&&c===nr||a.push(c),a),[]),o.forEach((a,c)=>{a!==nr||o[c-1]===nr||(c===0?o.length>1?o[c+1]="(?:\\/|"+i+"\\/)?"+o[c+1]:o[c]=i:c===o.length-1?o[c-1]+="(?:\\/|"+i+")?":(o[c-1]+="(?:\\/|\\/"+i+"\\/)"+o[c+1],o[c+1]=nr))}),o.filter(a=>a!==nr).join("/"))).join("|");s="^(?:"+s+")$",this.negate&&(s="^(?!"+s+").*$");try{this.regexp=new RegExp(s,r)}catch{this.regexp=!1}return this.regexp}match(e,n=this.partial){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return e==="";if(e==="/"&&n)return!0;let i=this.options;Hb.sep!=="/"&&(e=e.split(Hb.sep).join("/")),e=e.split(YN),this.debug(this.pattern,"split",e);let r=this.set;this.debug(this.pattern,"set",r);let s;for(let o=e.length-1;o>=0&&(s=e[o],!s);o--);for(let o=0;o<r.length;o++){let a=r[o],c=e;if(i.matchBase&&a.length===1&&(c=[s]),this.matchOne(c,a,n))return i.flipNegate?!0:!this.negate}return i.flipNegate?!1:this.negate}static defaults(e){return Si.defaults(e).Minimatch}};Si.Minimatch=Ha});var tD=F(Is=>{"use strict";Object.defineProperty(Is,"__esModule",{value:!0});Is.DiagnosticFeature=Is.DiagnosticPullMode=Is.vsdiag=void 0;var G9=jp(),He=require("vscode"),zt=_e(),J9=Pt(),Gb=Qe();function Bp(t,e){return t[e]===void 0&&(t[e]={}),t[e]}var Bi;(function(t){let e;(function(n){n.full="full",n.unChanged="unChanged"})(e=t.DocumentDiagnosticReportKind||(t.DocumentDiagnosticReportKind={}))})(Bi||(Is.vsdiag=Bi={}));var Wp;(function(t){t.onType="onType",t.onSave="onSave"})(Wp||(Is.DiagnosticPullMode=Wp={}));var Pn;(function(t){t.active="open",t.reschedule="reschedule",t.outDated="drop"})(Pn||(Pn={}));var Jb=class t{constructor(){this.open=new Set,this._onOpen=new He.EventEmitter,this._onClose=new He.EventEmitter,t.fillTabResources(this.open);let e=n=>{if(n.closed.length===0&&n.opened.length===0)return;let i=this.open,r=new Set;t.fillTabResources(r);let s=new Set,o=new Set(r);for(let a of i.values())r.has(a)?o.delete(a):s.add(a);if(this.open=r,s.size>0){let a=new Set;for(let c of s)a.add(He.Uri.parse(c));this._onClose.fire(a)}if(o.size>0){let a=new Set;for(let c of o)a.add(He.Uri.parse(c));this._onOpen.fire(a)}};He.window.tabGroups.onDidChangeTabs!==void 0?this.disposable=He.window.tabGroups.onDidChangeTabs(e):this.disposable={dispose:()=>{}}}get onClose(){return this._onClose.event}get onOpen(){return this._onOpen.event}dispose(){this.disposable.dispose()}isActive(e){return e instanceof He.Uri?He.window.activeTextEditor?.document.uri===e:He.window.activeTextEditor?.document===e}isVisible(e){let n=e instanceof He.Uri?e:e.uri;return this.open.has(n.toString())}getTabResources(){let e=new Set;return t.fillTabResources(new Set,e),e}static fillTabResources(e,n){let i=e??new Set;for(let r of He.window.tabGroups.all)for(let s of r.tabs){let o=s.input,a;o instanceof He.TabInputText?a=o.uri:o instanceof He.TabInputTextDiff?a=o.modified:o instanceof He.TabInputCustom&&(a=o.uri),a!==void 0&&!i.has(a.toString())&&(i.add(a.toString()),n!==void 0&&n.add(a))}}},on;(function(t){t[t.document=1]="document",t[t.workspace=2]="workspace"})(on||(on={}));var zr;(function(t){function e(n){return n instanceof He.Uri?n.toString():n.uri.toString()}t.asKey=e})(zr||(zr={}));var Xb=class{constructor(){this.documentPullStates=new Map,this.workspacePullStates=new Map}track(e,n,i){let r=e===on.document?this.documentPullStates:this.workspacePullStates,[s,o,a]=n instanceof He.Uri?[n.toString(),n,i]:[n.uri.toString(),n.uri,n.version],c=r.get(s);return c===void 0&&(c={document:o,pulledVersion:a,resultId:void 0},r.set(s,c)),c}update(e,n,i,r){let s=e===on.document?this.documentPullStates:this.workspacePullStates,[o,a,c,l]=n instanceof He.Uri?[n.toString(),n,i,r]:[n.uri.toString(),n.uri,n.version,i],f=s.get(o);f===void 0?(f={document:a,pulledVersion:c,resultId:l},s.set(o,f)):(f.pulledVersion=c,f.resultId=l)}unTrack(e,n){let i=zr.asKey(n);(e===on.document?this.documentPullStates:this.workspacePullStates).delete(i)}tracks(e,n){let i=zr.asKey(n);return(e===on.document?this.documentPullStates:this.workspacePullStates).has(i)}getResultId(e,n){let i=zr.asKey(n);return(e===on.document?this.documentPullStates:this.workspacePullStates).get(i)?.resultId}getAllResultIds(){let e=[];for(let[n,i]of this.workspacePullStates)this.documentPullStates.has(n)&&(i=this.documentPullStates.get(n)),i.resultId!==void 0&&e.push({uri:n,value:i.resultId});return e}},Yb=class{constructor(e,n,i){this.client=e,this.tabs=n,this.options=i,this.isDisposed=!1,this.onDidChangeDiagnosticsEmitter=new He.EventEmitter,this.provider=this.createProvider(),this.diagnostics=He.languages.createDiagnosticCollection(i.identifier),this.openRequests=new Map,this.documentStates=new Xb,this.workspaceErrorCounter=0}knows(e,n){let i=n instanceof He.Uri?n:n.uri;return this.documentStates.tracks(e,n)||this.openRequests.has(i.toString())}forget(e,n){this.documentStates.unTrack(e,n)}pull(e,n){if(this.isDisposed)return;let i=e instanceof He.Uri?e:e.uri;this.pullAsync(e).then(()=>{n&&n()},r=>{this.client.error(`Document pull failed for text document ${i.toString()}`,r,!1)})}async pullAsync(e,n){if(this.isDisposed)return;let i=e instanceof He.Uri,r=i?e:e.uri,s=r.toString();n=i?n:e.version;let o=this.openRequests.get(s),a=i?this.documentStates.track(on.document,e,n):this.documentStates.track(on.document,e);if(o===void 0){let c=new He.CancellationTokenSource;this.openRequests.set(s,{state:Pn.active,document:e,version:n,tokenSource:c});let l,f;try{l=await this.provider.provideDiagnostics(e,a.resultId,c.token)??{kind:Bi.DocumentDiagnosticReportKind.full,items:[]}}catch(g){if(g instanceof Gb.LSPCancellationError&&zt.DiagnosticServerCancellationData.is(g.data)&&g.data.retriggerRequest===!1&&(f={state:Pn.outDated,document:e}),f===void 0&&g instanceof He.CancellationError)f={state:Pn.reschedule,document:e};else throw g}if(f=f??this.openRequests.get(s),f===void 0){this.client.error(`Lost request state in diagnostic pull model. Clearing diagnostics for ${s}`),this.diagnostics.delete(r);return}if(this.openRequests.delete(s),!this.tabs.isVisible(e)){this.documentStates.unTrack(on.document,e);return}if(f.state===Pn.outDated)return;l!==void 0&&(l.kind===Bi.DocumentDiagnosticReportKind.full&&this.diagnostics.set(r,l.items),a.pulledVersion=n,a.resultId=l.resultId),f.state===Pn.reschedule&&this.pull(e)}else o.state===Pn.active?(o.tokenSource.cancel(),this.openRequests.set(s,{state:Pn.reschedule,document:o.document})):o.state===Pn.outDated&&this.openRequests.set(s,{state:Pn.reschedule,document:o.document})}forgetDocument(e){let n=e instanceof He.Uri?e:e.uri,i=n.toString(),r=this.openRequests.get(i);this.options.workspaceDiagnostics?r!==void 0?this.openRequests.set(i,{state:Pn.reschedule,document:e}):this.pull(e,()=>{this.forget(on.document,e)}):(r!==void 0&&(r.state===Pn.active&&r.tokenSource.cancel(),this.openRequests.set(i,{state:Pn.outDated,document:e})),this.diagnostics.delete(n),this.forget(on.document,e))}pullWorkspace(){this.isDisposed||this.pullWorkspaceAsync().then(()=>{this.workspaceTimeout=(0,zt.RAL)().timer.setTimeout(()=>{this.pullWorkspace()},2e3)},e=>{!(e instanceof Gb.LSPCancellationError)&&!zt.DiagnosticServerCancellationData.is(e.data)&&(this.client.error("Workspace diagnostic pull failed.",e,!1),this.workspaceErrorCounter++),this.workspaceErrorCounter<=5&&(this.workspaceTimeout=(0,zt.RAL)().timer.setTimeout(()=>{this.pullWorkspace()},2e3))})}async pullWorkspaceAsync(){if(!this.provider.provideWorkspaceDiagnostics||this.isDisposed)return;this.workspaceCancellation!==void 0&&(this.workspaceCancellation.cancel(),this.workspaceCancellation=void 0),this.workspaceCancellation=new He.CancellationTokenSource;let e=this.documentStates.getAllResultIds().map(n=>({uri:this.client.protocol2CodeConverter.asUri(n.uri),value:n.value}));await this.provider.provideWorkspaceDiagnostics(e,this.workspaceCancellation.token,n=>{if(!(!n||this.isDisposed))for(let i of n.items)i.kind===Bi.DocumentDiagnosticReportKind.full&&(this.documentStates.tracks(on.document,i.uri)||this.diagnostics.set(i.uri,i.items)),this.documentStates.update(on.workspace,i.uri,i.version??void 0,i.resultId)})}createProvider(){let e={onDidChangeDiagnostics:this.onDidChangeDiagnosticsEmitter.event,provideDiagnostics:(n,i,r)=>{let s=(a,c,l)=>{let f={identifier:this.options.identifier,textDocument:{uri:this.client.code2ProtocolConverter.asUri(a instanceof He.Uri?a:a.uri)},previousResultId:c};return this.isDisposed===!0||!this.client.isRunning()?{kind:Bi.DocumentDiagnosticReportKind.full,items:[]}:this.client.sendRequest(zt.DocumentDiagnosticRequest.type,f,l).then(async g=>g==null||this.isDisposed||l.isCancellationRequested?{kind:Bi.DocumentDiagnosticReportKind.full,items:[]}:g.kind===zt.DocumentDiagnosticReportKind.Full?{kind:Bi.DocumentDiagnosticReportKind.full,resultId:g.resultId,items:await this.client.protocol2CodeConverter.asDiagnostics(g.items,l)}:{kind:Bi.DocumentDiagnosticReportKind.unChanged,resultId:g.resultId},g=>this.client.handleFailedRequest(zt.DocumentDiagnosticRequest.type,l,g,{kind:Bi.DocumentDiagnosticReportKind.full,items:[]}))},o=this.client.middleware;return o.provideDiagnostics?o.provideDiagnostics(n,i,r,s):s(n,i,r)}};return this.options.workspaceDiagnostics&&(e.provideWorkspaceDiagnostics=(n,i,r)=>{let s=async l=>l.kind===zt.DocumentDiagnosticReportKind.Full?{kind:Bi.DocumentDiagnosticReportKind.full,uri:this.client.protocol2CodeConverter.asUri(l.uri),resultId:l.resultId,version:l.version,items:await this.client.protocol2CodeConverter.asDiagnostics(l.items,i)}:{kind:Bi.DocumentDiagnosticReportKind.unChanged,uri:this.client.protocol2CodeConverter.asUri(l.uri),resultId:l.resultId,version:l.version},o=l=>{let f=[];for(let g of l)f.push({uri:this.client.code2ProtocolConverter.asUri(g.uri),value:g.value});return f},a=(l,f)=>{let g=(0,J9.generateUuid)(),p=this.client.onProgress(zt.WorkspaceDiagnosticRequest.partialResult,g,async d=>{if(d==null){r(null);return}let h={items:[]};for(let m of d.items)try{h.items.push(await s(m))}catch(C){this.client.error("Converting workspace diagnostics failed.",C)}r(h)}),u={identifier:this.options.identifier,previousResultIds:o(l),partialResultToken:g};return this.isDisposed===!0||!this.client.isRunning()?{items:[]}:this.client.sendRequest(zt.WorkspaceDiagnosticRequest.type,u,f).then(async d=>{if(f.isCancellationRequested)return{items:[]};let h={items:[]};for(let m of d.items)h.items.push(await s(m));return p.dispose(),r(h),{items:[]}},d=>(p.dispose(),this.client.handleFailedRequest(zt.DocumentDiagnosticRequest.type,f,d,{items:[]})))},c=this.client.middleware;return c.provideWorkspaceDiagnostics?c.provideWorkspaceDiagnostics(n,i,r,a):a(n,i,r)}),e}dispose(){this.isDisposed=!0,this.workspaceCancellation?.cancel(),this.workspaceTimeout?.dispose();for(let[e,n]of this.openRequests)n.state===Pn.active&&n.tokenSource.cancel(),this.openRequests.set(e,{state:Pn.outDated,document:n.document});this.diagnostics.dispose()}},Qb=class{constructor(e){this.diagnosticRequestor=e,this.documents=new zt.LinkedMap,this.isDisposed=!1}add(e){if(this.isDisposed===!0)return;let n=zr.asKey(e);this.documents.has(n)||(this.documents.set(n,e,zt.Touch.Last),this.trigger())}remove(e){let n=zr.asKey(e);this.documents.delete(n),this.documents.size===0?this.stop():n===this.endDocumentKey()&&(this.endDocument=this.documents.last)}trigger(){if(this.isDisposed!==!0){if(this.intervalHandle!==void 0){this.endDocument=this.documents.last;return}this.endDocument=this.documents.last,this.intervalHandle=(0,zt.RAL)().timer.setInterval(()=>{let e=this.documents.first;if(e!==void 0){let n=zr.asKey(e);this.diagnosticRequestor.pull(e),this.documents.set(n,e,zt.Touch.Last),n===this.endDocumentKey()&&this.stop()}},200)}}dispose(){this.isDisposed=!0,this.stop(),this.documents.clear()}stop(){this.intervalHandle?.dispose(),this.intervalHandle=void 0,this.endDocument=void 0}endDocumentKey(){return this.endDocument!==void 0?zr.asKey(this.endDocument):void 0}},Zb=class{constructor(e,n,i){let r=e.clientOptions.diagnosticPullOptions??{onChange:!0,onSave:!1},s=e.protocol2CodeConverter.asDocumentSelector(i.documentSelector),o=[],a=d=>{let h=i.documentSelector;if(r.match!==void 0)return r.match(h,d);for(let m of h)if(zt.TextDocumentFilter.is(m)){if(typeof m=="string"||m.language!==void 0&&m.language!=="*"||m.scheme!==void 0&&m.scheme!=="*"&&m.scheme!==d.scheme)return!1;if(m.pattern!==void 0){let C=new G9.Minimatch(m.pattern,{noext:!0});if(!C.makeRe()||!C.match(d.fsPath))return!1}}return!0},c=d=>d instanceof He.Uri?a(d):He.languages.match(s,d)>0&&n.isVisible(d),l=d=>d instanceof He.Uri?this.activeTextDocument?.uri.toString()===d.toString():this.activeTextDocument===d;this.diagnosticRequestor=new Yb(e,n,i),this.backgroundScheduler=new Qb(this.diagnosticRequestor);let f=d=>{!c(d)||!i.interFileDependencies||l(d)||this.backgroundScheduler.add(d)};this.activeTextDocument=He.window.activeTextEditor?.document,He.window.onDidChangeActiveTextEditor(d=>{let h=this.activeTextDocument;this.activeTextDocument=d?.document,h!==void 0&&f(h),this.activeTextDocument!==void 0&&this.backgroundScheduler.remove(this.activeTextDocument)});let g=e.getFeature(zt.DidOpenTextDocumentNotification.method);o.push(g.onNotificationSent(d=>{let h=d.textDocument;this.diagnosticRequestor.knows(on.document,h)||c(h)&&this.diagnosticRequestor.pull(h,()=>{f(h)})})),o.push(n.onOpen(d=>{for(let h of d){if(this.diagnosticRequestor.knows(on.document,h))continue;let m=h.toString(),C;for(let D of He.workspace.textDocuments)if(m===D.uri.toString()){C=D;break}C!==void 0&&c(C)&&this.diagnosticRequestor.pull(C,()=>{f(C)})}}));let p=new Set;for(let d of He.workspace.textDocuments)c(d)&&(this.diagnosticRequestor.pull(d,()=>{f(d)}),p.add(d.uri.toString()));if(r.onTabs===!0)for(let d of n.getTabResources())!p.has(d.toString())&&c(d)&&this.diagnosticRequestor.pull(d,()=>{f(d)});if(r.onChange===!0){let d=e.getFeature(zt.DidChangeTextDocumentNotification.method);o.push(d.onNotificationSent(async h=>{let m=h.textDocument;(r.filter===void 0||!r.filter(m,Wp.onType))&&this.diagnosticRequestor.knows(on.document,m)&&this.diagnosticRequestor.pull(m,()=>{this.backgroundScheduler.trigger()})}))}if(r.onSave===!0){let d=e.getFeature(zt.DidSaveTextDocumentNotification.method);o.push(d.onNotificationSent(h=>{let m=h.textDocument;(r.filter===void 0||!r.filter(m,Wp.onSave))&&this.diagnosticRequestor.knows(on.document,m)&&this.diagnosticRequestor.pull(h.textDocument,()=>{this.backgroundScheduler.trigger()})}))}let u=e.getFeature(zt.DidCloseTextDocumentNotification.method);o.push(u.onNotificationSent(d=>{this.cleanUpDocument(d.textDocument)})),n.onClose(d=>{for(let h of d)this.cleanUpDocument(h)}),this.diagnosticRequestor.onDidChangeDiagnosticsEmitter.event(()=>{for(let d of He.workspace.textDocuments)c(d)&&this.diagnosticRequestor.pull(d)}),i.workspaceDiagnostics===!0&&i.identifier!=="da348dc5-c30a-4515-9d98-31ff3be38d14"&&this.diagnosticRequestor.pullWorkspace(),this.disposable=He.Disposable.from(...o,this.backgroundScheduler,this.diagnosticRequestor)}get onDidChangeDiagnosticsEmitter(){return this.diagnosticRequestor.onDidChangeDiagnosticsEmitter}get diagnostics(){return this.diagnosticRequestor.provider}cleanUpDocument(e){this.diagnosticRequestor.knows(on.document,e)&&(this.diagnosticRequestor.forgetDocument(e),this.backgroundScheduler.remove(e))}},eD=class extends Gb.TextDocumentLanguageFeature{constructor(e){super(e,zt.DocumentDiagnosticRequest.type)}fillClientCapabilities(e){let n=Bp(Bp(e,"textDocument"),"diagnostic");n.dynamicRegistration=!0,n.relatedDocumentSupport=!1,Bp(Bp(e,"workspace"),"diagnostics").refreshSupport=!0}initialize(e,n){this._client.onRequest(zt.DiagnosticRefreshRequest.type,async()=>{for(let o of this.getAllProviders())o.onDidChangeDiagnosticsEmitter.fire()});let[r,s]=this.getRegistration(n,e.diagnosticProvider);!r||!s||this.register({id:r,registerOptions:s})}clear(){this.tabs!==void 0&&(this.tabs.dispose(),this.tabs=void 0),super.clear()}registerLanguageProvider(e){this.tabs===void 0&&(this.tabs=new Jb);let n=new Zb(this._client,this.tabs,e);return[n.disposable,n]}};Is.DiagnosticFeature=eD});var nL=F(Vp=>{"use strict";Object.defineProperty(Vp,"__esModule",{value:!0});Vp.NotebookDocumentSyncFeature=void 0;var Rn=require("vscode"),X9=jp(),Gr=_e(),Y9=Pt(),eL=Oi();function tL(t,e){return t[e]===void 0&&(t[e]={}),t[e]}var Va;(function(t){let e;(function(n){function i(p,u){return{version:p.version,uri:u.asUri(p.uri)}}n.asVersionedNotebookDocumentIdentifier=i;function r(p,u,d){let h=Gr.NotebookDocument.create(d.asUri(p.uri),p.notebookType,p.version,s(u,d));return Object.keys(p.metadata).length>0&&(h.metadata=o(p.metadata)),h}n.asNotebookDocument=r;function s(p,u){return p.map(d=>a(d,u))}n.asNotebookCells=s;function o(p){return l(new Set,p)}n.asMetadata=o;function a(p,u){let d=Gr.NotebookCell.create(c(p.kind),u.asUri(p.document.uri));return Object.keys(p.metadata).length>0&&(d.metadata=o(p.metadata)),p.executionSummary!==void 0&&eL.number(p.executionSummary.executionOrder)&&eL.boolean(p.executionSummary.success)&&(d.executionSummary={executionOrder:p.executionSummary.executionOrder,success:p.executionSummary.success}),d}n.asNotebookCell=a;function c(p){switch(p){case Rn.NotebookCellKind.Markup:return Gr.NotebookCellKind.Markup;case Rn.NotebookCellKind.Code:return Gr.NotebookCellKind.Code}}function l(p,u){if(p.has(u))throw new Error("Can't deep copy cyclic structures.");if(Array.isArray(u)){let d=[];for(let h of u)if(h!==null&&typeof h=="object"||Array.isArray(h))d.push(l(p,h));else{if(h instanceof RegExp)throw new Error("Can't transfer regular expressions to the server");d.push(h)}return d}else{let d=Object.keys(u),h=Object.create(null);for(let m of d){let C=u[m];if(C!==null&&typeof C=="object"||Array.isArray(C))h[m]=l(p,C);else{if(C instanceof RegExp)throw new Error("Can't transfer regular expressions to the server");h[m]=C}}return h}}function f(p,u){let d=u.asChangeTextDocumentParams(p,p.document.uri,p.document.version);return{document:d.textDocument,changes:d.contentChanges}}n.asTextContentChange=f;function g(p,u){let d=Object.create(null);if(p.metadata&&(d.metadata=t.c2p.asMetadata(p.metadata)),p.cells!==void 0){let h=Object.create(null),m=p.cells;m.structure&&(h.structure={array:{start:m.structure.array.start,deleteCount:m.structure.array.deleteCount,cells:m.structure.array.cells!==void 0?m.structure.array.cells.map(C=>t.c2p.asNotebookCell(C,u)):void 0},didOpen:m.structure.didOpen!==void 0?m.structure.didOpen.map(C=>u.asOpenTextDocumentParams(C.document).textDocument):void 0,didClose:m.structure.didClose!==void 0?m.structure.didClose.map(C=>u.asCloseTextDocumentParams(C.document).textDocument):void 0}),m.data!==void 0&&(h.data=m.data.map(C=>t.c2p.asNotebookCell(C,u))),m.textContent!==void 0&&(h.textContent=m.textContent.map(C=>t.c2p.asTextContentChange(C,u))),Object.keys(h).length>0&&(d.cells=h)}return d}n.asNotebookDocumentChangeEvent=g})(e=t.c2p||(t.c2p={}))})(Va||(Va={}));var nD;(function(t){function e(a,c,l){let f=a.length,g=c.length,p=0;for(;p<g&&p<f&&n(a[p],c[p],l);)p++;if(p<g&&p<f){let u=f-1,d=g-1;for(;u>=0&&d>=0&&n(a[u],c[d],l);)u--,d--;let h=u+1-p,m=p===d+1?void 0:c.slice(p,d+1);return m!==void 0?{start:p,deleteCount:h,cells:m}:{start:p,deleteCount:h}}else return p<g?{start:p,deleteCount:0,cells:c.slice(p)}:p<f?{start:p,deleteCount:f-p}:void 0}t.computeDiff=e;function n(a,c,l=!0){return a.kind!==c.kind||a.document.uri.toString()!==c.document.uri.toString()||a.document.languageId!==c.document.languageId||!i(a.executionSummary,c.executionSummary)?!1:!l||l&&s(a.metadata,c.metadata)}function i(a,c){return a===c?!0:a===void 0||c===void 0?!1:a.executionOrder===c.executionOrder&&a.success===c.success&&r(a.timing,c.timing)}function r(a,c){return a===c?!0:a===void 0||c===void 0?!1:a.startTime===c.startTime&&a.endTime===c.endTime}function s(a,c){if(a===c)return!0;if(a==null||c===null||c===void 0||typeof a!=typeof c||typeof a!="object")return!1;let l=Array.isArray(a),f=Array.isArray(c);if(l!==f)return!1;if(l&&f){if(a.length!==c.length)return!1;for(let g=0;g<a.length;g++)if(!s(a[g],c[g]))return!1}if(o(a)&&o(c)){let g=Object.keys(a),p=Object.keys(c);if(g.length!==p.length||(g.sort(),p.sort(),!s(g,p)))return!1;for(let u=0;u<g.length;u++){let d=g[u];if(!s(a[d],c[d]))return!1}return!0}return!1}function o(a){return a!==null&&typeof a=="object"}t.isObjectLiteral=o})(nD||(nD={}));var iD;(function(t){function e(n,i){if(typeof n=="string")return n==="*"||i.notebookType===n;if(n.notebookType!==void 0&&n.notebookType!=="*"&&i.notebookType!==n.notebookType)return!1;let r=i.uri;if(n.scheme!==void 0&&n.scheme!=="*"&&r.scheme!==n.scheme)return!1;if(n.pattern!==void 0){let s=new X9.Minimatch(n.pattern,{noext:!0});if(!s.makeRe()||!s.match(r.fsPath))return!1}return!0}t.matchNotebook=e})(iD||(iD={}));var Kp;(function(t){function e(i){let r=i.notebookSelector,s=[];for(let o of r){let a=(typeof o.notebook=="string"?o.notebook:o.notebook?.notebookType)??"*",c=typeof o.notebook=="string"?void 0:o.notebook?.scheme,l=typeof o.notebook=="string"?void 0:o.notebook?.pattern;if(o.cells!==void 0)for(let f of o.cells)s.push(n(a,c,l,f.language));else s.push(n(a,c,l,void 0))}return s}t.asDocumentSelector=e;function n(i,r,s,o){return r===void 0&&s===void 0?{notebook:i,language:o}:{notebook:{notebookType:i,scheme:r,pattern:s},language:o}}})(Kp||(Kp={}));var $p;(function(t){function e(n){return{cells:n,uris:new Set(n.map(i=>i.document.uri.toString()))}}t.create=e})($p||($p={}));var za=class{constructor(e,n){this.client=e,this.options=n,this.notebookSyncInfo=new Map,this.notebookDidOpen=new Set,this.disposables=[],this.selector=e.protocol2CodeConverter.asDocumentSelector(Kp.asDocumentSelector(n)),Rn.workspace.onDidOpenNotebookDocument(i=>{this.notebookDidOpen.add(i.uri.toString()),this.didOpen(i)},void 0,this.disposables);for(let i of Rn.workspace.notebookDocuments)this.notebookDidOpen.add(i.uri.toString()),this.didOpen(i);Rn.workspace.onDidChangeNotebookDocument(i=>this.didChangeNotebookDocument(i),void 0,this.disposables),this.options.save===!0&&Rn.workspace.onDidSaveNotebookDocument(i=>this.didSave(i),void 0,this.disposables),Rn.workspace.onDidCloseNotebookDocument(i=>{this.didClose(i),this.notebookDidOpen.delete(i.uri.toString())},void 0,this.disposables)}getState(){for(let e of Rn.workspace.notebookDocuments)if(this.getMatchingCells(e)!==void 0)return{kind:"document",id:"$internal",registrations:!0,matches:!0};return{kind:"document",id:"$internal",registrations:!0,matches:!1}}get mode(){return"notebook"}handles(e){return Rn.languages.match(this.selector,e)>0}didOpenNotebookCellTextDocument(e,n){if(Rn.languages.match(this.selector,n.document)===0||!this.notebookDidOpen.has(e.uri.toString()))return;let i=this.notebookSyncInfo.get(e.uri.toString()),r=this.cellMatches(e,n);if(i!==void 0){let s=i.uris.has(n.document.uri.toString());if(r&&s||!r&&!s)return;if(r){let o=this.getMatchingCells(e);if(o!==void 0){let a=this.asNotebookDocumentChangeEvent(e,void 0,i,o);a!==void 0&&this.doSendChange(a,o).catch(()=>{})}}}else r&&this.doSendOpen(e,[n]).catch(()=>{})}didChangeNotebookCellTextDocument(e,n){Rn.languages.match(this.selector,n.document)!==0&&this.doSendChange({notebook:e,cells:{textContent:[n]}},void 0).catch(()=>{})}didCloseNotebookCellTextDocument(e,n){let i=this.notebookSyncInfo.get(e.uri.toString());if(i===void 0)return;let r=n.document.uri,s=i.cells.findIndex(o=>o.document.uri.toString()===r.toString());if(s!==-1)if(s===0&&i.cells.length===1)this.doSendClose(e,i.cells).catch(()=>{});else{let o=i.cells.slice(),a=o.splice(s,1);this.doSendChange({notebook:e,cells:{structure:{array:{start:s,deleteCount:1},didClose:a}}},o).catch(()=>{})}}dispose(){for(let e of this.disposables)e.dispose()}didOpen(e,n=this.getMatchingCells(e),i=this.notebookSyncInfo.get(e.uri.toString())){if(i!==void 0)if(n!==void 0){let r=this.asNotebookDocumentChangeEvent(e,void 0,i,n);r!==void 0&&this.doSendChange(r,n).catch(()=>{})}else this.doSendClose(e,[]).catch(()=>{});else{if(n===void 0)return;this.doSendOpen(e,n).catch(()=>{})}}didChangeNotebookDocument(e){let n=e.notebook,i=this.notebookSyncInfo.get(n.uri.toString());if(i===void 0){if(e.contentChanges.length===0)return;let r=this.getMatchingCells(n);if(r===void 0)return;this.didOpen(n,r,i)}else{let r=this.getMatchingCells(n);if(r===void 0){this.didClose(n,i);return}let s=this.asNotebookDocumentChangeEvent(e.notebook,e,i,r);s!==void 0&&this.doSendChange(s,r).catch(()=>{})}}didSave(e){this.notebookSyncInfo.get(e.uri.toString())!==void 0&&this.doSendSave(e).catch(()=>{})}didClose(e,n=this.notebookSyncInfo.get(e.uri.toString())){if(n===void 0)return;let i=e.getCells().filter(r=>n.uris.has(r.document.uri.toString()));this.doSendClose(e,i).catch(()=>{})}async sendDidOpenNotebookDocument(e){let n=this.getMatchingCells(e);if(n!==void 0)return this.doSendOpen(e,n)}async doSendOpen(e,n){let i=async(s,o)=>{let a=Va.c2p.asNotebookDocument(s,o,this.client.code2ProtocolConverter),c=o.map(l=>this.client.code2ProtocolConverter.asTextDocumentItem(l.document));try{await this.client.sendNotification(Gr.DidOpenNotebookDocumentNotification.type,{notebookDocument:a,cellTextDocuments:c})}catch(l){throw this.client.error("Sending DidOpenNotebookDocumentNotification failed",l),l}},r=this.client.middleware?.notebooks;return this.notebookSyncInfo.set(e.uri.toString(),$p.create(n)),r?.didOpen!==void 0?r.didOpen(e,n,i):i(e,n)}async sendDidChangeNotebookDocument(e){return this.doSendChange(e,void 0)}async doSendChange(e,n=this.getMatchingCells(e.notebook)){let i=async s=>{try{await this.client.sendNotification(Gr.DidChangeNotebookDocumentNotification.type,{notebookDocument:Va.c2p.asVersionedNotebookDocumentIdentifier(s.notebook,this.client.code2ProtocolConverter),change:Va.c2p.asNotebookDocumentChangeEvent(s,this.client.code2ProtocolConverter)})}catch(o){throw this.client.error("Sending DidChangeNotebookDocumentNotification failed",o),o}},r=this.client.middleware?.notebooks;return e.cells?.structure!==void 0&&this.notebookSyncInfo.set(e.notebook.uri.toString(),$p.create(n??[])),r?.didChange!==void 0?r?.didChange(e,i):i(e)}async sendDidSaveNotebookDocument(e){return this.doSendSave(e)}async doSendSave(e){let n=async r=>{try{await this.client.sendNotification(Gr.DidSaveNotebookDocumentNotification.type,{notebookDocument:{uri:this.client.code2ProtocolConverter.asUri(r.uri)}})}catch(s){throw this.client.error("Sending DidSaveNotebookDocumentNotification failed",s),s}},i=this.client.middleware?.notebooks;return i?.didSave!==void 0?i.didSave(e,n):n(e)}async sendDidCloseNotebookDocument(e){return this.doSendClose(e,this.getMatchingCells(e)??[])}async doSendClose(e,n){let i=async(s,o)=>{try{await this.client.sendNotification(Gr.DidCloseNotebookDocumentNotification.type,{notebookDocument:{uri:this.client.code2ProtocolConverter.asUri(s.uri)},cellTextDocuments:o.map(a=>this.client.code2ProtocolConverter.asTextDocumentIdentifier(a.document))})}catch(a){throw this.client.error("Sending DidCloseNotebookDocumentNotification failed",a),a}},r=this.client.middleware?.notebooks;return this.notebookSyncInfo.delete(e.uri.toString()),r?.didClose!==void 0?r.didClose(e,n,i):i(e,n)}asNotebookDocumentChangeEvent(e,n,i,r){if(n!==void 0&&n.notebook!==e)throw new Error("Notebook must be identical");let s={notebook:e};n?.metadata!==void 0&&(s.metadata=Va.c2p.asMetadata(n.metadata));let o;if(n?.cellChanges!==void 0&&n.cellChanges.length>0){let a=[];o=new Set(r.map(c=>c.document.uri.toString()));for(let c of n.cellChanges)o.has(c.cell.document.uri.toString())&&(c.executionSummary!==void 0||c.metadata!==void 0)&&a.push(c.cell);a.length>0&&(s.cells=s.cells??{},s.cells.data=a)}if((n?.contentChanges!==void 0&&n.contentChanges.length>0||n===void 0)&&i!==void 0&&r!==void 0){let a=i.cells,c=r,l=nD.computeDiff(a,c,!1),f,g;if(l!==void 0){f=l.cells===void 0?new Map:new Map(l.cells.map(d=>[d.document.uri.toString(),d])),g=l.deleteCount===0?new Map:new Map(a.slice(l.start,l.start+l.deleteCount).map(d=>[d.document.uri.toString(),d]));for(let d of Array.from(g.keys()))f.has(d)&&(g.delete(d),f.delete(d));s.cells=s.cells??{};let p=[],u=[];if(f.size>0||g.size>0){for(let d of f.values())p.push(d);for(let d of g.values())u.push(d)}s.cells.structure={array:l,didOpen:p,didClose:u}}}return Object.keys(s).length>1?s:void 0}getMatchingCells(e,n=e.getCells()){if(this.options.notebookSelector!==void 0){for(let i of this.options.notebookSelector)if(i.notebook===void 0||iD.matchNotebook(i.notebook,e)){let r=this.filterCells(e,n,i.cells);return r.length===0?void 0:r}}}cellMatches(e,n){let i=this.getMatchingCells(e,[n]);return i!==void 0&&i[0]===n}filterCells(e,n,i){let r=i!==void 0?n.filter(s=>{let o=s.document.languageId;return i.some(a=>a.language==="*"||o===a.language)}):n;return typeof this.client.clientOptions.notebookDocumentOptions?.filterCells=="function"?this.client.clientOptions.notebookDocumentOptions.filterCells(e,r):r}},Hp=class t{constructor(e){this.client=e,this.registrations=new Map,this.registrationType=Gr.NotebookDocumentSyncRegistrationType.type,Rn.workspace.onDidOpenTextDocument(n=>{if(n.uri.scheme!==t.CellScheme)return;let[i,r]=this.findNotebookDocumentAndCell(n);if(!(i===void 0||r===void 0))for(let s of this.registrations.values())s instanceof za&&s.didOpenNotebookCellTextDocument(i,r)}),Rn.workspace.onDidChangeTextDocument(n=>{if(n.contentChanges.length===0)return;let i=n.document;if(i.uri.scheme!==t.CellScheme)return;let[r]=this.findNotebookDocumentAndCell(i);if(r!==void 0)for(let s of this.registrations.values())s instanceof za&&s.didChangeNotebookCellTextDocument(r,n)}),Rn.workspace.onDidCloseTextDocument(n=>{if(n.uri.scheme!==t.CellScheme)return;let[i,r]=this.findNotebookDocumentAndCell(n);if(!(i===void 0||r===void 0))for(let s of this.registrations.values())s instanceof za&&s.didCloseNotebookCellTextDocument(i,r)})}getState(){if(this.registrations.size===0)return{kind:"document",id:this.registrationType.method,registrations:!1,matches:!1};for(let e of this.registrations.values()){let n=e.getState();if(n.kind==="document"&&n.registrations===!0&&n.matches===!0)return{kind:"document",id:this.registrationType.method,registrations:!0,matches:!0}}return{kind:"document",id:this.registrationType.method,registrations:!0,matches:!1}}fillClientCapabilities(e){let n=tL(tL(e,"notebookDocument"),"synchronization");n.dynamicRegistration=!0,n.executionSummarySupport=!0}preInitialize(e){let n=e.notebookDocumentSync;n!==void 0&&(this.dedicatedChannel=this.client.protocol2CodeConverter.asDocumentSelector(Kp.asDocumentSelector(n)))}initialize(e){let n=e.notebookDocumentSync;if(n===void 0)return;let i=n.id??Y9.generateUuid();this.register({id:i,registerOptions:n})}register(e){let n=new za(this.client,e.registerOptions);this.registrations.set(e.id,n)}unregister(e){let n=this.registrations.get(e);n&&n.dispose()}clear(){for(let e of this.registrations.values())e.dispose();this.registrations.clear()}handles(e){if(e.uri.scheme!==t.CellScheme)return!1;if(this.dedicatedChannel!==void 0&&Rn.languages.match(this.dedicatedChannel,e)>0)return!0;for(let n of this.registrations.values())if(n.handles(e))return!0;return!1}getProvider(e){for(let n of this.registrations.values())if(n.handles(e.document))return n}findNotebookDocumentAndCell(e){let n=e.uri.toString();for(let i of Rn.workspace.notebookDocuments)for(let r of i.getCells())if(r.document.uri.toString()===n)return[i,r];return[void 0,void 0]}};Vp.NotebookDocumentSyncFeature=Hp;Hp.CellScheme="vscode-notebook-cell"});var rL=F(_s=>{"use strict";Object.defineProperty(_s,"__esModule",{value:!0});_s.SyncConfigurationFeature=_s.toJSONObject=_s.ConfigurationFeature=void 0;var Ga=require("vscode"),il=_e(),Q9=Oi(),Z9=Pt(),iL=Qe(),rD=class{constructor(e){this._client=e}getState(){return{kind:"static"}}fillClientCapabilities(e){e.workspace=e.workspace||{},e.workspace.configuration=!0}initialize(){let e=this._client;e.onRequest(il.ConfigurationRequest.type,(n,i)=>{let r=o=>{let a=[];for(let c of o.items){let l=c.scopeUri!==void 0&&c.scopeUri!==null?this._client.protocol2CodeConverter.asUri(c.scopeUri):void 0;a.push(this.getConfiguration(l,c.section!==null?c.section:void 0))}return a},s=e.middleware.workspace;return s&&s.configuration?s.configuration(n,i,r):r(n,i)})}getConfiguration(e,n){let i=null;if(n){let r=n.lastIndexOf(".");if(r===-1)i=Po(Ga.workspace.getConfiguration(void 0,e).get(n));else{let s=Ga.workspace.getConfiguration(n.substr(0,r),e);s&&(i=Po(s.get(n.substr(r+1))))}}else{let r=Ga.workspace.getConfiguration(void 0,e);i={};for(let s of Object.keys(r))r.has(s)&&(i[s]=Po(r.get(s)))}return i===void 0&&(i=null),i}clear(){}};_s.ConfigurationFeature=rD;function Po(t){if(t){if(Array.isArray(t))return t.map(Po);if(typeof t=="object"){let e=Object.create(null);for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=Po(t[n]));return e}}return t}_s.toJSONObject=Po;var sD=class{constructor(e){this._client=e,this.isCleared=!1,this._listeners=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._listeners.size>0}}get registrationType(){return il.DidChangeConfigurationNotification.type}fillClientCapabilities(e){(0,iL.ensure)((0,iL.ensure)(e,"workspace"),"didChangeConfiguration").dynamicRegistration=!0}initialize(){this.isCleared=!1;let e=this._client.clientOptions.synchronize?.configurationSection;e!==void 0&&this.register({id:Z9.generateUuid(),registerOptions:{section:e}})}register(e){let n=Ga.workspace.onDidChangeConfiguration(i=>{this.onDidChangeConfiguration(e.registerOptions.section,i)});this._listeners.set(e.id,n),e.registerOptions.section!==void 0&&this.onDidChangeConfiguration(e.registerOptions.section,void 0)}unregister(e){let n=this._listeners.get(e);n&&(this._listeners.delete(e),n.dispose())}clear(){for(let e of this._listeners.values())e.dispose();this._listeners.clear(),this.isCleared=!0}onDidChangeConfiguration(e,n){if(this.isCleared)return;let i;if(Q9.string(e)?i=[e]:i=e,i!==void 0&&n!==void 0&&!i.some(a=>n.affectsConfiguration(a)))return;let r=async o=>o===void 0?this._client.sendNotification(il.DidChangeConfigurationNotification.type,{settings:null}):this._client.sendNotification(il.DidChangeConfigurationNotification.type,{settings:this.extractSettingsInformation(o)}),s=this._client.middleware.workspace?.didChangeConfiguration;(s?s(i,r):r(i)).catch(o=>{this._client.error(`Sending notification ${il.DidChangeConfigurationNotification.type.method} failed`,o)})}extractSettingsInformation(e){function n(s,o){let a=s;for(let c=0;c<o.length-1;c++){let l=a[o[c]];l||(l=Object.create(null),a[o[c]]=l),a=l}return a}let i=this._client.clientOptions.workspaceFolder?this._client.clientOptions.workspaceFolder.uri:void 0,r=Object.create(null);for(let s=0;s<e.length;s++){let o=e[s],a=o.indexOf("."),c=null;if(a>=0?c=Ga.workspace.getConfiguration(o.substr(0,a),i).get(o.substr(a+1)):c=Ga.workspace.getConfiguration(void 0,i).get(o),c){let l=e[s].split(".");n(r,l)[l[l.length-1]]=Po(c)}}return r}};_s.SyncConfigurationFeature=sD});var sL=F(ai=>{"use strict";Object.defineProperty(ai,"__esModule",{value:!0});ai.DidSaveTextDocumentFeature=ai.WillSaveWaitUntilFeature=ai.WillSaveFeature=ai.DidChangeTextDocumentFeature=ai.DidCloseTextDocumentFeature=ai.DidOpenTextDocumentFeature=void 0;var bi=require("vscode"),Ct=_e(),qt=Qe(),Ja=Pt(),oD=class extends qt.TextDocumentEventFeature{constructor(e,n){super(e,bi.workspace.onDidOpenTextDocument,Ct.DidOpenTextDocumentNotification.type,()=>e.middleware.didOpen,i=>e.code2ProtocolConverter.asOpenTextDocumentParams(i),i=>i,qt.TextDocumentEventFeature.textDocumentFilter),this._syncedDocuments=n}get openDocuments(){return this._syncedDocuments.values()}fillClientCapabilities(e){(0,qt.ensure)((0,qt.ensure)(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,n){let i=e.resolvedTextDocumentSync;n&&i&&i.openClose&&this.register({id:Ja.generateUuid(),registerOptions:{documentSelector:n}})}get registrationType(){return Ct.DidOpenTextDocumentNotification.type}register(e){if(super.register(e),!e.registerOptions.documentSelector)return;let n=this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector);bi.workspace.textDocuments.forEach(i=>{let r=i.uri.toString();if(!this._syncedDocuments.has(r)&&bi.languages.match(n,i)>0&&!this._client.hasDedicatedTextSynchronizationFeature(i)){let s=this._client.middleware,o=a=>this._client.sendNotification(this._type,this._createParams(a));(s.didOpen?s.didOpen(i,o):o(i)).catch(a=>{this._client.error(`Sending document notification ${this._type.method} failed`,a)}),this._syncedDocuments.set(r,i)}})}getTextDocument(e){return e}notificationSent(e,n,i){this._syncedDocuments.set(e.uri.toString(),e),super.notificationSent(e,n,i)}};ai.DidOpenTextDocumentFeature=oD;var aD=class extends qt.TextDocumentEventFeature{constructor(e,n,i){super(e,bi.workspace.onDidCloseTextDocument,Ct.DidCloseTextDocumentNotification.type,()=>e.middleware.didClose,r=>e.code2ProtocolConverter.asCloseTextDocumentParams(r),r=>r,qt.TextDocumentEventFeature.textDocumentFilter),this._syncedDocuments=n,this._pendingTextDocumentChanges=i}get registrationType(){return Ct.DidCloseTextDocumentNotification.type}fillClientCapabilities(e){(0,qt.ensure)((0,qt.ensure)(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,n){let i=e.resolvedTextDocumentSync;n&&i&&i.openClose&&this.register({id:Ja.generateUuid(),registerOptions:{documentSelector:n}})}async callback(e){await super.callback(e),this._pendingTextDocumentChanges.delete(e.uri.toString())}getTextDocument(e){return e}notificationSent(e,n,i){this._syncedDocuments.delete(e.uri.toString()),super.notificationSent(e,n,i)}unregister(e){let n=this._selectors.get(e);super.unregister(e);let i=this._selectors.values();this._syncedDocuments.forEach(r=>{if(bi.languages.match(n,r)>0&&!this._selectorFilter(i,r)&&!this._client.hasDedicatedTextSynchronizationFeature(r)){let s=this._client.middleware,o=a=>this._client.sendNotification(this._type,this._createParams(a));this._syncedDocuments.delete(r.uri.toString()),(s.didClose?s.didClose(r,o):o(r)).catch(a=>{this._client.error(`Sending document notification ${this._type.method} failed`,a)})}})}};ai.DidCloseTextDocumentFeature=aD;var cD=class extends qt.DynamicDocumentFeature{constructor(e,n){super(e),this._changeData=new Map,this._onNotificationSent=new bi.EventEmitter,this._onPendingChangeAdded=new bi.EventEmitter,this._pendingTextDocumentChanges=n,this._syncKind=Ct.TextDocumentSyncKind.None}get onNotificationSent(){return this._onNotificationSent.event}get onPendingChangeAdded(){return this._onPendingChangeAdded.event}get syncKind(){return this._syncKind}get registrationType(){return Ct.DidChangeTextDocumentNotification.type}fillClientCapabilities(e){(0,qt.ensure)((0,qt.ensure)(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,n){let i=e.resolvedTextDocumentSync;n&&i&&i.change!==void 0&&i.change!==Ct.TextDocumentSyncKind.None&&this.register({id:Ja.generateUuid(),registerOptions:Object.assign({},{documentSelector:n},{syncKind:i.change})})}register(e){e.registerOptions.documentSelector&&(this._listener||(this._listener=bi.workspace.onDidChangeTextDocument(this.callback,this)),this._changeData.set(e.id,{syncKind:e.registerOptions.syncKind,documentSelector:this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector)}),this.updateSyncKind(e.registerOptions.syncKind))}*getDocumentSelectors(){for(let e of this._changeData.values())yield e.documentSelector}async callback(e){if(e.contentChanges.length===0)return;let n=e.document.uri,i=e.document.version,r=[];for(let s of this._changeData.values())if(bi.languages.match(s.documentSelector,e.document)>0&&!this._client.hasDedicatedTextSynchronizationFeature(e.document)){let o=this._client.middleware;if(s.syncKind===Ct.TextDocumentSyncKind.Incremental){let a=async c=>{let l=this._client.code2ProtocolConverter.asChangeTextDocumentParams(c,n,i);await this._client.sendNotification(Ct.DidChangeTextDocumentNotification.type,l),this.notificationSent(c.document,Ct.DidChangeTextDocumentNotification.type,l)};r.push(o.didChange?o.didChange(e,c=>a(c)):a(e))}else if(s.syncKind===Ct.TextDocumentSyncKind.Full){let a=async c=>{let l=c.document.uri.toString();this._pendingTextDocumentChanges.set(l,c.document),this._onPendingChangeAdded.fire()};r.push(o.didChange?o.didChange(e,c=>a(c)):a(e))}}return Promise.all(r).then(void 0,s=>{throw this._client.error(`Sending document notification ${Ct.DidChangeTextDocumentNotification.type.method} failed`,s),s})}notificationSent(e,n,i){this._onNotificationSent.fire({textDocument:e,type:n,params:i})}unregister(e){if(this._changeData.delete(e),this._changeData.size===0)this._listener&&(this._listener.dispose(),this._listener=void 0),this._syncKind=Ct.TextDocumentSyncKind.None;else{this._syncKind=Ct.TextDocumentSyncKind.None;for(let n of this._changeData.values())if(this.updateSyncKind(n.syncKind),this._syncKind===Ct.TextDocumentSyncKind.Full)break}}clear(){this._pendingTextDocumentChanges.clear(),this._changeData.clear(),this._syncKind=Ct.TextDocumentSyncKind.None,this._listener&&(this._listener.dispose(),this._listener=void 0)}getPendingDocumentChanges(e){if(this._pendingTextDocumentChanges.size===0)return[];let n;if(e.size===0)n=Array.from(this._pendingTextDocumentChanges.values()),this._pendingTextDocumentChanges.clear();else{n=[];for(let i of this._pendingTextDocumentChanges)e.has(i[0])||(n.push(i[1]),this._pendingTextDocumentChanges.delete(i[0]))}return n}getProvider(e){for(let n of this._changeData.values())if(bi.languages.match(n.documentSelector,e)>0)return{send:i=>this.callback(i)}}updateSyncKind(e){if(this._syncKind!==Ct.TextDocumentSyncKind.Full)switch(e){case Ct.TextDocumentSyncKind.Full:this._syncKind=e;break;case Ct.TextDocumentSyncKind.Incremental:this._syncKind===Ct.TextDocumentSyncKind.None&&(this._syncKind=Ct.TextDocumentSyncKind.Incremental);break}}};ai.DidChangeTextDocumentFeature=cD;var uD=class extends qt.TextDocumentEventFeature{constructor(e){super(e,bi.workspace.onWillSaveTextDocument,Ct.WillSaveTextDocumentNotification.type,()=>e.middleware.willSave,n=>e.code2ProtocolConverter.asWillSaveTextDocumentParams(n),n=>n.document,(n,i)=>qt.TextDocumentEventFeature.textDocumentFilter(n,i.document))}get registrationType(){return Ct.WillSaveTextDocumentNotification.type}fillClientCapabilities(e){let n=(0,qt.ensure)((0,qt.ensure)(e,"textDocument"),"synchronization");n.willSave=!0}initialize(e,n){let i=e.resolvedTextDocumentSync;n&&i&&i.willSave&&this.register({id:Ja.generateUuid(),registerOptions:{documentSelector:n}})}getTextDocument(e){return e.document}};ai.WillSaveFeature=uD;var lD=class extends qt.DynamicDocumentFeature{constructor(e){super(e),this._selectors=new Map}getDocumentSelectors(){return this._selectors.values()}get registrationType(){return Ct.WillSaveTextDocumentWaitUntilRequest.type}fillClientCapabilities(e){let n=(0,qt.ensure)((0,qt.ensure)(e,"textDocument"),"synchronization");n.willSaveWaitUntil=!0}initialize(e,n){let i=e.resolvedTextDocumentSync;n&&i&&i.willSaveWaitUntil&&this.register({id:Ja.generateUuid(),registerOptions:{documentSelector:n}})}register(e){e.registerOptions.documentSelector&&(this._listener||(this._listener=bi.workspace.onWillSaveTextDocument(this.callback,this)),this._selectors.set(e.id,this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector)))}callback(e){if(qt.TextDocumentEventFeature.textDocumentFilter(this._selectors.values(),e.document)&&!this._client.hasDedicatedTextSynchronizationFeature(e.document)){let n=this._client.middleware,i=r=>this._client.sendRequest(Ct.WillSaveTextDocumentWaitUntilRequest.type,this._client.code2ProtocolConverter.asWillSaveTextDocumentParams(r)).then(async s=>{let o=await this._client.protocol2CodeConverter.asTextEdits(s);return o===void 0?[]:o});e.waitUntil(n.willSaveWaitUntil?n.willSaveWaitUntil(e,i):i(e))}}unregister(e){this._selectors.delete(e),this._selectors.size===0&&this._listener&&(this._listener.dispose(),this._listener=void 0)}clear(){this._selectors.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}};ai.WillSaveWaitUntilFeature=lD;var dD=class extends qt.TextDocumentEventFeature{constructor(e){super(e,bi.workspace.onDidSaveTextDocument,Ct.DidSaveTextDocumentNotification.type,()=>e.middleware.didSave,n=>e.code2ProtocolConverter.asSaveTextDocumentParams(n,this._includeText),n=>n,qt.TextDocumentEventFeature.textDocumentFilter),this._includeText=!1}get registrationType(){return Ct.DidSaveTextDocumentNotification.type}fillClientCapabilities(e){(0,qt.ensure)((0,qt.ensure)(e,"textDocument"),"synchronization").didSave=!0}initialize(e,n){let i=e.resolvedTextDocumentSync;if(n&&i&&i.save){let r=typeof i.save=="boolean"?{includeText:!1}:{includeText:!!i.save.includeText};this.register({id:Ja.generateUuid(),registerOptions:Object.assign({},{documentSelector:n},r)})}}register(e){this._includeText=!!e.registerOptions.includeText,super.register(e)}getTextDocument(e){return e}};ai.DidSaveTextDocumentFeature=dD});var oL=F(zp=>{"use strict";Object.defineProperty(zp,"__esModule",{value:!0});zp.CompletionItemFeature=void 0;var e4=require("vscode"),Ve=_e(),fD=Qe(),t4=Pt(),n4=[Ve.CompletionItemKind.Text,Ve.CompletionItemKind.Method,Ve.CompletionItemKind.Function,Ve.CompletionItemKind.Constructor,Ve.CompletionItemKind.Field,Ve.CompletionItemKind.Variable,Ve.CompletionItemKind.Class,Ve.CompletionItemKind.Interface,Ve.CompletionItemKind.Module,Ve.CompletionItemKind.Property,Ve.CompletionItemKind.Unit,Ve.CompletionItemKind.Value,Ve.CompletionItemKind.Enum,Ve.CompletionItemKind.Keyword,Ve.CompletionItemKind.Snippet,Ve.CompletionItemKind.Color,Ve.CompletionItemKind.File,Ve.CompletionItemKind.Reference,Ve.CompletionItemKind.Folder,Ve.CompletionItemKind.EnumMember,Ve.CompletionItemKind.Constant,Ve.CompletionItemKind.Struct,Ve.CompletionItemKind.Event,Ve.CompletionItemKind.Operator,Ve.CompletionItemKind.TypeParameter],pD=class extends fD.TextDocumentLanguageFeature{constructor(e){super(e,Ve.CompletionRequest.type),this.labelDetailsSupport=new Map}fillClientCapabilities(e){let n=(0,fD.ensure)((0,fD.ensure)(e,"textDocument"),"completion");n.dynamicRegistration=!0,n.contextSupport=!0,n.completionItem={snippetSupport:!0,commitCharactersSupport:!0,documentationFormat:[Ve.MarkupKind.Markdown,Ve.MarkupKind.PlainText],deprecatedSupport:!0,preselectSupport:!0,tagSupport:{valueSet:[Ve.CompletionItemTag.Deprecated]},insertReplaceSupport:!0,resolveSupport:{properties:["documentation","detail","additionalTextEdits"]},insertTextModeSupport:{valueSet:[Ve.InsertTextMode.asIs,Ve.InsertTextMode.adjustIndentation]},labelDetailsSupport:!0},n.insertTextMode=Ve.InsertTextMode.adjustIndentation,n.completionItemKind={valueSet:n4},n.completionList={itemDefaults:["commitCharacters","editRange","insertTextFormat","insertTextMode","data"]}}initialize(e,n){let i=this.getRegistrationOptions(n,e.completionProvider);i&&this.register({id:t4.generateUuid(),registerOptions:i})}registerLanguageProvider(e,n){this.labelDetailsSupport.set(n,!!e.completionItem?.labelDetailsSupport);let i=e.triggerCharacters??[],r=e.allCommitCharacters,s=e.documentSelector,o={provideCompletionItems:(a,c,l,f)=>{let g=this._client,p=this._client.middleware,u=(d,h,m,C)=>g.sendRequest(Ve.CompletionRequest.type,g.code2ProtocolConverter.asCompletionParams(d,h,m),C).then(D=>C.isCancellationRequested?null:g.protocol2CodeConverter.asCompletionResult(D,r,C),D=>g.handleFailedRequest(Ve.CompletionRequest.type,C,D,null));return p.provideCompletionItem?p.provideCompletionItem(a,c,f,l,u):u(a,c,f,l)},resolveCompletionItem:e.resolveProvider?(a,c)=>{let l=this._client,f=this._client.middleware,g=(p,u)=>l.sendRequest(Ve.CompletionResolveRequest.type,l.code2ProtocolConverter.asCompletionItem(p,!!this.labelDetailsSupport.get(n)),u).then(d=>u.isCancellationRequested?null:l.protocol2CodeConverter.asCompletionItem(d),d=>l.handleFailedRequest(Ve.CompletionResolveRequest.type,u,d,p));return f.resolveCompletionItem?f.resolveCompletionItem(a,c,g):g(a,c)}:void 0};return[e4.languages.registerCompletionItemProvider(this._client.protocol2CodeConverter.asDocumentSelector(s),o,...i),o]}};zp.CompletionItemFeature=pD});var aL=F(Gp=>{"use strict";Object.defineProperty(Gp,"__esModule",{value:!0});Gp.HoverFeature=void 0;var i4=require("vscode"),rl=_e(),hD=Qe(),r4=Pt(),gD=class extends hD.TextDocumentLanguageFeature{constructor(e){super(e,rl.HoverRequest.type)}fillClientCapabilities(e){let n=(0,hD.ensure)((0,hD.ensure)(e,"textDocument"),"hover");n.dynamicRegistration=!0,n.contentFormat=[rl.MarkupKind.Markdown,rl.MarkupKind.PlainText]}initialize(e,n){let i=this.getRegistrationOptions(n,e.hoverProvider);i&&this.register({id:r4.generateUuid(),registerOptions:i})}registerLanguageProvider(e){let n=e.documentSelector,i={provideHover:(r,s,o)=>{let a=this._client,c=(f,g,p)=>a.sendRequest(rl.HoverRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(f,g),p).then(u=>p.isCancellationRequested?null:a.protocol2CodeConverter.asHover(u),u=>a.handleFailedRequest(rl.HoverRequest.type,p,u,null)),l=a.middleware;return l.provideHover?l.provideHover(r,s,o,c):c(r,s,o)}};return[this.registerProvider(n,i),i]}registerProvider(e,n){return i4.languages.registerHoverProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),n)}};Gp.HoverFeature=gD});var cL=F(Jp=>{"use strict";Object.defineProperty(Jp,"__esModule",{value:!0});Jp.DefinitionFeature=void 0;var s4=require("vscode"),mD=_e(),yD=Qe(),o4=Pt(),CD=class extends yD.TextDocumentLanguageFeature{constructor(e){super(e,mD.DefinitionRequest.type)}fillClientCapabilities(e){let n=(0,yD.ensure)((0,yD.ensure)(e,"textDocument"),"definition");n.dynamicRegistration=!0,n.linkSupport=!0}initialize(e,n){let i=this.getRegistrationOptions(n,e.definitionProvider);i&&this.register({id:o4.generateUuid(),registerOptions:i})}registerLanguageProvider(e){let n=e.documentSelector,i={provideDefinition:(r,s,o)=>{let a=this._client,c=(f,g,p)=>a.sendRequest(mD.DefinitionRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(f,g),p).then(u=>p.isCancellationRequested?null:a.protocol2CodeConverter.asDefinitionResult(u,p),u=>a.handleFailedRequest(mD.DefinitionRequest.type,p,u,null)),l=a.middleware;return l.provideDefinition?l.provideDefinition(r,s,o,c):c(r,s,o)}};return[this.registerProvider(n,i),i]}registerProvider(e,n){return s4.languages.registerDefinitionProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),n)}};Jp.DefinitionFeature=CD});var lL=F(Xp=>{"use strict";Object.defineProperty(Xp,"__esModule",{value:!0});Xp.SignatureHelpFeature=void 0;var uL=require("vscode"),sl=_e(),vD=Qe(),a4=Pt(),SD=class extends vD.TextDocumentLanguageFeature{constructor(e){super(e,sl.SignatureHelpRequest.type)}fillClientCapabilities(e){let n=(0,vD.ensure)((0,vD.ensure)(e,"textDocument"),"signatureHelp");n.dynamicRegistration=!0,n.signatureInformation={documentationFormat:[sl.MarkupKind.Markdown,sl.MarkupKind.PlainText]},n.signatureInformation.parameterInformation={labelOffsetSupport:!0},n.signatureInformation.activeParameterSupport=!0,n.contextSupport=!0}initialize(e,n){let i=this.getRegistrationOptions(n,e.signatureHelpProvider);i&&this.register({id:a4.generateUuid(),registerOptions:i})}registerLanguageProvider(e){let n={provideSignatureHelp:(i,r,s,o)=>{let a=this._client,c=(f,g,p,u)=>a.sendRequest(sl.SignatureHelpRequest.type,a.code2ProtocolConverter.asSignatureHelpParams(f,g,p),u).then(d=>u.isCancellationRequested?null:a.protocol2CodeConverter.asSignatureHelp(d,u),d=>a.handleFailedRequest(sl.SignatureHelpRequest.type,u,d,null)),l=a.middleware;return l.provideSignatureHelp?l.provideSignatureHelp(i,r,o,s,c):c(i,r,o,s)}};return[this.registerProvider(e,n),n]}registerProvider(e,n){let i=this._client.protocol2CodeConverter.asDocumentSelector(e.documentSelector);if(e.retriggerCharacters===void 0){let r=e.triggerCharacters||[];return uL.languages.registerSignatureHelpProvider(i,n,...r)}else{let r={triggerCharacters:e.triggerCharacters||[],retriggerCharacters:e.retriggerCharacters||[]};return uL.languages.registerSignatureHelpProvider(i,n,r)}}};Xp.SignatureHelpFeature=SD});var dL=F(Yp=>{"use strict";Object.defineProperty(Yp,"__esModule",{value:!0});Yp.DocumentHighlightFeature=void 0;var c4=require("vscode"),bD=_e(),DD=Qe(),u4=Pt(),TD=class extends DD.TextDocumentLanguageFeature{constructor(e){super(e,bD.DocumentHighlightRequest.type)}fillClientCapabilities(e){(0,DD.ensure)((0,DD.ensure)(e,"textDocument"),"documentHighlight").dynamicRegistration=!0}initialize(e,n){let i=this.getRegistrationOptions(n,e.documentHighlightProvider);i&&this.register({id:u4.generateUuid(),registerOptions:i})}registerLanguageProvider(e){let n=e.documentSelector,i={provideDocumentHighlights:(r,s,o)=>{let a=this._client,c=(f,g,p)=>a.sendRequest(bD.DocumentHighlightRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(f,g),p).then(u=>p.isCancellationRequested?null:a.protocol2CodeConverter.asDocumentHighlights(u,p),u=>a.handleFailedRequest(bD.DocumentHighlightRequest.type,p,u,null)),l=a.middleware;return l.provideDocumentHighlights?l.provideDocumentHighlights(r,s,o,c):c(r,s,o)}};return[c4.languages.registerDocumentHighlightProvider(this._client.protocol2CodeConverter.asDocumentSelector(n),i),i]}};Yp.DocumentHighlightFeature=TD});var ED=F(Ar=>{"use strict";Object.defineProperty(Ar,"__esModule",{value:!0});Ar.DocumentSymbolFeature=Ar.SupportedSymbolTags=Ar.SupportedSymbolKinds=void 0;var l4=require("vscode"),ot=_e(),wD=Qe(),d4=Pt();Ar.SupportedSymbolKinds=[ot.SymbolKind.File,ot.SymbolKind.Module,ot.SymbolKind.Namespace,ot.SymbolKind.Package,ot.SymbolKind.Class,ot.SymbolKind.Method,ot.SymbolKind.Property,ot.SymbolKind.Field,ot.SymbolKind.Constructor,ot.SymbolKind.Enum,ot.SymbolKind.Interface,ot.SymbolKind.Function,ot.SymbolKind.Variable,ot.SymbolKind.Constant,ot.SymbolKind.String,ot.SymbolKind.Number,ot.SymbolKind.Boolean,ot.SymbolKind.Array,ot.SymbolKind.Object,ot.SymbolKind.Key,ot.SymbolKind.Null,ot.SymbolKind.EnumMember,ot.SymbolKind.Struct,ot.SymbolKind.Event,ot.SymbolKind.Operator,ot.SymbolKind.TypeParameter];Ar.SupportedSymbolTags=[ot.SymbolTag.Deprecated];var xD=class extends wD.TextDocumentLanguageFeature{constructor(e){super(e,ot.DocumentSymbolRequest.type)}fillClientCapabilities(e){let n=(0,wD.ensure)((0,wD.ensure)(e,"textDocument"),"documentSymbol");n.dynamicRegistration=!0,n.symbolKind={valueSet:Ar.SupportedSymbolKinds},n.hierarchicalDocumentSymbolSupport=!0,n.tagSupport={valueSet:Ar.SupportedSymbolTags},n.labelSupport=!0}initialize(e,n){let i=this.getRegistrationOptions(n,e.documentSymbolProvider);i&&this.register({id:d4.generateUuid(),registerOptions:i})}registerLanguageProvider(e){let n=e.documentSelector,i={provideDocumentSymbols:(s,o)=>{let a=this._client,c=async(f,g)=>{try{let p=await a.sendRequest(ot.DocumentSymbolRequest.type,a.code2ProtocolConverter.asDocumentSymbolParams(f),g);if(g.isCancellationRequested||p===void 0||p===null)return null;if(p.length===0)return[];{let u=p[0];return ot.DocumentSymbol.is(u)?await a.protocol2CodeConverter.asDocumentSymbols(p,g):await a.protocol2CodeConverter.asSymbolInformations(p,g)}}catch(p){return a.handleFailedRequest(ot.DocumentSymbolRequest.type,g,p,null)}},l=a.middleware;return l.provideDocumentSymbols?l.provideDocumentSymbols(s,o,c):c(s,o)}},r=e.label!==void 0?{label:e.label}:void 0;return[l4.languages.registerDocumentSymbolProvider(this._client.protocol2CodeConverter.asDocumentSelector(n),i,r),i]}};Ar.DocumentSymbolFeature=xD});var pL=F(Qp=>{"use strict";Object.defineProperty(Qp,"__esModule",{value:!0});Qp.WorkspaceSymbolFeature=void 0;var f4=require("vscode"),ol=_e(),kD=Qe(),fL=ED(),p4=Pt(),FD=class extends kD.WorkspaceFeature{constructor(e){super(e,ol.WorkspaceSymbolRequest.type)}fillClientCapabilities(e){let n=(0,kD.ensure)((0,kD.ensure)(e,"workspace"),"symbol");n.dynamicRegistration=!0,n.symbolKind={valueSet:fL.SupportedSymbolKinds},n.tagSupport={valueSet:fL.SupportedSymbolTags},n.resolveSupport={properties:["location.range"]}}initialize(e){e.workspaceSymbolProvider&&this.register({id:p4.generateUuid(),registerOptions:e.workspaceSymbolProvider===!0?{workDoneProgress:!1}:e.workspaceSymbolProvider})}registerLanguageProvider(e){let n={provideWorkspaceSymbols:(i,r)=>{let s=this._client,o=(c,l)=>s.sendRequest(ol.WorkspaceSymbolRequest.type,{query:c},l).then(f=>l.isCancellationRequested?null:s.protocol2CodeConverter.asSymbolInformations(f,l),f=>s.handleFailedRequest(ol.WorkspaceSymbolRequest.type,l,f,null)),a=s.middleware;return a.provideWorkspaceSymbols?a.provideWorkspaceSymbols(i,r,o):o(i,r)},resolveWorkspaceSymbol:e.resolveProvider===!0?(i,r)=>{let s=this._client,o=(c,l)=>s.sendRequest(ol.WorkspaceSymbolResolveRequest.type,s.code2ProtocolConverter.asWorkspaceSymbol(c),l).then(f=>l.isCancellationRequested?null:s.protocol2CodeConverter.asSymbolInformation(f),f=>s.handleFailedRequest(ol.WorkspaceSymbolResolveRequest.type,l,f,null)),a=s.middleware;return a.resolveWorkspaceSymbol?a.resolveWorkspaceSymbol(i,r,o):o(i,r)}:void 0};return[f4.languages.registerWorkspaceSymbolProvider(n),n]}};Qp.WorkspaceSymbolFeature=FD});var hL=F(Zp=>{"use strict";Object.defineProperty(Zp,"__esModule",{value:!0});Zp.ReferencesFeature=void 0;var h4=require("vscode"),PD=_e(),RD=Qe(),g4=Pt(),AD=class extends RD.TextDocumentLanguageFeature{constructor(e){super(e,PD.ReferencesRequest.type)}fillClientCapabilities(e){(0,RD.ensure)((0,RD.ensure)(e,"textDocument"),"references").dynamicRegistration=!0}initialize(e,n){let i=this.getRegistrationOptions(n,e.referencesProvider);i&&this.register({id:g4.generateUuid(),registerOptions:i})}registerLanguageProvider(e){let n=e.documentSelector,i={provideReferences:(r,s,o,a)=>{let c=this._client,l=(g,p,u,d)=>c.sendRequest(PD.ReferencesRequest.type,c.code2ProtocolConverter.asReferenceParams(g,p,u),d).then(h=>d.isCancellationRequested?null:c.protocol2CodeConverter.asReferences(h,d),h=>c.handleFailedRequest(PD.ReferencesRequest.type,d,h,null)),f=c.middleware;return f.provideReferences?f.provideReferences(r,s,o,a,l):l(r,s,o,a)}};return[this.registerProvider(n,i),i]}registerProvider(e,n){return h4.languages.registerReferenceProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),n)}};Zp.ReferencesFeature=AD});var gL=F(eh=>{"use strict";Object.defineProperty(eh,"__esModule",{value:!0});eh.CodeActionFeature=void 0;var m4=require("vscode"),Di=_e(),y4=Pt(),ID=Qe(),_D=class extends ID.TextDocumentLanguageFeature{constructor(e){super(e,Di.CodeActionRequest.type)}fillClientCapabilities(e){let n=(0,ID.ensure)((0,ID.ensure)(e,"textDocument"),"codeAction");n.dynamicRegistration=!0,n.isPreferredSupport=!0,n.disabledSupport=!0,n.dataSupport=!0,n.resolveSupport={properties:["edit"]},n.codeActionLiteralSupport={codeActionKind:{valueSet:[Di.CodeActionKind.Empty,Di.CodeActionKind.QuickFix,Di.CodeActionKind.Refactor,Di.CodeActionKind.RefactorExtract,Di.CodeActionKind.RefactorInline,Di.CodeActionKind.RefactorRewrite,Di.CodeActionKind.Source,Di.CodeActionKind.SourceOrganizeImports]}},n.honorsChangeAnnotations=!0}initialize(e,n){let i=this.getRegistrationOptions(n,e.codeActionProvider);i&&this.register({id:y4.generateUuid(),registerOptions:i})}registerLanguageProvider(e){let n=e.documentSelector,i={provideCodeActions:(r,s,o,a)=>{let c=this._client,l=async(g,p,u,d)=>{let h={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(g),range:c.code2ProtocolConverter.asRange(p),context:c.code2ProtocolConverter.asCodeActionContextSync(u)};return c.sendRequest(Di.CodeActionRequest.type,h,d).then(m=>d.isCancellationRequested||m===null||m===void 0?null:c.protocol2CodeConverter.asCodeActionResult(m,d),m=>c.handleFailedRequest(Di.CodeActionRequest.type,d,m,null))},f=c.middleware;return f.provideCodeActions?f.provideCodeActions(r,s,o,a,l):l(r,s,o,a)},resolveCodeAction:e.resolveProvider?(r,s)=>{let o=this._client,a=this._client.middleware,c=async(l,f)=>o.sendRequest(Di.CodeActionResolveRequest.type,o.code2ProtocolConverter.asCodeActionSync(l),f).then(g=>f.isCancellationRequested?l:o.protocol2CodeConverter.asCodeAction(g,f),g=>o.handleFailedRequest(Di.CodeActionResolveRequest.type,f,g,l));return a.resolveCodeAction?a.resolveCodeAction(r,s,c):c(r,s)}:void 0};return[m4.languages.registerCodeActionsProvider(this._client.protocol2CodeConverter.asDocumentSelector(n),i,e.codeActionKinds?{providedCodeActionKinds:this._client.protocol2CodeConverter.asCodeActionKinds(e.codeActionKinds)}:void 0),i]}};eh.CodeActionFeature=_D});var yL=F(th=>{"use strict";Object.defineProperty(th,"__esModule",{value:!0});th.CodeLensFeature=void 0;var mL=require("vscode"),Xa=_e(),C4=Pt(),al=Qe(),ND=class extends al.TextDocumentLanguageFeature{constructor(e){super(e,Xa.CodeLensRequest.type)}fillClientCapabilities(e){(0,al.ensure)((0,al.ensure)(e,"textDocument"),"codeLens").dynamicRegistration=!0,(0,al.ensure)((0,al.ensure)(e,"workspace"),"codeLens").refreshSupport=!0}initialize(e,n){this._client.onRequest(Xa.CodeLensRefreshRequest.type,async()=>{for(let s of this.getAllProviders())s.onDidChangeCodeLensEmitter.fire()});let r=this.getRegistrationOptions(n,e.codeLensProvider);r&&this.register({id:C4.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let n=e.documentSelector,i=new mL.EventEmitter,r={onDidChangeCodeLenses:i.event,provideCodeLenses:(s,o)=>{let a=this._client,c=(f,g)=>a.sendRequest(Xa.CodeLensRequest.type,a.code2ProtocolConverter.asCodeLensParams(f),g).then(p=>g.isCancellationRequested?null:a.protocol2CodeConverter.asCodeLenses(p,g),p=>a.handleFailedRequest(Xa.CodeLensRequest.type,g,p,null)),l=a.middleware;return l.provideCodeLenses?l.provideCodeLenses(s,o,c):c(s,o)},resolveCodeLens:e.resolveProvider?(s,o)=>{let a=this._client,c=(f,g)=>a.sendRequest(Xa.CodeLensResolveRequest.type,a.code2ProtocolConverter.asCodeLens(f),g).then(p=>g.isCancellationRequested?f:a.protocol2CodeConverter.asCodeLens(p),p=>a.handleFailedRequest(Xa.CodeLensResolveRequest.type,g,p,f)),l=a.middleware;return l.resolveCodeLens?l.resolveCodeLens(s,o,c):c(s,o)}:void 0};return[mL.languages.registerCodeLensProvider(this._client.protocol2CodeConverter.asDocumentSelector(n),r),{provider:r,onDidChangeCodeLensEmitter:i}]}};th.CodeLensFeature=ND});var CL=F(Ns=>{"use strict";Object.defineProperty(Ns,"__esModule",{value:!0});Ns.DocumentOnTypeFormattingFeature=Ns.DocumentRangeFormattingFeature=Ns.DocumentFormattingFeature=void 0;var nh=require("vscode"),ir=_e(),qD=Pt(),Jr=Qe(),Ya;(function(t){function e(n){let i=nh.workspace.getConfiguration("files",n);return{trimTrailingWhitespace:i.get("trimTrailingWhitespace"),trimFinalNewlines:i.get("trimFinalNewlines"),insertFinalNewline:i.get("insertFinalNewline")}}t.fromConfiguration=e})(Ya||(Ya={}));var LD=class extends Jr.TextDocumentLanguageFeature{constructor(e){super(e,ir.DocumentFormattingRequest.type)}fillClientCapabilities(e){(0,Jr.ensure)((0,Jr.ensure)(e,"textDocument"),"formatting").dynamicRegistration=!0}initialize(e,n){let i=this.getRegistrationOptions(n,e.documentFormattingProvider);i&&this.register({id:qD.generateUuid(),registerOptions:i})}registerLanguageProvider(e){let n=e.documentSelector,i={provideDocumentFormattingEdits:(r,s,o)=>{let a=this._client,c=(f,g,p)=>{let u={textDocument:a.code2ProtocolConverter.asTextDocumentIdentifier(f),options:a.code2ProtocolConverter.asFormattingOptions(g,Ya.fromConfiguration(f))};return a.sendRequest(ir.DocumentFormattingRequest.type,u,p).then(d=>p.isCancellationRequested?null:a.protocol2CodeConverter.asTextEdits(d,p),d=>a.handleFailedRequest(ir.DocumentFormattingRequest.type,p,d,null))},l=a.middleware;return l.provideDocumentFormattingEdits?l.provideDocumentFormattingEdits(r,s,o,c):c(r,s,o)}};return[nh.languages.registerDocumentFormattingEditProvider(this._client.protocol2CodeConverter.asDocumentSelector(n),i),i]}};Ns.DocumentFormattingFeature=LD;var OD=class extends Jr.TextDocumentLanguageFeature{constructor(e){super(e,ir.DocumentRangeFormattingRequest.type)}fillClientCapabilities(e){let n=(0,Jr.ensure)((0,Jr.ensure)(e,"textDocument"),"rangeFormatting");n.dynamicRegistration=!0,n.rangesSupport=!0}initialize(e,n){let i=this.getRegistrationOptions(n,e.documentRangeFormattingProvider);i&&this.register({id:qD.generateUuid(),registerOptions:i})}registerLanguageProvider(e){let n=e.documentSelector,i={provideDocumentRangeFormattingEdits:(r,s,o,a)=>{let c=this._client,l=(g,p,u,d)=>{let h={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(g),range:c.code2ProtocolConverter.asRange(p),options:c.code2ProtocolConverter.asFormattingOptions(u,Ya.fromConfiguration(g))};return c.sendRequest(ir.DocumentRangeFormattingRequest.type,h,d).then(m=>d.isCancellationRequested?null:c.protocol2CodeConverter.asTextEdits(m,d),m=>c.handleFailedRequest(ir.DocumentRangeFormattingRequest.type,d,m,null))},f=c.middleware;return f.provideDocumentRangeFormattingEdits?f.provideDocumentRangeFormattingEdits(r,s,o,a,l):l(r,s,o,a)}};return e.rangesSupport&&(i.provideDocumentRangesFormattingEdits=(r,s,o,a)=>{let c=this._client,l=(g,p,u,d)=>{let h={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(g),ranges:c.code2ProtocolConverter.asRanges(p),options:c.code2ProtocolConverter.asFormattingOptions(u,Ya.fromConfiguration(g))};return c.sendRequest(ir.DocumentRangesFormattingRequest.type,h,d).then(m=>d.isCancellationRequested?null:c.protocol2CodeConverter.asTextEdits(m,d),m=>c.handleFailedRequest(ir.DocumentRangesFormattingRequest.type,d,m,null))},f=c.middleware;return f.provideDocumentRangesFormattingEdits?f.provideDocumentRangesFormattingEdits(r,s,o,a,l):l(r,s,o,a)}),[nh.languages.registerDocumentRangeFormattingEditProvider(this._client.protocol2CodeConverter.asDocumentSelector(n),i),i]}};Ns.DocumentRangeFormattingFeature=OD;var MD=class extends Jr.TextDocumentLanguageFeature{constructor(e){super(e,ir.DocumentOnTypeFormattingRequest.type)}fillClientCapabilities(e){(0,Jr.ensure)((0,Jr.ensure)(e,"textDocument"),"onTypeFormatting").dynamicRegistration=!0}initialize(e,n){let i=this.getRegistrationOptions(n,e.documentOnTypeFormattingProvider);i&&this.register({id:qD.generateUuid(),registerOptions:i})}registerLanguageProvider(e){let n=e.documentSelector,i={provideOnTypeFormattingEdits:(s,o,a,c,l)=>{let f=this._client,g=(u,d,h,m,C)=>{let D={textDocument:f.code2ProtocolConverter.asTextDocumentIdentifier(u),position:f.code2ProtocolConverter.asPosition(d),ch:h,options:f.code2ProtocolConverter.asFormattingOptions(m,Ya.fromConfiguration(u))};return f.sendRequest(ir.DocumentOnTypeFormattingRequest.type,D,C).then(w=>C.isCancellationRequested?null:f.protocol2CodeConverter.asTextEdits(w,C),w=>f.handleFailedRequest(ir.DocumentOnTypeFormattingRequest.type,C,w,null))},p=f.middleware;return p.provideOnTypeFormattingEdits?p.provideOnTypeFormattingEdits(s,o,a,c,l,g):g(s,o,a,c,l)}},r=e.moreTriggerCharacter||[];return[nh.languages.registerOnTypeFormattingEditProvider(this._client.protocol2CodeConverter.asDocumentSelector(n),i,e.firstTriggerCharacter,...r),i]}};Ns.DocumentOnTypeFormattingFeature=MD});var SL=F(ih=>{"use strict";Object.defineProperty(ih,"__esModule",{value:!0});ih.RenameFeature=void 0;var v4=require("vscode"),Ro=_e(),S4=Pt(),vL=Oi(),UD=Qe(),jD=class extends UD.TextDocumentLanguageFeature{constructor(e){super(e,Ro.RenameRequest.type)}fillClientCapabilities(e){let n=(0,UD.ensure)((0,UD.ensure)(e,"textDocument"),"rename");n.dynamicRegistration=!0,n.prepareSupport=!0,n.prepareSupportDefaultBehavior=Ro.PrepareSupportDefaultBehavior.Identifier,n.honorsChangeAnnotations=!0}initialize(e,n){let i=this.getRegistrationOptions(n,e.renameProvider);i&&(vL.boolean(e.renameProvider)&&(i.prepareProvider=!1),this.register({id:S4.generateUuid(),registerOptions:i}))}registerLanguageProvider(e){let n=e.documentSelector,i={provideRenameEdits:(r,s,o,a)=>{let c=this._client,l=(g,p,u,d)=>{let h={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(g),position:c.code2ProtocolConverter.asPosition(p),newName:u};return c.sendRequest(Ro.RenameRequest.type,h,d).then(m=>d.isCancellationRequested?null:c.protocol2CodeConverter.asWorkspaceEdit(m,d),m=>c.handleFailedRequest(Ro.RenameRequest.type,d,m,null,!1))},f=c.middleware;return f.provideRenameEdits?f.provideRenameEdits(r,s,o,a,l):l(r,s,o,a)},prepareRename:e.prepareProvider?(r,s,o)=>{let a=this._client,c=(f,g,p)=>{let u={textDocument:a.code2ProtocolConverter.asTextDocumentIdentifier(f),position:a.code2ProtocolConverter.asPosition(g)};return a.sendRequest(Ro.PrepareRenameRequest.type,u,p).then(d=>p.isCancellationRequested?null:Ro.Range.is(d)?a.protocol2CodeConverter.asRange(d):this.isDefaultBehavior(d)?d.defaultBehavior===!0?null:Promise.reject(new Error("The element can't be renamed.")):d&&Ro.Range.is(d.range)?{range:a.protocol2CodeConverter.asRange(d.range),placeholder:d.placeholder}:Promise.reject(new Error("The element can't be renamed.")),d=>{throw typeof d.message=="string"?new Error(d.message):new Error("The element can't be renamed.")})},l=a.middleware;return l.prepareRename?l.prepareRename(r,s,o,c):c(r,s,o)}:void 0};return[this.registerProvider(n,i),i]}registerProvider(e,n){return v4.languages.registerRenameProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),n)}isDefaultBehavior(e){let n=e;return n&&vL.boolean(n.defaultBehavior)}};ih.RenameFeature=jD});var bL=F(rh=>{"use strict";Object.defineProperty(rh,"__esModule",{value:!0});rh.DocumentLinkFeature=void 0;var b4=require("vscode"),cl=_e(),BD=Qe(),D4=Pt(),WD=class extends BD.TextDocumentLanguageFeature{constructor(e){super(e,cl.DocumentLinkRequest.type)}fillClientCapabilities(e){let n=(0,BD.ensure)((0,BD.ensure)(e,"textDocument"),"documentLink");n.dynamicRegistration=!0,n.tooltipSupport=!0}initialize(e,n){let i=this.getRegistrationOptions(n,e.documentLinkProvider);i&&this.register({id:D4.generateUuid(),registerOptions:i})}registerLanguageProvider(e){let n=e.documentSelector,i={provideDocumentLinks:(r,s)=>{let o=this._client,a=(l,f)=>o.sendRequest(cl.DocumentLinkRequest.type,o.code2ProtocolConverter.asDocumentLinkParams(l),f).then(g=>f.isCancellationRequested?null:o.protocol2CodeConverter.asDocumentLinks(g,f),g=>o.handleFailedRequest(cl.DocumentLinkRequest.type,f,g,null)),c=o.middleware;return c.provideDocumentLinks?c.provideDocumentLinks(r,s,a):a(r,s)},resolveDocumentLink:e.resolveProvider?(r,s)=>{let o=this._client,a=(l,f)=>o.sendRequest(cl.DocumentLinkResolveRequest.type,o.code2ProtocolConverter.asDocumentLink(l),f).then(g=>f.isCancellationRequested?l:o.protocol2CodeConverter.asDocumentLink(g),g=>o.handleFailedRequest(cl.DocumentLinkResolveRequest.type,f,g,l)),c=o.middleware;return c.resolveDocumentLink?c.resolveDocumentLink(r,s,a):a(r,s)}:void 0};return[b4.languages.registerDocumentLinkProvider(this._client.protocol2CodeConverter.asDocumentSelector(n),i),i]}};rh.DocumentLinkFeature=WD});var TL=F(sh=>{"use strict";Object.defineProperty(sh,"__esModule",{value:!0});sh.ExecuteCommandFeature=void 0;var T4=require("vscode"),KD=_e(),w4=Pt(),DL=Qe(),$D=class{constructor(e){this._client=e,this._commands=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._commands.size>0}}get registrationType(){return KD.ExecuteCommandRequest.type}fillClientCapabilities(e){(0,DL.ensure)((0,DL.ensure)(e,"workspace"),"executeCommand").dynamicRegistration=!0}initialize(e){e.executeCommandProvider&&this.register({id:w4.generateUuid(),registerOptions:Object.assign({},e.executeCommandProvider)})}register(e){let n=this._client,i=n.middleware,r=(s,o)=>{let a={command:s,arguments:o};return n.sendRequest(KD.ExecuteCommandRequest.type,a).then(void 0,c=>n.handleFailedRequest(KD.ExecuteCommandRequest.type,void 0,c,void 0))};if(e.registerOptions.commands){let s=[];for(let o of e.registerOptions.commands)s.push(T4.commands.registerCommand(o,(...a)=>i.executeCommand?i.executeCommand(o,a,r):r(o,a)));this._commands.set(e.id,s)}}unregister(e){let n=this._commands.get(e);n&&n.forEach(i=>i.dispose())}clear(){this._commands.forEach(e=>{e.forEach(n=>n.dispose())}),this._commands.clear()}};sh.ExecuteCommandFeature=$D});var wL=F(ah=>{"use strict";Object.defineProperty(ah,"__esModule",{value:!0});ah.FileSystemWatcherFeature=void 0;var x4=require("vscode"),Ao=_e(),oh=Qe(),HD=class{constructor(e,n){this._client=e,this._notifyFileEvent=n,this._watchers=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._watchers.size>0}}get registrationType(){return Ao.DidChangeWatchedFilesNotification.type}fillClientCapabilities(e){(0,oh.ensure)((0,oh.ensure)(e,"workspace"),"didChangeWatchedFiles").dynamicRegistration=!0,(0,oh.ensure)((0,oh.ensure)(e,"workspace"),"didChangeWatchedFiles").relativePatternSupport=!0}initialize(e,n){}register(e){if(!Array.isArray(e.registerOptions.watchers))return;let n=[];for(let i of e.registerOptions.watchers){let r=this._client.protocol2CodeConverter.asGlobPattern(i.globPattern);if(r===void 0)continue;let s=!0,o=!0,a=!0;i.kind!==void 0&&i.kind!==null&&(s=(i.kind&Ao.WatchKind.Create)!==0,o=(i.kind&Ao.WatchKind.Change)!==0,a=(i.kind&Ao.WatchKind.Delete)!==0);let c=x4.workspace.createFileSystemWatcher(r,!s,!o,!a);this.hookListeners(c,s,o,a,n),n.push(c)}this._watchers.set(e.id,n)}registerRaw(e,n){let i=[];for(let r of n)this.hookListeners(r,!0,!0,!0,i);this._watchers.set(e,i)}hookListeners(e,n,i,r,s){n&&e.onDidCreate(o=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(o),type:Ao.FileChangeType.Created}),null,s),i&&e.onDidChange(o=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(o),type:Ao.FileChangeType.Changed}),null,s),r&&e.onDidDelete(o=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(o),type:Ao.FileChangeType.Deleted}),null,s)}unregister(e){let n=this._watchers.get(e);if(n)for(let i of n)i.dispose()}clear(){this._watchers.forEach(e=>{for(let n of e)n.dispose()}),this._watchers.clear()}};ah.FileSystemWatcherFeature=HD});var xL=F(ch=>{"use strict";Object.defineProperty(ch,"__esModule",{value:!0});ch.ColorProviderFeature=void 0;var E4=require("vscode"),ul=_e(),VD=Qe(),zD=class extends VD.TextDocumentLanguageFeature{constructor(e){super(e,ul.DocumentColorRequest.type)}fillClientCapabilities(e){(0,VD.ensure)((0,VD.ensure)(e,"textDocument"),"colorProvider").dynamicRegistration=!0}initialize(e,n){let[i,r]=this.getRegistration(n,e.colorProvider);!i||!r||this.register({id:i,registerOptions:r})}registerLanguageProvider(e){let n=e.documentSelector,i={provideColorPresentations:(r,s,o)=>{let a=this._client,c=(f,g,p)=>{let u={color:f,textDocument:a.code2ProtocolConverter.asTextDocumentIdentifier(g.document),range:a.code2ProtocolConverter.asRange(g.range)};return a.sendRequest(ul.ColorPresentationRequest.type,u,p).then(d=>p.isCancellationRequested?null:this._client.protocol2CodeConverter.asColorPresentations(d,p),d=>a.handleFailedRequest(ul.ColorPresentationRequest.type,p,d,null))},l=a.middleware;return l.provideColorPresentations?l.provideColorPresentations(r,s,o,c):c(r,s,o)},provideDocumentColors:(r,s)=>{let o=this._client,a=(l,f)=>{let g={textDocument:o.code2ProtocolConverter.asTextDocumentIdentifier(l)};return o.sendRequest(ul.DocumentColorRequest.type,g,f).then(p=>f.isCancellationRequested?null:this._client.protocol2CodeConverter.asColorInformations(p,f),p=>o.handleFailedRequest(ul.DocumentColorRequest.type,f,p,null))},c=o.middleware;return c.provideDocumentColors?c.provideDocumentColors(r,s,a):a(r,s)}};return[E4.languages.registerColorProvider(this._client.protocol2CodeConverter.asDocumentSelector(n),i),i]}};ch.ColorProviderFeature=zD});var EL=F(uh=>{"use strict";Object.defineProperty(uh,"__esModule",{value:!0});uh.ImplementationFeature=void 0;var k4=require("vscode"),GD=_e(),JD=Qe(),XD=class extends JD.TextDocumentLanguageFeature{constructor(e){super(e,GD.ImplementationRequest.type)}fillClientCapabilities(e){let n=(0,JD.ensure)((0,JD.ensure)(e,"textDocument"),"implementation");n.dynamicRegistration=!0,n.linkSupport=!0}initialize(e,n){let[i,r]=this.getRegistration(n,e.implementationProvider);!i||!r||this.register({id:i,registerOptions:r})}registerLanguageProvider(e){let n=e.documentSelector,i={provideImplementation:(r,s,o)=>{let a=this._client,c=(f,g,p)=>a.sendRequest(GD.ImplementationRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(f,g),p).then(u=>p.isCancellationRequested?null:a.protocol2CodeConverter.asDefinitionResult(u,p),u=>a.handleFailedRequest(GD.ImplementationRequest.type,p,u,null)),l=a.middleware;return l.provideImplementation?l.provideImplementation(r,s,o,c):c(r,s,o)}};return[this.registerProvider(n,i),i]}registerProvider(e,n){return k4.languages.registerImplementationProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),n)}};uh.ImplementationFeature=XD});var kL=F(lh=>{"use strict";Object.defineProperty(lh,"__esModule",{value:!0});lh.TypeDefinitionFeature=void 0;var F4=require("vscode"),YD=_e(),ll=Qe(),QD=class extends ll.TextDocumentLanguageFeature{constructor(e){super(e,YD.TypeDefinitionRequest.type)}fillClientCapabilities(e){(0,ll.ensure)((0,ll.ensure)(e,"textDocument"),"typeDefinition").dynamicRegistration=!0;let n=(0,ll.ensure)((0,ll.ensure)(e,"textDocument"),"typeDefinition");n.dynamicRegistration=!0,n.linkSupport=!0}initialize(e,n){let[i,r]=this.getRegistration(n,e.typeDefinitionProvider);!i||!r||this.register({id:i,registerOptions:r})}registerLanguageProvider(e){let n=e.documentSelector,i={provideTypeDefinition:(r,s,o)=>{let a=this._client,c=(f,g,p)=>a.sendRequest(YD.TypeDefinitionRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(f,g),p).then(u=>p.isCancellationRequested?null:a.protocol2CodeConverter.asDefinitionResult(u,p),u=>a.handleFailedRequest(YD.TypeDefinitionRequest.type,p,u,null)),l=a.middleware;return l.provideTypeDefinition?l.provideTypeDefinition(r,s,o,c):c(r,s,o)}};return[this.registerProvider(n,i),i]}registerProvider(e,n){return F4.languages.registerTypeDefinitionProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),n)}};lh.TypeDefinitionFeature=QD});var FL=F(Qa=>{"use strict";Object.defineProperty(Qa,"__esModule",{value:!0});Qa.WorkspaceFoldersFeature=Qa.arrayDiff=void 0;var P4=Pt(),dh=require("vscode"),dl=_e();function ZD(t,e){if(t!=null)return t[e]}function eT(t,e){return t.filter(n=>e.indexOf(n)<0)}Qa.arrayDiff=eT;var tT=class{constructor(e){this._client=e,this._listeners=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._listeners.size>0}}get registrationType(){return dl.DidChangeWorkspaceFoldersNotification.type}fillInitializeParams(e){let n=dh.workspace.workspaceFolders;this.initializeWithFolders(n),n===void 0?e.workspaceFolders=null:e.workspaceFolders=n.map(i=>this.asProtocol(i))}initializeWithFolders(e){this._initialFolders=e}fillClientCapabilities(e){e.workspace=e.workspace||{},e.workspace.workspaceFolders=!0}initialize(e){let n=this._client;n.onRequest(dl.WorkspaceFoldersRequest.type,s=>{let o=()=>{let c=dh.workspace.workspaceFolders;return c===void 0?null:c.map(f=>this.asProtocol(f))},a=n.middleware.workspace;return a&&a.workspaceFolders?a.workspaceFolders(s,o):o(s)});let i=ZD(ZD(ZD(e,"workspace"),"workspaceFolders"),"changeNotifications"),r;typeof i=="string"?r=i:i===!0&&(r=P4.generateUuid()),r&&this.register({id:r,registerOptions:void 0})}sendInitialEvent(e){let n;if(this._initialFolders&&e){let i=eT(this._initialFolders,e),r=eT(e,this._initialFolders);(r.length>0||i.length>0)&&(n=this.doSendEvent(r,i))}else this._initialFolders?n=this.doSendEvent([],this._initialFolders):e&&(n=this.doSendEvent(e,[]));n!==void 0&&n.catch(i=>{this._client.error(`Sending notification ${dl.DidChangeWorkspaceFoldersNotification.type.method} failed`,i)})}doSendEvent(e,n){let i={event:{added:e.map(r=>this.asProtocol(r)),removed:n.map(r=>this.asProtocol(r))}};return this._client.sendNotification(dl.DidChangeWorkspaceFoldersNotification.type,i)}register(e){let n=e.id,i=this._client,r=dh.workspace.onDidChangeWorkspaceFolders(s=>{let o=l=>this.doSendEvent(l.added,l.removed),a=i.middleware.workspace;(a&&a.didChangeWorkspaceFolders?a.didChangeWorkspaceFolders(s,o):o(s)).catch(l=>{this._client.error(`Sending notification ${dl.DidChangeWorkspaceFoldersNotification.type.method} failed`,l)})});this._listeners.set(n,r),this.sendInitialEvent(dh.workspace.workspaceFolders)}unregister(e){let n=this._listeners.get(e);n!==void 0&&(this._listeners.delete(e),n.dispose())}clear(){for(let e of this._listeners.values())e.dispose();this._listeners.clear()}asProtocol(e){return e===void 0?null:{uri:this._client.code2ProtocolConverter.asUri(e.uri),name:e.name}}};Qa.WorkspaceFoldersFeature=tT});var RL=F(fh=>{"use strict";Object.defineProperty(fh,"__esModule",{value:!0});fh.FoldingRangeFeature=void 0;var PL=require("vscode"),Io=_e(),fl=Qe(),nT=class extends fl.TextDocumentLanguageFeature{constructor(e){super(e,Io.FoldingRangeRequest.type)}fillClientCapabilities(e){let n=(0,fl.ensure)((0,fl.ensure)(e,"textDocument"),"foldingRange");n.dynamicRegistration=!0,n.rangeLimit=5e3,n.lineFoldingOnly=!0,n.foldingRangeKind={valueSet:[Io.FoldingRangeKind.Comment,Io.FoldingRangeKind.Imports,Io.FoldingRangeKind.Region]},n.foldingRange={collapsedText:!1},(0,fl.ensure)((0,fl.ensure)(e,"workspace"),"foldingRange").refreshSupport=!0}initialize(e,n){this._client.onRequest(Io.FoldingRangeRefreshRequest.type,async()=>{for(let s of this.getAllProviders())s.onDidChangeFoldingRange.fire()});let[i,r]=this.getRegistration(n,e.foldingRangeProvider);!i||!r||this.register({id:i,registerOptions:r})}registerLanguageProvider(e){let n=e.documentSelector,i=new PL.EventEmitter,r={onDidChangeFoldingRanges:i.event,provideFoldingRanges:(s,o,a)=>{let c=this._client,l=(g,p,u)=>{let d={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(g)};return c.sendRequest(Io.FoldingRangeRequest.type,d,u).then(h=>u.isCancellationRequested?null:c.protocol2CodeConverter.asFoldingRanges(h,u),h=>c.handleFailedRequest(Io.FoldingRangeRequest.type,u,h,null))},f=c.middleware;return f.provideFoldingRanges?f.provideFoldingRanges(s,o,a,l):l(s,o,a)}};return[PL.languages.registerFoldingRangeProvider(this._client.protocol2CodeConverter.asDocumentSelector(n),r),{provider:r,onDidChangeFoldingRange:i}]}};fh.FoldingRangeFeature=nT});var AL=F(ph=>{"use strict";Object.defineProperty(ph,"__esModule",{value:!0});ph.DeclarationFeature=void 0;var R4=require("vscode"),iT=_e(),rT=Qe(),sT=class extends rT.TextDocumentLanguageFeature{constructor(e){super(e,iT.DeclarationRequest.type)}fillClientCapabilities(e){let n=(0,rT.ensure)((0,rT.ensure)(e,"textDocument"),"declaration");n.dynamicRegistration=!0,n.linkSupport=!0}initialize(e,n){let[i,r]=this.getRegistration(n,e.declarationProvider);!i||!r||this.register({id:i,registerOptions:r})}registerLanguageProvider(e){let n=e.documentSelector,i={provideDeclaration:(r,s,o)=>{let a=this._client,c=(f,g,p)=>a.sendRequest(iT.DeclarationRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(f,g),p).then(u=>p.isCancellationRequested?null:a.protocol2CodeConverter.asDeclarationResult(u,p),u=>a.handleFailedRequest(iT.DeclarationRequest.type,p,u,null)),l=a.middleware;return l.provideDeclaration?l.provideDeclaration(r,s,o,c):c(r,s,o)}};return[this.registerProvider(n,i),i]}registerProvider(e,n){return R4.languages.registerDeclarationProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),n)}};ph.DeclarationFeature=sT});var IL=F(hh=>{"use strict";Object.defineProperty(hh,"__esModule",{value:!0});hh.SelectionRangeFeature=void 0;var A4=require("vscode"),oT=_e(),aT=Qe(),cT=class extends aT.TextDocumentLanguageFeature{constructor(e){super(e,oT.SelectionRangeRequest.type)}fillClientCapabilities(e){let n=(0,aT.ensure)((0,aT.ensure)(e,"textDocument"),"selectionRange");n.dynamicRegistration=!0}initialize(e,n){let[i,r]=this.getRegistration(n,e.selectionRangeProvider);!i||!r||this.register({id:i,registerOptions:r})}registerLanguageProvider(e){let n=e.documentSelector,i={provideSelectionRanges:(r,s,o)=>{let a=this._client,c=async(f,g,p)=>{let u={textDocument:a.code2ProtocolConverter.asTextDocumentIdentifier(f),positions:a.code2ProtocolConverter.asPositionsSync(g,p)};return a.sendRequest(oT.SelectionRangeRequest.type,u,p).then(d=>p.isCancellationRequested?null:a.protocol2CodeConverter.asSelectionRanges(d,p),d=>a.handleFailedRequest(oT.SelectionRangeRequest.type,p,d,null))},l=a.middleware;return l.provideSelectionRanges?l.provideSelectionRanges(r,s,o,c):c(r,s,o)}};return[this.registerProvider(n,i),i]}registerProvider(e,n){return A4.languages.registerSelectionRangeProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),n)}};hh.SelectionRangeFeature=cT});var NL=F(gh=>{"use strict";Object.defineProperty(gh,"__esModule",{value:!0});gh.ProgressFeature=void 0;var _L=_e(),I4=Lb();function _4(t,e){return t[e]===void 0&&(t[e]=Object.create(null)),t[e]}var uT=class{constructor(e){this._client=e,this.activeParts=new Set}getState(){return{kind:"window",id:_L.WorkDoneProgressCreateRequest.method,registrations:this.activeParts.size>0}}fillClientCapabilities(e){_4(e,"window").workDoneProgress=!0}initialize(){let e=this._client,n=r=>{this.activeParts.delete(r)},i=r=>{this.activeParts.add(new I4.ProgressPart(this._client,r.token,n))};e.onRequest(_L.WorkDoneProgressCreateRequest.type,i)}clear(){for(let e of this.activeParts)e.done();this.activeParts.clear()}};gh.ProgressFeature=uT});var LL=F(mh=>{"use strict";Object.defineProperty(mh,"__esModule",{value:!0});mh.CallHierarchyFeature=void 0;var N4=require("vscode"),_o=_e(),lT=Qe(),dT=class{constructor(e){this.client=e,this.middleware=e.middleware}prepareCallHierarchy(e,n,i){let r=this.client,s=this.middleware,o=(a,c,l)=>{let f=r.code2ProtocolConverter.asTextDocumentPositionParams(a,c);return r.sendRequest(_o.CallHierarchyPrepareRequest.type,f,l).then(g=>l.isCancellationRequested?null:r.protocol2CodeConverter.asCallHierarchyItems(g,l),g=>r.handleFailedRequest(_o.CallHierarchyPrepareRequest.type,l,g,null))};return s.prepareCallHierarchy?s.prepareCallHierarchy(e,n,i,o):o(e,n,i)}provideCallHierarchyIncomingCalls(e,n){let i=this.client,r=this.middleware,s=(o,a)=>{let c={item:i.code2ProtocolConverter.asCallHierarchyItem(o)};return i.sendRequest(_o.CallHierarchyIncomingCallsRequest.type,c,a).then(l=>a.isCancellationRequested?null:i.protocol2CodeConverter.asCallHierarchyIncomingCalls(l,a),l=>i.handleFailedRequest(_o.CallHierarchyIncomingCallsRequest.type,a,l,null))};return r.provideCallHierarchyIncomingCalls?r.provideCallHierarchyIncomingCalls(e,n,s):s(e,n)}provideCallHierarchyOutgoingCalls(e,n){let i=this.client,r=this.middleware,s=(o,a)=>{let c={item:i.code2ProtocolConverter.asCallHierarchyItem(o)};return i.sendRequest(_o.CallHierarchyOutgoingCallsRequest.type,c,a).then(l=>a.isCancellationRequested?null:i.protocol2CodeConverter.asCallHierarchyOutgoingCalls(l,a),l=>i.handleFailedRequest(_o.CallHierarchyOutgoingCallsRequest.type,a,l,null))};return r.provideCallHierarchyOutgoingCalls?r.provideCallHierarchyOutgoingCalls(e,n,s):s(e,n)}},fT=class extends lT.TextDocumentLanguageFeature{constructor(e){super(e,_o.CallHierarchyPrepareRequest.type)}fillClientCapabilities(e){let n=e,i=(0,lT.ensure)((0,lT.ensure)(n,"textDocument"),"callHierarchy");i.dynamicRegistration=!0}initialize(e,n){let[i,r]=this.getRegistration(n,e.callHierarchyProvider);!i||!r||this.register({id:i,registerOptions:r})}registerLanguageProvider(e){let n=this._client,i=new dT(n);return[N4.languages.registerCallHierarchyProvider(this._client.protocol2CodeConverter.asDocumentSelector(e.documentSelector),i),i]}};mh.CallHierarchyFeature=fT});var OL=F(Ch=>{"use strict";Object.defineProperty(Ch,"__esModule",{value:!0});Ch.SemanticTokensFeature=void 0;var yh=require("vscode"),Oe=_e(),pl=Qe(),L4=Oi(),pT=class extends pl.TextDocumentLanguageFeature{constructor(e){super(e,Oe.SemanticTokensRegistrationType.type)}fillClientCapabilities(e){let n=(0,pl.ensure)((0,pl.ensure)(e,"textDocument"),"semanticTokens");n.dynamicRegistration=!0,n.tokenTypes=[Oe.SemanticTokenTypes.namespace,Oe.SemanticTokenTypes.type,Oe.SemanticTokenTypes.class,Oe.SemanticTokenTypes.enum,Oe.SemanticTokenTypes.interface,Oe.SemanticTokenTypes.struct,Oe.SemanticTokenTypes.typeParameter,Oe.SemanticTokenTypes.parameter,Oe.SemanticTokenTypes.variable,Oe.SemanticTokenTypes.property,Oe.SemanticTokenTypes.enumMember,Oe.SemanticTokenTypes.event,Oe.SemanticTokenTypes.function,Oe.SemanticTokenTypes.method,Oe.SemanticTokenTypes.macro,Oe.SemanticTokenTypes.keyword,Oe.SemanticTokenTypes.modifier,Oe.SemanticTokenTypes.comment,Oe.SemanticTokenTypes.string,Oe.SemanticTokenTypes.number,Oe.SemanticTokenTypes.regexp,Oe.SemanticTokenTypes.operator,Oe.SemanticTokenTypes.decorator],n.tokenModifiers=[Oe.SemanticTokenModifiers.declaration,Oe.SemanticTokenModifiers.definition,Oe.SemanticTokenModifiers.readonly,Oe.SemanticTokenModifiers.static,Oe.SemanticTokenModifiers.deprecated,Oe.SemanticTokenModifiers.abstract,Oe.SemanticTokenModifiers.async,Oe.SemanticTokenModifiers.modification,Oe.SemanticTokenModifiers.documentation,Oe.SemanticTokenModifiers.defaultLibrary],n.formats=[Oe.TokenFormat.Relative],n.requests={range:!0,full:{delta:!0}},n.multilineTokenSupport=!1,n.overlappingTokenSupport=!1,n.serverCancelSupport=!0,n.augmentsSyntaxTokens=!0,(0,pl.ensure)((0,pl.ensure)(e,"workspace"),"semanticTokens").refreshSupport=!0}initialize(e,n){this._client.onRequest(Oe.SemanticTokensRefreshRequest.type,async()=>{for(let o of this.getAllProviders())o.onDidChangeSemanticTokensEmitter.fire()});let[r,s]=this.getRegistration(n,e.semanticTokensProvider);!r||!s||this.register({id:r,registerOptions:s})}registerLanguageProvider(e){let n=e.documentSelector,i=L4.boolean(e.full)?e.full:e.full!==void 0,r=e.full!==void 0&&typeof e.full!="boolean"&&e.full.delta===!0,s=new yh.EventEmitter,o=i?{onDidChangeSemanticTokens:s.event,provideDocumentSemanticTokens:(u,d)=>{let h=this._client,m=h.middleware,C=(D,w)=>{let k={textDocument:h.code2ProtocolConverter.asTextDocumentIdentifier(D)};return h.sendRequest(Oe.SemanticTokensRequest.type,k,w).then(I=>w.isCancellationRequested?null:h.protocol2CodeConverter.asSemanticTokens(I,w),I=>h.handleFailedRequest(Oe.SemanticTokensRequest.type,w,I,null))};return m.provideDocumentSemanticTokens?m.provideDocumentSemanticTokens(u,d,C):C(u,d)},provideDocumentSemanticTokensEdits:r?(u,d,h)=>{let m=this._client,C=m.middleware,D=(w,k,I)=>{let B={textDocument:m.code2ProtocolConverter.asTextDocumentIdentifier(w),previousResultId:k};return m.sendRequest(Oe.SemanticTokensDeltaRequest.type,B,I).then(async W=>I.isCancellationRequested?null:Oe.SemanticTokens.is(W)?await m.protocol2CodeConverter.asSemanticTokens(W,I):await m.protocol2CodeConverter.asSemanticTokensEdits(W,I),W=>m.handleFailedRequest(Oe.SemanticTokensDeltaRequest.type,I,W,null))};return C.provideDocumentSemanticTokensEdits?C.provideDocumentSemanticTokensEdits(u,d,h,D):D(u,d,h)}:void 0}:void 0,c=e.range===!0?{provideDocumentRangeSemanticTokens:(u,d,h)=>{let m=this._client,C=m.middleware,D=(w,k,I)=>{let B={textDocument:m.code2ProtocolConverter.asTextDocumentIdentifier(w),range:m.code2ProtocolConverter.asRange(k)};return m.sendRequest(Oe.SemanticTokensRangeRequest.type,B,I).then(W=>I.isCancellationRequested?null:m.protocol2CodeConverter.asSemanticTokens(W,I),W=>m.handleFailedRequest(Oe.SemanticTokensRangeRequest.type,I,W,null))};return C.provideDocumentRangeSemanticTokens?C.provideDocumentRangeSemanticTokens(u,d,h,D):D(u,d,h)}}:void 0,l=[],f=this._client,g=f.protocol2CodeConverter.asSemanticTokensLegend(e.legend),p=f.protocol2CodeConverter.asDocumentSelector(n);return o!==void 0&&l.push(yh.languages.registerDocumentSemanticTokensProvider(p,o,g)),c!==void 0&&l.push(yh.languages.registerDocumentRangeSemanticTokensProvider(p,c,g)),[new yh.Disposable(()=>l.forEach(u=>u.dispose())),{range:c,full:o,onDidChangeSemanticTokensEmitter:s}]}};Ch.SemanticTokensFeature=pT});var UL=F(ci=>{"use strict";Object.defineProperty(ci,"__esModule",{value:!0});ci.WillDeleteFilesFeature=ci.WillRenameFilesFeature=ci.WillCreateFilesFeature=ci.DidDeleteFilesFeature=ci.DidRenameFilesFeature=ci.DidCreateFilesFeature=void 0;var Wi=require("vscode"),O4=jp(),Xr=_e(),M4=Pt();function ML(t,e){return t[e]===void 0&&(t[e]={}),t[e]}function q4(t,e){return t[e]}function qL(t,e,n){t[e]=n}var hl=class t{constructor(e,n,i,r,s){this._client=e,this._event=n,this._registrationType=i,this._clientCapability=r,this._serverCapability=s,this._filters=new Map}getState(){return{kind:"workspace",id:this._registrationType.method,registrations:this._filters.size>0}}filterSize(){return this._filters.size}get registrationType(){return this._registrationType}fillClientCapabilities(e){let n=ML(ML(e,"workspace"),"fileOperations");qL(n,"dynamicRegistration",!0),qL(n,this._clientCapability,!0)}initialize(e){let n=e.workspace?.fileOperations,i=n!==void 0?q4(n,this._serverCapability):void 0;if(i?.filters!==void 0)try{this.register({id:M4.generateUuid(),registerOptions:{filters:i.filters}})}catch(r){this._client.warn(`Ignoring invalid glob pattern for ${this._serverCapability} registration: ${r}`)}}register(e){this._listener||(this._listener=this._event(this.send,this));let n=e.registerOptions.filters.map(i=>{let r=new O4.Minimatch(i.pattern.glob,t.asMinimatchOptions(i.pattern.options));if(!r.makeRe())throw new Error(`Invalid pattern ${i.pattern.glob}!`);return{scheme:i.scheme,matcher:r,kind:i.pattern.matches}});this._filters.set(e.id,n)}unregister(e){this._filters.delete(e),this._filters.size===0&&this._listener&&(this._listener.dispose(),this._listener=void 0)}clear(){this._filters.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}getFileType(e){return t.getFileType(e)}async filter(e,n){let i=await Promise.all(e.files.map(async s=>{let o=n(s),a=o.fsPath.replace(/\\/g,"/");for(let c of this._filters.values())for(let l of c)if(!(l.scheme!==void 0&&l.scheme!==o.scheme)){if(l.matcher.match(a)){if(l.kind===void 0)return!0;let f=await this.getFileType(o);if(f===void 0)return this._client.error(`Failed to determine file type for ${o.toString()}.`),!0;if(f===Wi.FileType.File&&l.kind===Xr.FileOperationPatternKind.file||f===Wi.FileType.Directory&&l.kind===Xr.FileOperationPatternKind.folder)return!0}else if(l.kind===Xr.FileOperationPatternKind.folder&&await t.getFileType(o)===Wi.FileType.Directory&&l.matcher.match(`${a}/`))return!0}return!1})),r=e.files.filter((s,o)=>i[o]);return{...e,files:r}}static async getFileType(e){try{return(await Wi.workspace.fs.stat(e)).type}catch{return}}static asMinimatchOptions(e){let n={dot:!0};return e?.ignoreCase===!0&&(n.nocase=!0),n}},vh=class extends hl{constructor(e,n,i,r,s,o,a){super(e,n,i,r,s),this._notificationType=i,this._accessUri=o,this._createParams=a}async send(e){let n=await this.filter(e,this._accessUri);if(n.files.length){let i=async r=>this._client.sendNotification(this._notificationType,this._createParams(r));return this.doSend(n,i)}}},Sh=class extends vh{constructor(){super(...arguments),this._fsPathFileTypes=new Map}async getFileType(e){let n=e.fsPath;if(this._fsPathFileTypes.has(n))return this._fsPathFileTypes.get(n);let i=await hl.getFileType(e);return i&&this._fsPathFileTypes.set(n,i),i}async cacheFileTypes(e,n){await this.filter(e,n)}clearFileTypeCache(){this._fsPathFileTypes.clear()}unregister(e){super.unregister(e),this.filterSize()===0&&this._willListener&&(this._willListener.dispose(),this._willListener=void 0)}clear(){super.clear(),this._willListener&&(this._willListener.dispose(),this._willListener=void 0)}},hT=class extends vh{constructor(e){super(e,Wi.workspace.onDidCreateFiles,Xr.DidCreateFilesNotification.type,"didCreate","didCreate",n=>n,e.code2ProtocolConverter.asDidCreateFilesParams)}doSend(e,n){let i=this._client.middleware.workspace;return i?.didCreateFiles?i.didCreateFiles(e,n):n(e)}};ci.DidCreateFilesFeature=hT;var gT=class extends Sh{constructor(e){super(e,Wi.workspace.onDidRenameFiles,Xr.DidRenameFilesNotification.type,"didRename","didRename",n=>n.oldUri,e.code2ProtocolConverter.asDidRenameFilesParams)}register(e){this._willListener||(this._willListener=Wi.workspace.onWillRenameFiles(this.willRename,this)),super.register(e)}willRename(e){e.waitUntil(this.cacheFileTypes(e,n=>n.oldUri))}doSend(e,n){this.clearFileTypeCache();let i=this._client.middleware.workspace;return i?.didRenameFiles?i.didRenameFiles(e,n):n(e)}};ci.DidRenameFilesFeature=gT;var mT=class extends Sh{constructor(e){super(e,Wi.workspace.onDidDeleteFiles,Xr.DidDeleteFilesNotification.type,"didDelete","didDelete",n=>n,e.code2ProtocolConverter.asDidDeleteFilesParams)}register(e){this._willListener||(this._willListener=Wi.workspace.onWillDeleteFiles(this.willDelete,this)),super.register(e)}willDelete(e){e.waitUntil(this.cacheFileTypes(e,n=>n))}doSend(e,n){this.clearFileTypeCache();let i=this._client.middleware.workspace;return i?.didDeleteFiles?i.didDeleteFiles(e,n):n(e)}};ci.DidDeleteFilesFeature=mT;var gl=class extends hl{constructor(e,n,i,r,s,o,a){super(e,n,i,r,s),this._requestType=i,this._accessUri=o,this._createParams=a}async send(e){let n=this.waitUntil(e);e.waitUntil(n)}async waitUntil(e){let n=await this.filter(e,this._accessUri);if(n.files.length){let i=r=>this._client.sendRequest(this._requestType,this._createParams(r),r.token).then(this._client.protocol2CodeConverter.asWorkspaceEdit);return this.doSend(n,i)}else return}},yT=class extends gl{constructor(e){super(e,Wi.workspace.onWillCreateFiles,Xr.WillCreateFilesRequest.type,"willCreate","willCreate",n=>n,e.code2ProtocolConverter.asWillCreateFilesParams)}doSend(e,n){let i=this._client.middleware.workspace;return i?.willCreateFiles?i.willCreateFiles(e,n):n(e)}};ci.WillCreateFilesFeature=yT;var CT=class extends gl{constructor(e){super(e,Wi.workspace.onWillRenameFiles,Xr.WillRenameFilesRequest.type,"willRename","willRename",n=>n.oldUri,e.code2ProtocolConverter.asWillRenameFilesParams)}doSend(e,n){let i=this._client.middleware.workspace;return i?.willRenameFiles?i.willRenameFiles(e,n):n(e)}};ci.WillRenameFilesFeature=CT;var vT=class extends gl{constructor(e){super(e,Wi.workspace.onWillDeleteFiles,Xr.WillDeleteFilesRequest.type,"willDelete","willDelete",n=>n,e.code2ProtocolConverter.asWillDeleteFilesParams)}doSend(e,n){let i=this._client.middleware.workspace;return i?.willDeleteFiles?i.willDeleteFiles(e,n):n(e)}};ci.WillDeleteFilesFeature=vT});var jL=F(bh=>{"use strict";Object.defineProperty(bh,"__esModule",{value:!0});bh.LinkedEditingFeature=void 0;var U4=require("vscode"),ST=_e(),bT=Qe(),DT=class extends bT.TextDocumentLanguageFeature{constructor(e){super(e,ST.LinkedEditingRangeRequest.type)}fillClientCapabilities(e){let n=(0,bT.ensure)((0,bT.ensure)(e,"textDocument"),"linkedEditingRange");n.dynamicRegistration=!0}initialize(e,n){let[i,r]=this.getRegistration(n,e.linkedEditingRangeProvider);!i||!r||this.register({id:i,registerOptions:r})}registerLanguageProvider(e){let n=e.documentSelector,i={provideLinkedEditingRanges:(r,s,o)=>{let a=this._client,c=(f,g,p)=>a.sendRequest(ST.LinkedEditingRangeRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(f,g),p).then(u=>p.isCancellationRequested?null:a.protocol2CodeConverter.asLinkedEditingRanges(u,p),u=>a.handleFailedRequest(ST.LinkedEditingRangeRequest.type,p,u,null)),l=a.middleware;return l.provideLinkedEditingRange?l.provideLinkedEditingRange(r,s,o,c):c(r,s,o)}};return[this.registerProvider(n,i),i]}registerProvider(e,n){return U4.languages.registerLinkedEditingRangeProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),n)}};bh.LinkedEditingFeature=DT});var BL=F(Dh=>{"use strict";Object.defineProperty(Dh,"__esModule",{value:!0});Dh.TypeHierarchyFeature=void 0;var j4=require("vscode"),No=_e(),TT=Qe(),wT=class{constructor(e){this.client=e,this.middleware=e.middleware}prepareTypeHierarchy(e,n,i){let r=this.client,s=this.middleware,o=(a,c,l)=>{let f=r.code2ProtocolConverter.asTextDocumentPositionParams(a,c);return r.sendRequest(No.TypeHierarchyPrepareRequest.type,f,l).then(g=>l.isCancellationRequested?null:r.protocol2CodeConverter.asTypeHierarchyItems(g,l),g=>r.handleFailedRequest(No.TypeHierarchyPrepareRequest.type,l,g,null))};return s.prepareTypeHierarchy?s.prepareTypeHierarchy(e,n,i,o):o(e,n,i)}provideTypeHierarchySupertypes(e,n){let i=this.client,r=this.middleware,s=(o,a)=>{let c={item:i.code2ProtocolConverter.asTypeHierarchyItem(o)};return i.sendRequest(No.TypeHierarchySupertypesRequest.type,c,a).then(l=>a.isCancellationRequested?null:i.protocol2CodeConverter.asTypeHierarchyItems(l,a),l=>i.handleFailedRequest(No.TypeHierarchySupertypesRequest.type,a,l,null))};return r.provideTypeHierarchySupertypes?r.provideTypeHierarchySupertypes(e,n,s):s(e,n)}provideTypeHierarchySubtypes(e,n){let i=this.client,r=this.middleware,s=(o,a)=>{let c={item:i.code2ProtocolConverter.asTypeHierarchyItem(o)};return i.sendRequest(No.TypeHierarchySubtypesRequest.type,c,a).then(l=>a.isCancellationRequested?null:i.protocol2CodeConverter.asTypeHierarchyItems(l,a),l=>i.handleFailedRequest(No.TypeHierarchySubtypesRequest.type,a,l,null))};return r.provideTypeHierarchySubtypes?r.provideTypeHierarchySubtypes(e,n,s):s(e,n)}},xT=class extends TT.TextDocumentLanguageFeature{constructor(e){super(e,No.TypeHierarchyPrepareRequest.type)}fillClientCapabilities(e){let n=(0,TT.ensure)((0,TT.ensure)(e,"textDocument"),"typeHierarchy");n.dynamicRegistration=!0}initialize(e,n){let[i,r]=this.getRegistration(n,e.typeHierarchyProvider);!i||!r||this.register({id:i,registerOptions:r})}registerLanguageProvider(e){let n=this._client,i=new wT(n);return[j4.languages.registerTypeHierarchyProvider(n.protocol2CodeConverter.asDocumentSelector(e.documentSelector),i),i]}};Dh.TypeHierarchyFeature=xT});var KL=F(wh=>{"use strict";Object.defineProperty(wh,"__esModule",{value:!0});wh.InlineValueFeature=void 0;var WL=require("vscode"),Th=_e(),ml=Qe(),ET=class extends ml.TextDocumentLanguageFeature{constructor(e){super(e,Th.InlineValueRequest.type)}fillClientCapabilities(e){(0,ml.ensure)((0,ml.ensure)(e,"textDocument"),"inlineValue").dynamicRegistration=!0,(0,ml.ensure)((0,ml.ensure)(e,"workspace"),"inlineValue").refreshSupport=!0}initialize(e,n){this._client.onRequest(Th.InlineValueRefreshRequest.type,async()=>{for(let s of this.getAllProviders())s.onDidChangeInlineValues.fire()});let[i,r]=this.getRegistration(n,e.inlineValueProvider);!i||!r||this.register({id:i,registerOptions:r})}registerLanguageProvider(e){let n=e.documentSelector,i=new WL.EventEmitter,r={onDidChangeInlineValues:i.event,provideInlineValues:(s,o,a,c)=>{let l=this._client,f=(p,u,d,h)=>{let m={textDocument:l.code2ProtocolConverter.asTextDocumentIdentifier(p),range:l.code2ProtocolConverter.asRange(u),context:l.code2ProtocolConverter.asInlineValueContext(d)};return l.sendRequest(Th.InlineValueRequest.type,m,h).then(C=>h.isCancellationRequested?null:l.protocol2CodeConverter.asInlineValues(C,h),C=>l.handleFailedRequest(Th.InlineValueRequest.type,h,C,null))},g=l.middleware;return g.provideInlineValues?g.provideInlineValues(s,o,a,c,f):f(s,o,a,c)}};return[this.registerProvider(n,r),{provider:r,onDidChangeInlineValues:i}]}registerProvider(e,n){return WL.languages.registerInlineValuesProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),n)}};wh.InlineValueFeature=ET});var HL=F(xh=>{"use strict";Object.defineProperty(xh,"__esModule",{value:!0});xh.InlayHintsFeature=void 0;var $L=require("vscode"),Za=_e(),yl=Qe(),kT=class extends yl.TextDocumentLanguageFeature{constructor(e){super(e,Za.InlayHintRequest.type)}fillClientCapabilities(e){let n=(0,yl.ensure)((0,yl.ensure)(e,"textDocument"),"inlayHint");n.dynamicRegistration=!0,n.resolveSupport={properties:["tooltip","textEdits","label.tooltip","label.location","label.command"]},(0,yl.ensure)((0,yl.ensure)(e,"workspace"),"inlayHint").refreshSupport=!0}initialize(e,n){this._client.onRequest(Za.InlayHintRefreshRequest.type,async()=>{for(let s of this.getAllProviders())s.onDidChangeInlayHints.fire()});let[i,r]=this.getRegistration(n,e.inlayHintProvider);!i||!r||this.register({id:i,registerOptions:r})}registerLanguageProvider(e){let n=e.documentSelector,i=new $L.EventEmitter,r={onDidChangeInlayHints:i.event,provideInlayHints:(s,o,a)=>{let c=this._client,l=async(g,p,u)=>{let d={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(g),range:c.code2ProtocolConverter.asRange(p)};try{let h=await c.sendRequest(Za.InlayHintRequest.type,d,u);return u.isCancellationRequested?null:c.protocol2CodeConverter.asInlayHints(h,u)}catch(h){return c.handleFailedRequest(Za.InlayHintRequest.type,u,h,null)}},f=c.middleware;return f.provideInlayHints?f.provideInlayHints(s,o,a,l):l(s,o,a)}};return r.resolveInlayHint=e.resolveProvider===!0?(s,o)=>{let a=this._client,c=async(f,g)=>{try{let p=await a.sendRequest(Za.InlayHintResolveRequest.type,a.code2ProtocolConverter.asInlayHint(f),g);if(g.isCancellationRequested)return null;let u=a.protocol2CodeConverter.asInlayHint(p,g);return g.isCancellationRequested?null:u}catch(p){return a.handleFailedRequest(Za.InlayHintResolveRequest.type,g,p,null)}},l=a.middleware;return l.resolveInlayHint?l.resolveInlayHint(s,o,c):c(s,o)}:void 0,[this.registerProvider(n,r),{provider:r,onDidChangeInlayHints:i}]}registerProvider(e,n){return $L.languages.registerInlayHintsProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),n)}};xh.InlayHintsFeature=kT});var VL=F(Eh=>{"use strict";Object.defineProperty(Eh,"__esModule",{value:!0});Eh.InlineCompletionItemFeature=void 0;var B4=require("vscode"),FT=_e(),PT=Qe(),W4=Pt(),RT=class extends PT.TextDocumentLanguageFeature{constructor(e){super(e,FT.InlineCompletionRequest.type)}fillClientCapabilities(e){let n=(0,PT.ensure)((0,PT.ensure)(e,"textDocument"),"inlineCompletion");n.dynamicRegistration=!0}initialize(e,n){let i=this.getRegistrationOptions(n,e.inlineCompletionProvider);i&&this.register({id:W4.generateUuid(),registerOptions:i})}registerLanguageProvider(e){let n=e.documentSelector,i={provideInlineCompletionItems:(r,s,o,a)=>{let c=this._client,l=this._client.middleware,f=(g,p,u,d)=>c.sendRequest(FT.InlineCompletionRequest.type,c.code2ProtocolConverter.asInlineCompletionParams(g,p,u),d).then(h=>d.isCancellationRequested?null:c.protocol2CodeConverter.asInlineCompletionResult(h,d),h=>c.handleFailedRequest(FT.InlineCompletionRequest.type,d,h,null));return l.provideInlineCompletionItems?l.provideInlineCompletionItems(r,s,o,a,f):f(r,s,o,a)}};return[B4.languages.registerInlineCompletionItemProvider(this._client.protocol2CodeConverter.asDocumentSelector(n),i),i]}};Eh.InlineCompletionItemFeature=RT});var OT=F(hn=>{"use strict";Object.defineProperty(hn,"__esModule",{value:!0});hn.ProposedFeatures=hn.BaseLanguageClient=hn.MessageTransports=hn.SuspendMode=hn.State=hn.CloseAction=hn.ErrorAction=hn.RevealOutputChannelOn=void 0;var ft=require("vscode"),oe=_e(),K4=DN(),$4=xN(),sr=Oi(),kh=_p(),zL=Pt(),H4=Lb(),rr=Qe(),V4=tD(),GL=nL(),JL=rL(),ec=sL(),z4=oL(),G4=aL(),J4=cL(),X4=lL(),Y4=dL(),Q4=ED(),Z4=pL(),eG=hL(),tG=gL(),nG=yL(),AT=CL(),iG=SL(),rG=bL(),sG=TL(),oG=wL(),aG=xL(),cG=EL(),uG=kL(),lG=FL(),dG=RL(),fG=AL(),pG=IL(),hG=NL(),gG=LL(),mG=OL(),tc=UL(),yG=jL(),CG=BL(),vG=KL(),SG=HL(),bG=VL(),Lo;(function(t){t[t.Debug=0]="Debug",t[t.Info=1]="Info",t[t.Warn=2]="Warn",t[t.Error=3]="Error",t[t.Never=4]="Never"})(Lo||(hn.RevealOutputChannelOn=Lo={}));var vl;(function(t){t[t.Continue=1]="Continue",t[t.Shutdown=2]="Shutdown"})(vl||(hn.ErrorAction=vl={}));var Ls;(function(t){t[t.DoNotRestart=1]="DoNotRestart",t[t.Restart=2]="Restart"})(Ls||(hn.CloseAction=Ls={}));var Cl;(function(t){t[t.Stopped=1]="Stopped",t[t.Starting=3]="Starting",t[t.Running=2]="Running"})(Cl||(hn.State=Cl={}));var XL;(function(t){t.off="off",t.on="on"})(XL||(hn.SuspendMode=XL={}));var IT;(function(t){function e(n){return n==null?!1:typeof n=="boolean"||typeof n=="object"&&n!==null&&sr.stringArray(n.enabledCommands)?n:!1}t.sanitizeIsTrusted=e})(IT||(IT={}));var _T=class{constructor(e,n){this.client=e,this.maxRestartCount=n,this.restarts=[]}error(e,n,i){return i&&i<=3?{action:vl.Continue}:{action:vl.Shutdown}}closed(){return this.restarts.push(Date.now()),this.restarts.length<=this.maxRestartCount?{action:Ls.Restart}:this.restarts[this.restarts.length-1]-this.restarts[0]<=3*60*1e3?{action:Ls.DoNotRestart,message:`The ${this.client.name} server crashed ${this.maxRestartCount+1} times in the last 3 minutes. The server will not be restarted. See the output for more information.`}:(this.restarts.shift(),{action:Ls.Restart})}},We;(function(t){t.Initial="initial",t.Starting="starting",t.StartFailed="startFailed",t.Running="running",t.Stopping="stopping",t.Stopped="stopped"})(We||(We={}));var YL;(function(t){function e(n){return n&&oe.MessageReader.is(n.reader)&&oe.MessageWriter.is(n.writer)}t.is=e})(YL||(hn.MessageTransports=YL={}));var Sl=class t{constructor(e,n,i){this._traceFormat=oe.TraceFormat.Text,this._diagnosticQueue=new Map,this._diagnosticQueueState={state:"idle"},this._features=[],this._dynamicFeatures=new Map,this.workspaceEditLock=new kh.Semaphore(1),this._id=e,this._name=n,i=i||{};let r={isTrusted:!1,supportHtml:!1};i.markdown!==void 0&&(r.isTrusted=IT.sanitizeIsTrusted(i.markdown.isTrusted),r.supportHtml=i.markdown.supportHtml===!0),this._clientOptions={documentSelector:i.documentSelector??[],synchronize:i.synchronize??{},diagnosticCollectionName:i.diagnosticCollectionName,outputChannelName:i.outputChannelName??this._name,revealOutputChannelOn:i.revealOutputChannelOn??Lo.Error,stdioEncoding:i.stdioEncoding??"utf8",initializationOptions:i.initializationOptions,initializationFailedHandler:i.initializationFailedHandler,progressOnInitialization:!!i.progressOnInitialization,errorHandler:i.errorHandler??this.createDefaultErrorHandler(i.connectionOptions?.maxRestartCount),middleware:i.middleware??{},uriConverters:i.uriConverters,workspaceFolder:i.workspaceFolder,connectionOptions:i.connectionOptions,markdown:r,diagnosticPullOptions:i.diagnosticPullOptions??{onChange:!0,onSave:!1},notebookDocumentOptions:i.notebookDocumentOptions??{}},this._clientOptions.synchronize=this._clientOptions.synchronize||{},this._state=We.Initial,this._ignoredRegistrations=new Set,this._listeners=[],this._notificationHandlers=new Map,this._pendingNotificationHandlers=new Map,this._notificationDisposables=new Map,this._requestHandlers=new Map,this._pendingRequestHandlers=new Map,this._requestDisposables=new Map,this._progressHandlers=new Map,this._pendingProgressHandlers=new Map,this._progressDisposables=new Map,this._connection=void 0,this._initializeResult=void 0,i.outputChannel?(this._outputChannel=i.outputChannel,this._disposeOutputChannel=!1):(this._outputChannel=void 0,this._disposeOutputChannel=!0),this._traceOutputChannel=i.traceOutputChannel,this._diagnostics=void 0,this._pendingOpenNotifications=new Set,this._pendingChangeSemaphore=new kh.Semaphore(1),this._pendingChangeDelayer=new kh.Delayer(250),this._fileEvents=[],this._fileEventDelayer=new kh.Delayer(250),this._onStop=void 0,this._telemetryEmitter=new oe.Emitter,this._stateChangeEmitter=new oe.Emitter,this._trace=oe.Trace.Off,this._tracer={log:(s,o)=>{sr.string(s)?this.logTrace(s,o):this.logObjectTrace(s)}},this._c2p=K4.createConverter(i.uriConverters?i.uriConverters.code2Protocol:void 0),this._p2c=$4.createConverter(i.uriConverters?i.uriConverters.protocol2Code:void 0,this._clientOptions.markdown.isTrusted,this._clientOptions.markdown.supportHtml),this._syncedDocuments=new Map,this.registerBuiltinFeatures()}get name(){return this._name}get middleware(){return this._clientOptions.middleware??Object.create(null)}get clientOptions(){return this._clientOptions}get protocol2CodeConverter(){return this._p2c}get code2ProtocolConverter(){return this._c2p}get onTelemetry(){return this._telemetryEmitter.event}get onDidChangeState(){return this._stateChangeEmitter.event}get outputChannel(){return this._outputChannel||(this._outputChannel=ft.window.createOutputChannel(this._clientOptions.outputChannelName?this._clientOptions.outputChannelName:this._name)),this._outputChannel}get traceOutputChannel(){return this._traceOutputChannel?this._traceOutputChannel:this.outputChannel}get diagnostics(){return this._diagnostics}get state(){return this.getPublicState()}get $state(){return this._state}set $state(e){let n=this.getPublicState();this._state=e;let i=this.getPublicState();i!==n&&this._stateChangeEmitter.fire({oldState:n,newState:i})}getPublicState(){switch(this.$state){case We.Starting:return Cl.Starting;case We.Running:return Cl.Running;default:return Cl.Stopped}}get initializeResult(){return this._initializeResult}async sendRequest(e,...n){if(this.$state===We.StartFailed||this.$state===We.Stopping||this.$state===We.Stopped)return Promise.reject(new oe.ResponseError(oe.ErrorCodes.ConnectionInactive,"Client is not running"));let i=await this.$start();this._didChangeTextDocumentFeature.syncKind===oe.TextDocumentSyncKind.Full&&await this.sendPendingFullTextDocumentChanges(i);let r=this._clientOptions.middleware?.sendRequest;if(r!==void 0){let s,o;return n.length===1?oe.CancellationToken.is(n[0])?o=n[0]:s=n[0]:n.length===2&&(s=n[0],o=n[1]),r(e,s,o,(a,c,l)=>{let f=[];return c!==void 0&&f.push(c),l!==void 0&&f.push(l),i.sendRequest(a,...f)})}else return i.sendRequest(e,...n)}onRequest(e,n){let i=typeof e=="string"?e:e.method;this._requestHandlers.set(i,n);let r=this.activeConnection(),s;return r!==void 0?(this._requestDisposables.set(i,r.onRequest(e,n)),s={dispose:()=>{let o=this._requestDisposables.get(i);o!==void 0&&(o.dispose(),this._requestDisposables.delete(i))}}):(this._pendingRequestHandlers.set(i,n),s={dispose:()=>{this._pendingRequestHandlers.delete(i);let o=this._requestDisposables.get(i);o!==void 0&&(o.dispose(),this._requestDisposables.delete(i))}}),{dispose:()=>{this._requestHandlers.delete(i),s.dispose()}}}async sendNotification(e,n){if(this.$state===We.StartFailed||this.$state===We.Stopping||this.$state===We.Stopped)return Promise.reject(new oe.ResponseError(oe.ErrorCodes.ConnectionInactive,"Client is not running"));let i=this._didChangeTextDocumentFeature.syncKind===oe.TextDocumentSyncKind.Full,r;i&&typeof e!="string"&&e.method===oe.DidOpenTextDocumentNotification.method&&(r=n?.textDocument.uri,this._pendingOpenNotifications.add(r));let s=await this.$start();i&&await this.sendPendingFullTextDocumentChanges(s),r!==void 0&&this._pendingOpenNotifications.delete(r);let o=this._clientOptions.middleware?.sendNotification;return o?o(e,s.sendNotification.bind(s),n):s.sendNotification(e,n)}onNotification(e,n){let i=typeof e=="string"?e:e.method;this._notificationHandlers.set(i,n);let r=this.activeConnection(),s;return r!==void 0?(this._notificationDisposables.set(i,r.onNotification(e,n)),s={dispose:()=>{let o=this._notificationDisposables.get(i);o!==void 0&&(o.dispose(),this._notificationDisposables.delete(i))}}):(this._pendingNotificationHandlers.set(i,n),s={dispose:()=>{this._pendingNotificationHandlers.delete(i);let o=this._notificationDisposables.get(i);o!==void 0&&(o.dispose(),this._notificationDisposables.delete(i))}}),{dispose:()=>{this._notificationHandlers.delete(i),s.dispose()}}}async sendProgress(e,n,i){if(this.$state===We.StartFailed||this.$state===We.Stopping||this.$state===We.Stopped)return Promise.reject(new oe.ResponseError(oe.ErrorCodes.ConnectionInactive,"Client is not running"));try{return(await this.$start()).sendProgress(e,n,i)}catch(r){throw this.error(`Sending progress for token ${n} failed.`,r),r}}onProgress(e,n,i){this._progressHandlers.set(n,{type:e,handler:i});let r=this.activeConnection(),s,o=this._clientOptions.middleware?.handleWorkDoneProgress,a=oe.WorkDoneProgress.is(e)&&o!==void 0?c=>{o(n,c,()=>i(c))}:i;return r!==void 0?(this._progressDisposables.set(n,r.onProgress(e,n,a)),s={dispose:()=>{let c=this._progressDisposables.get(n);c!==void 0&&(c.dispose(),this._progressDisposables.delete(n))}}):(this._pendingProgressHandlers.set(n,{type:e,handler:i}),s={dispose:()=>{this._pendingProgressHandlers.delete(n);let c=this._progressDisposables.get(n);c!==void 0&&(c.dispose(),this._progressDisposables.delete(n))}}),{dispose:()=>{this._progressHandlers.delete(n),s.dispose()}}}createDefaultErrorHandler(e){if(e!==void 0&&e<0)throw new Error(`Invalid maxRestartCount: ${e}`);return new _T(this,e??4)}async setTrace(e){this._trace=e;let n=this.activeConnection();n!==void 0&&await n.trace(this._trace,this._tracer,{sendNotification:!1,traceFormat:this._traceFormat})}data2String(e){if(e instanceof oe.ResponseError){let n=e;return`  Message: ${n.message}
  Code: ${n.code} ${n.data?`
`+n.data.toString():""}`}return e instanceof Error?sr.string(e.stack)?e.stack:e.message:sr.string(e)?e:e.toString()}debug(e,n,i=!0){this.logOutputMessage(oe.MessageType.Debug,Lo.Debug,"Debug",e,n,i)}info(e,n,i=!0){this.logOutputMessage(oe.MessageType.Info,Lo.Info,"Info",e,n,i)}warn(e,n,i=!0){this.logOutputMessage(oe.MessageType.Warning,Lo.Warn,"Warn",e,n,i)}error(e,n,i=!0){this.logOutputMessage(oe.MessageType.Error,Lo.Error,"Error",e,n,i)}logOutputMessage(e,n,i,r,s,o){this.outputChannel.appendLine(`[${i.padEnd(5)} - ${new Date().toLocaleTimeString()}] ${r}`),s!=null&&this.outputChannel.appendLine(this.data2String(s)),(o==="force"||o&&this._clientOptions.revealOutputChannelOn<=n)&&this.showNotificationMessage(e,r)}showNotificationMessage(e,n){n=n??"A request has failed. See the output for more information.",(e===oe.MessageType.Error?ft.window.showErrorMessage:e===oe.MessageType.Warning?ft.window.showWarningMessage:ft.window.showInformationMessage)(n,"Go to output").then(r=>{r!==void 0&&this.outputChannel.show(!0)})}logTrace(e,n){this.traceOutputChannel.appendLine(`[Trace - ${new Date().toLocaleTimeString()}] ${e}`),n&&this.traceOutputChannel.appendLine(this.data2String(n))}logObjectTrace(e){e.isLSPMessage&&e.type?this.traceOutputChannel.append(`[LSP   - ${new Date().toLocaleTimeString()}] `):this.traceOutputChannel.append(`[Trace - ${new Date().toLocaleTimeString()}] `),e&&this.traceOutputChannel.appendLine(`${JSON.stringify(e)}`)}needsStart(){return this.$state===We.Initial||this.$state===We.Stopping||this.$state===We.Stopped}needsStop(){return this.$state===We.Starting||this.$state===We.Running}activeConnection(){return this.$state===We.Running&&this._connection!==void 0?this._connection:void 0}isRunning(){return this.$state===We.Running}async start(){if(this._disposed==="disposing"||this._disposed==="disposed")throw new Error("Client got disposed and can't be restarted.");if(this.$state===We.Stopping)throw new Error("Client is currently stopping. Can only restart a full stopped client");if(this._onStart!==void 0)return this._onStart;let[e,n,i]=this.createOnStartPromise();this._onStart=e,this._diagnostics===void 0&&(this._diagnostics=this._clientOptions.diagnosticCollectionName?ft.languages.createDiagnosticCollection(this._clientOptions.diagnosticCollectionName):ft.languages.createDiagnosticCollection());for(let[r,s]of this._notificationHandlers)this._pendingNotificationHandlers.has(r)||this._pendingNotificationHandlers.set(r,s);for(let[r,s]of this._requestHandlers)this._pendingRequestHandlers.has(r)||this._pendingRequestHandlers.set(r,s);for(let[r,s]of this._progressHandlers)this._pendingProgressHandlers.has(r)||this._pendingProgressHandlers.set(r,s);this.$state=We.Starting;try{let r=await this.createConnection();r.onNotification(oe.LogMessageNotification.type,s=>{switch(s.type){case oe.MessageType.Error:this.error(s.message,void 0,!1);break;case oe.MessageType.Warning:this.warn(s.message,void 0,!1);break;case oe.MessageType.Info:this.info(s.message,void 0,!1);break;case oe.MessageType.Debug:this.debug(s.message,void 0,!1);break;default:this.outputChannel.appendLine(s.message)}}),r.onNotification(oe.ShowMessageNotification.type,s=>{switch(s.type){case oe.MessageType.Error:ft.window.showErrorMessage(s.message);break;case oe.MessageType.Warning:ft.window.showWarningMessage(s.message);break;case oe.MessageType.Info:ft.window.showInformationMessage(s.message);break;default:ft.window.showInformationMessage(s.message)}}),r.onRequest(oe.ShowMessageRequest.type,s=>{let o;switch(s.type){case oe.MessageType.Error:o=ft.window.showErrorMessage;break;case oe.MessageType.Warning:o=ft.window.showWarningMessage;break;case oe.MessageType.Info:o=ft.window.showInformationMessage;break;default:o=ft.window.showInformationMessage}let a=s.actions||[];return o(s.message,...a)}),r.onNotification(oe.TelemetryEventNotification.type,s=>{this._telemetryEmitter.fire(s)}),r.onRequest(oe.ShowDocumentRequest.type,async s=>{let o=async c=>{let l=this.protocol2CodeConverter.asUri(c.uri);try{if(c.external===!0)return{success:await ft.env.openExternal(l)};{let f={};return c.selection!==void 0&&(f.selection=this.protocol2CodeConverter.asRange(c.selection)),c.takeFocus===void 0||c.takeFocus===!1?f.preserveFocus=!0:c.takeFocus===!0&&(f.preserveFocus=!1),await ft.window.showTextDocument(l,f),{success:!0}}}catch{return{success:!1}}},a=this._clientOptions.middleware.window?.showDocument;return a!==void 0?a(s,o):o(s)}),r.listen(),await this.initialize(r),n()}catch(r){this.$state=We.StartFailed,this.error(`${this._name} client: couldn't create connection to server.`,r,"force"),i(r)}return this._onStart}createOnStartPromise(){let e,n;return[new Promise((r,s)=>{e=r,n=s}),e,n]}async initialize(e){this.refreshTrace(e,!1);let n=this._clientOptions.initializationOptions,[i,r]=this._clientOptions.workspaceFolder!==void 0?[this._clientOptions.workspaceFolder.uri.fsPath,[{uri:this._c2p.asUri(this._clientOptions.workspaceFolder.uri),name:this._clientOptions.workspaceFolder.name}]]:[this._clientGetRootPath(),null],s={processId:null,clientInfo:{name:ft.env.appName,version:ft.version},locale:this.getLocale(),rootPath:i||null,rootUri:i?this._c2p.asUri(ft.Uri.file(i)):null,capabilities:this.computeClientCapabilities(),initializationOptions:sr.func(n)?n():n,trace:oe.Trace.toString(this._trace),workspaceFolders:r};if(this.fillInitializeParams(s),this._clientOptions.progressOnInitialization){let o=zL.generateUuid(),a=new H4.ProgressPart(e,o);s.workDoneToken=o;try{let c=await this.doInitialize(e,s);return a.done(),c}catch(c){throw a.cancel(),c}}else return this.doInitialize(e,s)}async doInitialize(e,n){try{let i=await e.initialize(n);if(i.capabilities.positionEncoding!==void 0&&i.capabilities.positionEncoding!==oe.PositionEncodingKind.UTF16)throw new Error(`Unsupported position encoding (${i.capabilities.positionEncoding}) received from server ${this.name}`);this._initializeResult=i,this.$state=We.Running;let r;sr.number(i.capabilities.textDocumentSync)?i.capabilities.textDocumentSync===oe.TextDocumentSyncKind.None?r={openClose:!1,change:oe.TextDocumentSyncKind.None,save:void 0}:r={openClose:!0,change:i.capabilities.textDocumentSync,save:{includeText:!1}}:i.capabilities.textDocumentSync!==void 0&&i.capabilities.textDocumentSync!==null&&(r=i.capabilities.textDocumentSync),this._capabilities=Object.assign({},i.capabilities,{resolvedTextDocumentSync:r}),e.onNotification(oe.PublishDiagnosticsNotification.type,s=>this.handleDiagnostics(s)),e.onRequest(oe.RegistrationRequest.type,s=>this.handleRegistrationRequest(s)),e.onRequest("client/registerFeature",s=>this.handleRegistrationRequest(s)),e.onRequest(oe.UnregistrationRequest.type,s=>this.handleUnregistrationRequest(s)),e.onRequest("client/unregisterFeature",s=>this.handleUnregistrationRequest(s)),e.onRequest(oe.ApplyWorkspaceEditRequest.type,s=>this.handleApplyWorkspaceEdit(s));for(let[s,o]of this._pendingNotificationHandlers)this._notificationDisposables.set(s,e.onNotification(s,o));this._pendingNotificationHandlers.clear();for(let[s,o]of this._pendingRequestHandlers)this._requestDisposables.set(s,e.onRequest(s,o));this._pendingRequestHandlers.clear();for(let[s,o]of this._pendingProgressHandlers)this._progressDisposables.set(s,e.onProgress(o.type,s,o.handler));return this._pendingProgressHandlers.clear(),await e.sendNotification(oe.InitializedNotification.type,{}),this.hookFileEvents(e),this.hookConfigurationChanged(e),this.initializeFeatures(e),i}catch(i){throw this._clientOptions.initializationFailedHandler?this._clientOptions.initializationFailedHandler(i)?this.initialize(e):this.stop():i instanceof oe.ResponseError&&i.data&&i.data.retry?ft.window.showErrorMessage(i.message,{title:"Retry",id:"retry"}).then(r=>{r&&r.id==="retry"?this.initialize(e):this.stop()}):(i&&i.message&&ft.window.showErrorMessage(i.message),this.error("Server initialization failed.",i),this.stop()),i}}_clientGetRootPath(){let e=ft.workspace.workspaceFolders;if(!e||e.length===0)return;let n=e[0];if(n.uri.scheme==="file")return n.uri.fsPath}stop(e=2e3){return this.shutdown("stop",e)}dispose(e=2e3){try{return this._disposed="disposing",this.stop(e)}finally{this._disposed="disposed"}}async shutdown(e,n){if(this.$state===We.Stopped||this.$state===We.Initial)return;if(this.$state===We.Stopping){if(this._onStop!==void 0)return this._onStop;throw new Error("Client is stopping but no stop promise available.")}let i=this.activeConnection();if(i===void 0||this.$state!==We.Running)throw new Error(`Client is not running and can't be stopped. It's current state is: ${this.$state}`);this._initializeResult=void 0,this.$state=We.Stopping,this.cleanUp(e);let r=new Promise(o=>{(0,oe.RAL)().timer.setTimeout(o,n)}),s=(async o=>(await o.shutdown(),await o.exit(),o))(i);return this._onStop=Promise.race([r,s]).then(o=>{if(o!==void 0)o.end(),o.dispose();else throw this.error("Stopping server timed out",void 0,!1),new Error("Stopping the server timed out")},o=>{throw this.error("Stopping server failed",o,!1),o}).finally(()=>{this.$state=We.Stopped,e==="stop"&&this.cleanUpChannel(),this._onStart=void 0,this._onStop=void 0,this._connection=void 0,this._ignoredRegistrations.clear()})}cleanUp(e){this._fileEvents=[],this._fileEventDelayer.cancel();let n=this._listeners.splice(0,this._listeners.length);for(let i of n)i.dispose();this._syncedDocuments&&this._syncedDocuments.clear();for(let i of Array.from(this._features.entries()).map(r=>r[1]).reverse())i.clear();e==="stop"&&this._diagnostics!==void 0&&(this._diagnostics.dispose(),this._diagnostics=void 0),this._idleInterval!==void 0&&(this._idleInterval.dispose(),this._idleInterval=void 0)}cleanUpChannel(){this._outputChannel!==void 0&&this._disposeOutputChannel&&(this._outputChannel.dispose(),this._outputChannel=void 0)}notifyFileEvent(e){let n=this;async function i(s){return n._fileEvents.push(s),n._fileEventDelayer.trigger(async()=>{await n.sendNotification(oe.DidChangeWatchedFilesNotification.type,{changes:n._fileEvents}),n._fileEvents=[]})}let r=this.clientOptions.middleware?.workspace;(r?.didChangeWatchedFile?r.didChangeWatchedFile(e,i):i(e)).catch(s=>{n.error("Notify file events failed.",s)})}async sendPendingFullTextDocumentChanges(e){return this._pendingChangeSemaphore.lock(async()=>{try{let n=this._didChangeTextDocumentFeature.getPendingDocumentChanges(this._pendingOpenNotifications);if(n.length===0)return;for(let i of n){let r=this.code2ProtocolConverter.asChangeTextDocumentParams(i);await e.sendNotification(oe.DidChangeTextDocumentNotification.type,r),this._didChangeTextDocumentFeature.notificationSent(i,oe.DidChangeTextDocumentNotification.type,r)}}catch(n){throw this.error("Sending pending changes failed",n,!1),n}})}triggerPendingChangeDelivery(){this._pendingChangeDelayer.trigger(async()=>{let e=this.activeConnection();if(e===void 0){this.triggerPendingChangeDelivery();return}await this.sendPendingFullTextDocumentChanges(e)}).catch(e=>this.error("Delivering pending changes failed",e,!1))}handleDiagnostics(e){if(!this._diagnostics)return;let n=e.uri;this._diagnosticQueueState.state==="busy"&&this._diagnosticQueueState.document===n&&this._diagnosticQueueState.tokenSource.cancel(),this._diagnosticQueue.set(e.uri,e.diagnostics),this.triggerDiagnosticQueue()}triggerDiagnosticQueue(){(0,oe.RAL)().timer.setImmediate(()=>{this.workDiagnosticQueue()})}workDiagnosticQueue(){if(this._diagnosticQueueState.state==="busy")return;let e=this._diagnosticQueue.entries().next();if(e.done===!0)return;let[n,i]=e.value;this._diagnosticQueue.delete(n);let r=new ft.CancellationTokenSource;this._diagnosticQueueState={state:"busy",document:n,tokenSource:r},this._p2c.asDiagnostics(i,r.token).then(s=>{if(!r.token.isCancellationRequested){let o=this._p2c.asUri(n),a=this.clientOptions.middleware;a.handleDiagnostics?a.handleDiagnostics(o,s,(c,l)=>this.setDiagnostics(c,l)):this.setDiagnostics(o,s)}}).finally(()=>{this._diagnosticQueueState={state:"idle"},this.triggerDiagnosticQueue()})}setDiagnostics(e,n){this._diagnostics&&this._diagnostics.set(e,n)}getLocale(){return ft.env.language}async $start(){if(this.$state===We.StartFailed)throw new Error("Previous start failed. Can't restart server.");await this.start();let e=this.activeConnection();if(e===void 0)throw new Error("Starting server failed");return e}async createConnection(){let e=(r,s,o)=>{this.handleConnectionError(r,s,o).catch(a=>this.error("Handling connection error failed",a))},n=()=>{this.handleConnectionClosed().catch(r=>this.error("Handling connection close failed",r))},i=await this.createMessageTransports(this._clientOptions.stdioEncoding||"utf8");return this._connection=DG(i.reader,i.writer,e,n,this._clientOptions.connectionOptions),this._connection}async handleConnectionClosed(){if(this.$state===We.Stopped)return;try{this._connection!==void 0&&this._connection.dispose()}catch{}let e={action:Ls.DoNotRestart};if(this.$state!==We.Stopping)try{e=await this._clientOptions.errorHandler.closed()}catch{}this._connection=void 0,e.action===Ls.DoNotRestart?(this.error(e.message??"Connection to server got closed. Server will not be restarted.",void 0,e.handled===!0?!1:"force"),this.cleanUp("stop"),this.$state===We.Starting?this.$state=We.StartFailed:this.$state=We.Stopped,this._onStop=Promise.resolve(),this._onStart=void 0):e.action===Ls.Restart&&(this.info(e.message??"Connection to server got closed. Server will restart.",!e.handled),this.cleanUp("restart"),this.$state=We.Initial,this._onStop=Promise.resolve(),this._onStart=void 0,this.start().catch(n=>this.error("Restarting server failed",n,"force")))}async handleConnectionError(e,n,i){let r=await this._clientOptions.errorHandler.error(e,n,i);r.action===vl.Shutdown?(this.error(r.message??`Client ${this._name}: connection to server is erroring.
${e.message}
Shutting down server.`,void 0,r.handled===!0?!1:"force"),this.stop().catch(s=>{this.error("Stopping server failed",s,!1)})):this.error(r.message??`Client ${this._name}: connection to server is erroring.
${e.message}`,void 0,r.handled===!0?!1:"force")}hookConfigurationChanged(e){this._listeners.push(ft.workspace.onDidChangeConfiguration(()=>{this.refreshTrace(e,!0)}))}refreshTrace(e,n=!1){let i=ft.workspace.getConfiguration(this._id),r=oe.Trace.Off,s=oe.TraceFormat.Text;if(i){let o=i.get("trace.server","off");typeof o=="string"?r=oe.Trace.fromString(o):(r=oe.Trace.fromString(i.get("trace.server.verbosity","off")),s=oe.TraceFormat.fromString(i.get("trace.server.format","text")))}this._trace=r,this._traceFormat=s,e.trace(this._trace,this._tracer,{sendNotification:n,traceFormat:this._traceFormat}).catch(o=>{this.error("Updating trace failed with error",o,!1)})}hookFileEvents(e){let n=this._clientOptions.synchronize.fileEvents;if(!n)return;let i;sr.array(n)?i=n:i=[n],i&&this._dynamicFeatures.get(oe.DidChangeWatchedFilesNotification.type.method).registerRaw(zL.generateUuid(),i)}registerFeatures(e){for(let n of e)this.registerFeature(n)}registerFeature(e){if(this._features.push(e),rr.DynamicFeature.is(e)){let n=e.registrationType;this._dynamicFeatures.set(n.method,e)}}getFeature(e){return this._dynamicFeatures.get(e)}hasDedicatedTextSynchronizationFeature(e){let n=this.getFeature(oe.NotebookDocumentSyncRegistrationType.method);return n===void 0||!(n instanceof GL.NotebookDocumentSyncFeature)?!1:n.handles(e)}registerBuiltinFeatures(){let e=new Map;this.registerFeature(new JL.ConfigurationFeature(this)),this.registerFeature(new ec.DidOpenTextDocumentFeature(this,this._syncedDocuments)),this._didChangeTextDocumentFeature=new ec.DidChangeTextDocumentFeature(this,e),this._didChangeTextDocumentFeature.onPendingChangeAdded(()=>{this.triggerPendingChangeDelivery()}),this.registerFeature(this._didChangeTextDocumentFeature),this.registerFeature(new ec.WillSaveFeature(this)),this.registerFeature(new ec.WillSaveWaitUntilFeature(this)),this.registerFeature(new ec.DidSaveTextDocumentFeature(this)),this.registerFeature(new ec.DidCloseTextDocumentFeature(this,this._syncedDocuments,e)),this.registerFeature(new oG.FileSystemWatcherFeature(this,n=>this.notifyFileEvent(n))),this.registerFeature(new z4.CompletionItemFeature(this)),this.registerFeature(new G4.HoverFeature(this)),this.registerFeature(new X4.SignatureHelpFeature(this)),this.registerFeature(new J4.DefinitionFeature(this)),this.registerFeature(new eG.ReferencesFeature(this)),this.registerFeature(new Y4.DocumentHighlightFeature(this)),this.registerFeature(new Q4.DocumentSymbolFeature(this)),this.registerFeature(new Z4.WorkspaceSymbolFeature(this)),this.registerFeature(new tG.CodeActionFeature(this)),this.registerFeature(new nG.CodeLensFeature(this)),this.registerFeature(new AT.DocumentFormattingFeature(this)),this.registerFeature(new AT.DocumentRangeFormattingFeature(this)),this.registerFeature(new AT.DocumentOnTypeFormattingFeature(this)),this.registerFeature(new iG.RenameFeature(this)),this.registerFeature(new rG.DocumentLinkFeature(this)),this.registerFeature(new sG.ExecuteCommandFeature(this)),this.registerFeature(new JL.SyncConfigurationFeature(this)),this.registerFeature(new uG.TypeDefinitionFeature(this)),this.registerFeature(new cG.ImplementationFeature(this)),this.registerFeature(new aG.ColorProviderFeature(this)),this.clientOptions.workspaceFolder===void 0&&this.registerFeature(new lG.WorkspaceFoldersFeature(this)),this.registerFeature(new dG.FoldingRangeFeature(this)),this.registerFeature(new fG.DeclarationFeature(this)),this.registerFeature(new pG.SelectionRangeFeature(this)),this.registerFeature(new hG.ProgressFeature(this)),this.registerFeature(new gG.CallHierarchyFeature(this)),this.registerFeature(new mG.SemanticTokensFeature(this)),this.registerFeature(new yG.LinkedEditingFeature(this)),this.registerFeature(new tc.DidCreateFilesFeature(this)),this.registerFeature(new tc.DidRenameFilesFeature(this)),this.registerFeature(new tc.DidDeleteFilesFeature(this)),this.registerFeature(new tc.WillCreateFilesFeature(this)),this.registerFeature(new tc.WillRenameFilesFeature(this)),this.registerFeature(new tc.WillDeleteFilesFeature(this)),this.registerFeature(new CG.TypeHierarchyFeature(this)),this.registerFeature(new vG.InlineValueFeature(this)),this.registerFeature(new SG.InlayHintsFeature(this)),this.registerFeature(new V4.DiagnosticFeature(this)),this.registerFeature(new GL.NotebookDocumentSyncFeature(this))}registerProposedFeatures(){this.registerFeatures(LT.createAll(this))}fillInitializeParams(e){for(let n of this._features)sr.func(n.fillInitializeParams)&&n.fillInitializeParams(e)}computeClientCapabilities(){let e={};(0,rr.ensure)(e,"workspace").applyEdit=!0;let n=(0,rr.ensure)((0,rr.ensure)(e,"workspace"),"workspaceEdit");n.documentChanges=!0,n.resourceOperations=[oe.ResourceOperationKind.Create,oe.ResourceOperationKind.Rename,oe.ResourceOperationKind.Delete],n.failureHandling=oe.FailureHandlingKind.TextOnlyTransactional,n.normalizesLineEndings=!0,n.changeAnnotationSupport={groupsOnLabel:!0};let i=(0,rr.ensure)((0,rr.ensure)(e,"textDocument"),"publishDiagnostics");i.relatedInformation=!0,i.versionSupport=!1,i.tagSupport={valueSet:[oe.DiagnosticTag.Unnecessary,oe.DiagnosticTag.Deprecated]},i.codeDescriptionSupport=!0,i.dataSupport=!0;let r=(0,rr.ensure)(e,"window"),s=(0,rr.ensure)(r,"showMessage");s.messageActionItem={additionalPropertiesSupport:!0};let o=(0,rr.ensure)(r,"showDocument");o.support=!0;let a=(0,rr.ensure)(e,"general");a.staleRequestSupport={cancel:!0,retryOnContentModified:Array.from(t.RequestsToCancelOnContentModified)},a.regularExpressions={engine:"ECMAScript",version:"ES2020"},a.markdown={parser:"marked",version:"1.1.0"},a.positionEncodings=["utf-16"],this._clientOptions.markdown.supportHtml&&(a.markdown.allowedTags=["ul","li","p","code","blockquote","ol","h1","h2","h3","h4","h5","h6","hr","em","pre","table","thead","tbody","tr","th","td","div","del","a","strong","br","img","span"]);for(let c of this._features)c.fillClientCapabilities(e);return e}initializeFeatures(e){let n=this._clientOptions.documentSelector;for(let i of this._features)sr.func(i.preInitialize)&&i.preInitialize(this._capabilities,n);for(let i of this._features)i.initialize(this._capabilities,n)}async handleRegistrationRequest(e){let n=this.clientOptions.middleware?.handleRegisterCapability;return n?n(e,i=>this.doRegisterCapability(i)):this.doRegisterCapability(e)}async doRegisterCapability(e){if(!this.isRunning()){for(let n of e.registrations)this._ignoredRegistrations.add(n.id);return}for(let n of e.registrations){let i=this._dynamicFeatures.get(n.method);if(i===void 0)return Promise.reject(new Error(`No feature implementation for ${n.method} found. Registration failed.`));let r=n.registerOptions??{};r.documentSelector=r.documentSelector??this._clientOptions.documentSelector;let s={id:n.id,registerOptions:r};try{i.register(s)}catch(o){return Promise.reject(o)}}}async handleUnregistrationRequest(e){let n=this.clientOptions.middleware?.handleUnregisterCapability;return n?n(e,i=>this.doUnregisterCapability(i)):this.doUnregisterCapability(e)}async doUnregisterCapability(e){for(let n of e.unregisterations){if(this._ignoredRegistrations.has(n.id))continue;let i=this._dynamicFeatures.get(n.method);if(!i)return Promise.reject(new Error(`No feature implementation for ${n.method} found. Unregistration failed.`));i.unregister(n.id)}}async handleApplyWorkspaceEdit(e){let n=e.edit,i=await this.workspaceEditLock.lock(()=>this._p2c.asWorkspaceEdit(n)),r=new Map;ft.workspace.textDocuments.forEach(o=>r.set(o.uri.toString(),o));let s=!1;if(n.documentChanges){for(let o of n.documentChanges)if(oe.TextDocumentEdit.is(o)&&o.textDocument.version&&o.textDocument.version>=0){let a=this._p2c.asUri(o.textDocument.uri).toString(),c=r.get(a);if(c&&c.version!==o.textDocument.version){s=!0;break}}}return s?Promise.resolve({applied:!1}):sr.asPromise(ft.workspace.applyEdit(i).then(o=>({applied:o})))}handleFailedRequest(e,n,i,r,s=!0){if(i instanceof oe.ResponseError){if(i.code===oe.ErrorCodes.PendingResponseRejected||i.code===oe.ErrorCodes.ConnectionInactive)return r;if(i.code===oe.LSPErrorCodes.RequestCancelled||i.code===oe.LSPErrorCodes.ServerCancelled){if(n!==void 0&&n.isCancellationRequested)return r;throw i.data!==void 0?new rr.LSPCancellationError(i.data):new ft.CancellationError}else if(i.code===oe.LSPErrorCodes.ContentModified){if(t.RequestsToCancelOnContentModified.has(e.method)||t.CancellableResolveCalls.has(e.method))throw new ft.CancellationError;return r}}throw this.error(`Request ${e.method} failed.`,i,s),i}};hn.BaseLanguageClient=Sl;Sl.RequestsToCancelOnContentModified=new Set([oe.SemanticTokensRequest.method,oe.SemanticTokensRangeRequest.method,oe.SemanticTokensDeltaRequest.method]);Sl.CancellableResolveCalls=new Set([oe.CompletionResolveRequest.method,oe.CodeLensResolveRequest.method,oe.CodeActionResolveRequest.method,oe.InlayHintResolveRequest.method,oe.DocumentLinkResolveRequest.method,oe.WorkspaceSymbolResolveRequest.method]);var NT=class{error(e){(0,oe.RAL)().console.error(e)}warn(e){(0,oe.RAL)().console.warn(e)}info(e){(0,oe.RAL)().console.info(e)}log(e){(0,oe.RAL)().console.log(e)}};function DG(t,e,n,i,r){let s=new NT,o=(0,oe.createProtocolConnection)(t,e,s,r);return o.onError(c=>{n(c[0],c[1],c[2])}),o.onClose(i),{listen:()=>o.listen(),sendRequest:o.sendRequest,onRequest:o.onRequest,hasPendingResponse:o.hasPendingResponse,sendNotification:o.sendNotification,onNotification:o.onNotification,onProgress:o.onProgress,sendProgress:o.sendProgress,trace:(c,l,f)=>{let g={sendNotification:!1,traceFormat:oe.TraceFormat.Text};return f===void 0?o.trace(c,l,g):(sr.boolean(f),o.trace(c,l,f))},initialize:c=>o.sendRequest(oe.InitializeRequest.type,c),shutdown:()=>o.sendRequest(oe.ShutdownRequest.type,void 0),exit:()=>o.sendNotification(oe.ExitNotification.type),end:()=>o.end(),dispose:()=>o.dispose()}}var LT;(function(t){function e(n){return[new bG.InlineCompletionItemFeature(n)]}t.createAll=e})(LT||(hn.ProposedFeatures=LT={}))});var ZL=F(Fh=>{"use strict";Object.defineProperty(Fh,"__esModule",{value:!0});Fh.terminate=void 0;var QL=require("child_process"),TG=require("path"),wG=process.platform==="win32",xG=process.platform==="darwin",EG=process.platform==="linux";function kG(t,e){if(wG)try{let r={stdio:["pipe","pipe","ignore"]};return e&&(r.cwd=e),QL.execFileSync("taskkill",["/T","/F","/PID",t.pid.toString()],r),!0}catch{return!1}else if(EG||xG)try{var n=(0,TG.join)(__dirname,"terminateProcess.sh"),i=QL.spawnSync(n,[t.pid.toString()]);return!i.error}catch{return!1}else return t.kill("SIGKILL"),!0}Fh.terminate=kG});var MT=F((Fse,eO)=>{"use strict";eO.exports=_e()});var bl=F((Pse,tO)=>{var FG=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};tO.exports=FG});var Ph=F((Rse,nO)=>{var PG="2.0.0",RG=Number.MAX_SAFE_INTEGER||9007199254740991,AG=16,IG=250,_G=["major","premajor","minor","preminor","patch","prepatch","prerelease"];nO.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:AG,MAX_SAFE_BUILD_LENGTH:IG,MAX_SAFE_INTEGER:RG,RELEASE_TYPES:_G,SEMVER_SPEC_VERSION:PG,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var Rh=F((Ir,iO)=>{var{MAX_SAFE_COMPONENT_LENGTH:qT,MAX_SAFE_BUILD_LENGTH:NG,MAX_LENGTH:LG}=Ph(),OG=bl();Ir=iO.exports={};var MG=Ir.re=[],qG=Ir.safeRe=[],fe=Ir.src=[],UG=Ir.safeSrc=[],pe=Ir.t={},jG=0,UT="[a-zA-Z0-9-]",BG=[["\\s",1],["\\d",LG],[UT,NG]],WG=t=>{for(let[e,n]of BG)t=t.split(`${e}*`).join(`${e}{0,${n}}`).split(`${e}+`).join(`${e}{1,${n}}`);return t},Me=(t,e,n)=>{let i=WG(e),r=jG++;OG(t,r,e),pe[t]=r,fe[r]=e,UG[r]=i,MG[r]=new RegExp(e,n?"g":void 0),qG[r]=new RegExp(i,n?"g":void 0)};Me("NUMERICIDENTIFIER","0|[1-9]\\d*");Me("NUMERICIDENTIFIERLOOSE","\\d+");Me("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${UT}*`);Me("MAINVERSION",`(${fe[pe.NUMERICIDENTIFIER]})\\.(${fe[pe.NUMERICIDENTIFIER]})\\.(${fe[pe.NUMERICIDENTIFIER]})`);Me("MAINVERSIONLOOSE",`(${fe[pe.NUMERICIDENTIFIERLOOSE]})\\.(${fe[pe.NUMERICIDENTIFIERLOOSE]})\\.(${fe[pe.NUMERICIDENTIFIERLOOSE]})`);Me("PRERELEASEIDENTIFIER",`(?:${fe[pe.NUMERICIDENTIFIER]}|${fe[pe.NONNUMERICIDENTIFIER]})`);Me("PRERELEASEIDENTIFIERLOOSE",`(?:${fe[pe.NUMERICIDENTIFIERLOOSE]}|${fe[pe.NONNUMERICIDENTIFIER]})`);Me("PRERELEASE",`(?:-(${fe[pe.PRERELEASEIDENTIFIER]}(?:\\.${fe[pe.PRERELEASEIDENTIFIER]})*))`);Me("PRERELEASELOOSE",`(?:-?(${fe[pe.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${fe[pe.PRERELEASEIDENTIFIERLOOSE]})*))`);Me("BUILDIDENTIFIER",`${UT}+`);Me("BUILD",`(?:\\+(${fe[pe.BUILDIDENTIFIER]}(?:\\.${fe[pe.BUILDIDENTIFIER]})*))`);Me("FULLPLAIN",`v?${fe[pe.MAINVERSION]}${fe[pe.PRERELEASE]}?${fe[pe.BUILD]}?`);Me("FULL",`^${fe[pe.FULLPLAIN]}$`);Me("LOOSEPLAIN",`[v=\\s]*${fe[pe.MAINVERSIONLOOSE]}${fe[pe.PRERELEASELOOSE]}?${fe[pe.BUILD]}?`);Me("LOOSE",`^${fe[pe.LOOSEPLAIN]}$`);Me("GTLT","((?:<|>)?=?)");Me("XRANGEIDENTIFIERLOOSE",`${fe[pe.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);Me("XRANGEIDENTIFIER",`${fe[pe.NUMERICIDENTIFIER]}|x|X|\\*`);Me("XRANGEPLAIN",`[v=\\s]*(${fe[pe.XRANGEIDENTIFIER]})(?:\\.(${fe[pe.XRANGEIDENTIFIER]})(?:\\.(${fe[pe.XRANGEIDENTIFIER]})(?:${fe[pe.PRERELEASE]})?${fe[pe.BUILD]}?)?)?`);Me("XRANGEPLAINLOOSE",`[v=\\s]*(${fe[pe.XRANGEIDENTIFIERLOOSE]})(?:\\.(${fe[pe.XRANGEIDENTIFIERLOOSE]})(?:\\.(${fe[pe.XRANGEIDENTIFIERLOOSE]})(?:${fe[pe.PRERELEASELOOSE]})?${fe[pe.BUILD]}?)?)?`);Me("XRANGE",`^${fe[pe.GTLT]}\\s*${fe[pe.XRANGEPLAIN]}$`);Me("XRANGELOOSE",`^${fe[pe.GTLT]}\\s*${fe[pe.XRANGEPLAINLOOSE]}$`);Me("COERCEPLAIN",`(^|[^\\d])(\\d{1,${qT}})(?:\\.(\\d{1,${qT}}))?(?:\\.(\\d{1,${qT}}))?`);Me("COERCE",`${fe[pe.COERCEPLAIN]}(?:$|[^\\d])`);Me("COERCEFULL",fe[pe.COERCEPLAIN]+`(?:${fe[pe.PRERELEASE]})?(?:${fe[pe.BUILD]})?(?:$|[^\\d])`);Me("COERCERTL",fe[pe.COERCE],!0);Me("COERCERTLFULL",fe[pe.COERCEFULL],!0);Me("LONETILDE","(?:~>?)");Me("TILDETRIM",`(\\s*)${fe[pe.LONETILDE]}\\s+`,!0);Ir.tildeTrimReplace="$1~";Me("TILDE",`^${fe[pe.LONETILDE]}${fe[pe.XRANGEPLAIN]}$`);Me("TILDELOOSE",`^${fe[pe.LONETILDE]}${fe[pe.XRANGEPLAINLOOSE]}$`);Me("LONECARET","(?:\\^)");Me("CARETTRIM",`(\\s*)${fe[pe.LONECARET]}\\s+`,!0);Ir.caretTrimReplace="$1^";Me("CARET",`^${fe[pe.LONECARET]}${fe[pe.XRANGEPLAIN]}$`);Me("CARETLOOSE",`^${fe[pe.LONECARET]}${fe[pe.XRANGEPLAINLOOSE]}$`);Me("COMPARATORLOOSE",`^${fe[pe.GTLT]}\\s*(${fe[pe.LOOSEPLAIN]})$|^$`);Me("COMPARATOR",`^${fe[pe.GTLT]}\\s*(${fe[pe.FULLPLAIN]})$|^$`);Me("COMPARATORTRIM",`(\\s*)${fe[pe.GTLT]}\\s*(${fe[pe.LOOSEPLAIN]}|${fe[pe.XRANGEPLAIN]})`,!0);Ir.comparatorTrimReplace="$1$2$3";Me("HYPHENRANGE",`^\\s*(${fe[pe.XRANGEPLAIN]})\\s+-\\s+(${fe[pe.XRANGEPLAIN]})\\s*$`);Me("HYPHENRANGELOOSE",`^\\s*(${fe[pe.XRANGEPLAINLOOSE]})\\s+-\\s+(${fe[pe.XRANGEPLAINLOOSE]})\\s*$`);Me("STAR","(<|>)?=?\\s*\\*");Me("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");Me("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var Ah=F((Ase,rO)=>{var KG=Object.freeze({loose:!0}),$G=Object.freeze({}),HG=t=>t?typeof t!="object"?KG:t:$G;rO.exports=HG});var cO=F((Ise,aO)=>{var sO=/^[0-9]+$/,oO=(t,e)=>{let n=sO.test(t),i=sO.test(e);return n&&i&&(t=+t,e=+e),t===e?0:n&&!i?-1:i&&!n?1:t<e?-1:1},VG=(t,e)=>oO(e,t);aO.exports={compareIdentifiers:oO,rcompareIdentifiers:VG}});var Dl=F((_se,fO)=>{var Ih=bl(),{MAX_LENGTH:uO,MAX_SAFE_INTEGER:_h}=Ph(),{safeRe:lO,safeSrc:dO,t:Nh}=Rh(),zG=Ah(),{compareIdentifiers:nc}=cO(),jT=class t{constructor(e,n){if(n=zG(n),e instanceof t){if(e.loose===!!n.loose&&e.includePrerelease===!!n.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>uO)throw new TypeError(`version is longer than ${uO} characters`);Ih("SemVer",e,n),this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease;let i=e.trim().match(n.loose?lO[Nh.LOOSE]:lO[Nh.FULL]);if(!i)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+i[1],this.minor=+i[2],this.patch=+i[3],this.major>_h||this.major<0)throw new TypeError("Invalid major version");if(this.minor>_h||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>_h||this.patch<0)throw new TypeError("Invalid patch version");i[4]?this.prerelease=i[4].split(".").map(r=>{if(/^[0-9]+$/.test(r)){let s=+r;if(s>=0&&s<_h)return s}return r}):this.prerelease=[],this.build=i[5]?i[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(Ih("SemVer.compare",this.version,this.options,e),!(e instanceof t)){if(typeof e=="string"&&e===this.version)return 0;e=new t(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof t||(e=new t(e,this.options)),nc(this.major,e.major)||nc(this.minor,e.minor)||nc(this.patch,e.patch)}comparePre(e){if(e instanceof t||(e=new t(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let n=0;do{let i=this.prerelease[n],r=e.prerelease[n];if(Ih("prerelease compare",n,i,r),i===void 0&&r===void 0)return 0;if(r===void 0)return 1;if(i===void 0)return-1;if(i===r)continue;return nc(i,r)}while(++n)}compareBuild(e){e instanceof t||(e=new t(e,this.options));let n=0;do{let i=this.build[n],r=e.build[n];if(Ih("build compare",n,i,r),i===void 0&&r===void 0)return 0;if(r===void 0)return 1;if(i===void 0)return-1;if(i===r)continue;return nc(i,r)}while(++n)}inc(e,n,i){if(e.startsWith("pre")){if(!n&&i===!1)throw new Error("invalid increment argument: identifier is empty");if(n){let r=new RegExp(`^${this.options.loose?dO[Nh.PRERELEASELOOSE]:dO[Nh.PRERELEASE]}$`),s=`-${n}`.match(r);if(!s||s[1]!==n)throw new Error(`invalid identifier: ${n}`)}}switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",n,i);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",n,i);break;case"prepatch":this.prerelease.length=0,this.inc("patch",n,i),this.inc("pre",n,i);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",n,i),this.inc("pre",n,i);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let r=Number(i)?1:0;if(this.prerelease.length===0)this.prerelease=[r];else{let s=this.prerelease.length;for(;--s>=0;)typeof this.prerelease[s]=="number"&&(this.prerelease[s]++,s=-2);if(s===-1){if(n===this.prerelease.join(".")&&i===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(r)}}if(n){let s=[n,r];i===!1&&(s=[n]),nc(this.prerelease[0],n)===0?isNaN(this.prerelease[1])&&(this.prerelease=s):this.prerelease=s}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};fO.exports=jT});var gO=F((Nse,hO)=>{var pO=Dl(),GG=(t,e,n=!1)=>{if(t instanceof pO)return t;try{return new pO(t,e)}catch(i){if(!n)return null;throw i}};hO.exports=GG});var yO=F((Lse,mO)=>{var BT=class{constructor(){this.max=1e3,this.map=new Map}get(e){let n=this.map.get(e);if(n!==void 0)return this.map.delete(e),this.map.set(e,n),n}delete(e){return this.map.delete(e)}set(e,n){if(!this.delete(e)&&n!==void 0){if(this.map.size>=this.max){let r=this.map.keys().next().value;this.delete(r)}this.map.set(e,n)}return this}};mO.exports=BT});var Oo=F((Ose,vO)=>{var CO=Dl(),JG=(t,e,n)=>new CO(t,n).compare(new CO(e,n));vO.exports=JG});var bO=F((Mse,SO)=>{var XG=Oo(),YG=(t,e,n)=>XG(t,e,n)===0;SO.exports=YG});var TO=F((qse,DO)=>{var QG=Oo(),ZG=(t,e,n)=>QG(t,e,n)!==0;DO.exports=ZG});var xO=F((Use,wO)=>{var e6=Oo(),t6=(t,e,n)=>e6(t,e,n)>0;wO.exports=t6});var kO=F((jse,EO)=>{var n6=Oo(),i6=(t,e,n)=>n6(t,e,n)>=0;EO.exports=i6});var PO=F((Bse,FO)=>{var r6=Oo(),s6=(t,e,n)=>r6(t,e,n)<0;FO.exports=s6});var AO=F((Wse,RO)=>{var o6=Oo(),a6=(t,e,n)=>o6(t,e,n)<=0;RO.exports=a6});var _O=F((Kse,IO)=>{var c6=bO(),u6=TO(),l6=xO(),d6=kO(),f6=PO(),p6=AO(),h6=(t,e,n,i)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof n=="object"&&(n=n.version),t===n;case"!==":return typeof t=="object"&&(t=t.version),typeof n=="object"&&(n=n.version),t!==n;case"":case"=":case"==":return c6(t,n,i);case"!=":return u6(t,n,i);case">":return l6(t,n,i);case">=":return d6(t,n,i);case"<":return f6(t,n,i);case"<=":return p6(t,n,i);default:throw new TypeError(`Invalid operator: ${e}`)}};IO.exports=h6});var jO=F(($se,UO)=>{var Tl=Symbol("SemVer ANY"),$T=class t{static get ANY(){return Tl}constructor(e,n){if(n=NO(n),e instanceof t){if(e.loose===!!n.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),KT("comparator",e,n),this.options=n,this.loose=!!n.loose,this.parse(e),this.semver===Tl?this.value="":this.value=this.operator+this.semver.version,KT("comp",this)}parse(e){let n=this.options.loose?LO[OO.COMPARATORLOOSE]:LO[OO.COMPARATOR],i=e.match(n);if(!i)throw new TypeError(`Invalid comparator: ${e}`);this.operator=i[1]!==void 0?i[1]:"",this.operator==="="&&(this.operator=""),i[2]?this.semver=new MO(i[2],this.options.loose):this.semver=Tl}toString(){return this.value}test(e){if(KT("Comparator.test",e,this.options.loose),this.semver===Tl||e===Tl)return!0;if(typeof e=="string")try{e=new MO(e,this.options)}catch{return!1}return WT(e,this.operator,this.semver,this.options)}intersects(e,n){if(!(e instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new qO(e.value,n).test(this.value):e.operator===""?e.value===""?!0:new qO(this.value,n).test(e.semver):(n=NO(n),n.includePrerelease&&(this.value==="<0.0.0-0"||e.value==="<0.0.0-0")||!n.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||WT(this.semver,"<",e.semver,n)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||WT(this.semver,">",e.semver,n)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}};UO.exports=$T;var NO=Ah(),{safeRe:LO,t:OO}=Rh(),WT=_O(),KT=bl(),MO=Dl(),qO=HT()});var HT=F((Hse,$O)=>{var g6=/\s+/g,VT=class t{constructor(e,n){if(n=y6(n),e instanceof t)return e.loose===!!n.loose&&e.includePrerelease===!!n.includePrerelease?e:new t(e.raw,n);if(e instanceof zT)return this.raw=e.value,this.set=[[e]],this.formatted=void 0,this;if(this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease,this.raw=e.trim().replace(g6," "),this.set=this.raw.split("||").map(i=>this.parseRange(i.trim())).filter(i=>i.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let i=this.set[0];if(this.set=this.set.filter(r=>!WO(r[0])),this.set.length===0)this.set=[i];else if(this.set.length>1){for(let r of this.set)if(r.length===1&&w6(r[0])){this.set=[r];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let e=0;e<this.set.length;e++){e>0&&(this.formatted+="||");let n=this.set[e];for(let i=0;i<n.length;i++)i>0&&(this.formatted+=" "),this.formatted+=n[i].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(e){let i=((this.options.includePrerelease&&D6)|(this.options.loose&&T6))+":"+e,r=BO.get(i);if(r)return r;let s=this.options.loose,o=s?ui[Hn.HYPHENRANGELOOSE]:ui[Hn.HYPHENRANGE];e=e.replace(o,N6(this.options.includePrerelease)),Dt("hyphen replace",e),e=e.replace(ui[Hn.COMPARATORTRIM],v6),Dt("comparator trim",e),e=e.replace(ui[Hn.TILDETRIM],S6),Dt("tilde trim",e),e=e.replace(ui[Hn.CARETTRIM],b6),Dt("caret trim",e);let a=e.split(" ").map(g=>x6(g,this.options)).join(" ").split(/\s+/).map(g=>_6(g,this.options));s&&(a=a.filter(g=>(Dt("loose invalid filter",g,this.options),!!g.match(ui[Hn.COMPARATORLOOSE])))),Dt("range list",a);let c=new Map,l=a.map(g=>new zT(g,this.options));for(let g of l){if(WO(g))return[g];c.set(g.value,g)}c.size>1&&c.has("")&&c.delete("");let f=[...c.values()];return BO.set(i,f),f}intersects(e,n){if(!(e instanceof t))throw new TypeError("a Range is required");return this.set.some(i=>KO(i,n)&&e.set.some(r=>KO(r,n)&&i.every(s=>r.every(o=>s.intersects(o,n)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new C6(e,this.options)}catch{return!1}for(let n=0;n<this.set.length;n++)if(L6(this.set[n],e,this.options))return!0;return!1}};$O.exports=VT;var m6=yO(),BO=new m6,y6=Ah(),zT=jO(),Dt=bl(),C6=Dl(),{safeRe:ui,t:Hn,comparatorTrimReplace:v6,tildeTrimReplace:S6,caretTrimReplace:b6}=Rh(),{FLAG_INCLUDE_PRERELEASE:D6,FLAG_LOOSE:T6}=Ph(),WO=t=>t.value==="<0.0.0-0",w6=t=>t.value==="",KO=(t,e)=>{let n=!0,i=t.slice(),r=i.pop();for(;n&&i.length;)n=i.every(s=>r.intersects(s,e)),r=i.pop();return n},x6=(t,e)=>(Dt("comp",t,e),t=F6(t,e),Dt("caret",t),t=E6(t,e),Dt("tildes",t),t=R6(t,e),Dt("xrange",t),t=I6(t,e),Dt("stars",t),t),Vn=t=>!t||t.toLowerCase()==="x"||t==="*",E6=(t,e)=>t.trim().split(/\s+/).map(n=>k6(n,e)).join(" "),k6=(t,e)=>{let n=e.loose?ui[Hn.TILDELOOSE]:ui[Hn.TILDE];return t.replace(n,(i,r,s,o,a)=>{Dt("tilde",t,i,r,s,o,a);let c;return Vn(r)?c="":Vn(s)?c=`>=${r}.0.0 <${+r+1}.0.0-0`:Vn(o)?c=`>=${r}.${s}.0 <${r}.${+s+1}.0-0`:a?(Dt("replaceTilde pr",a),c=`>=${r}.${s}.${o}-${a} <${r}.${+s+1}.0-0`):c=`>=${r}.${s}.${o} <${r}.${+s+1}.0-0`,Dt("tilde return",c),c})},F6=(t,e)=>t.trim().split(/\s+/).map(n=>P6(n,e)).join(" "),P6=(t,e)=>{Dt("caret",t,e);let n=e.loose?ui[Hn.CARETLOOSE]:ui[Hn.CARET],i=e.includePrerelease?"-0":"";return t.replace(n,(r,s,o,a,c)=>{Dt("caret",t,r,s,o,a,c);let l;return Vn(s)?l="":Vn(o)?l=`>=${s}.0.0${i} <${+s+1}.0.0-0`:Vn(a)?s==="0"?l=`>=${s}.${o}.0${i} <${s}.${+o+1}.0-0`:l=`>=${s}.${o}.0${i} <${+s+1}.0.0-0`:c?(Dt("replaceCaret pr",c),s==="0"?o==="0"?l=`>=${s}.${o}.${a}-${c} <${s}.${o}.${+a+1}-0`:l=`>=${s}.${o}.${a}-${c} <${s}.${+o+1}.0-0`:l=`>=${s}.${o}.${a}-${c} <${+s+1}.0.0-0`):(Dt("no pr"),s==="0"?o==="0"?l=`>=${s}.${o}.${a}${i} <${s}.${o}.${+a+1}-0`:l=`>=${s}.${o}.${a}${i} <${s}.${+o+1}.0-0`:l=`>=${s}.${o}.${a} <${+s+1}.0.0-0`),Dt("caret return",l),l})},R6=(t,e)=>(Dt("replaceXRanges",t,e),t.split(/\s+/).map(n=>A6(n,e)).join(" ")),A6=(t,e)=>{t=t.trim();let n=e.loose?ui[Hn.XRANGELOOSE]:ui[Hn.XRANGE];return t.replace(n,(i,r,s,o,a,c)=>{Dt("xRange",t,i,r,s,o,a,c);let l=Vn(s),f=l||Vn(o),g=f||Vn(a),p=g;return r==="="&&p&&(r=""),c=e.includePrerelease?"-0":"",l?r===">"||r==="<"?i="<0.0.0-0":i="*":r&&p?(f&&(o=0),a=0,r===">"?(r=">=",f?(s=+s+1,o=0,a=0):(o=+o+1,a=0)):r==="<="&&(r="<",f?s=+s+1:o=+o+1),r==="<"&&(c="-0"),i=`${r+s}.${o}.${a}${c}`):f?i=`>=${s}.0.0${c} <${+s+1}.0.0-0`:g&&(i=`>=${s}.${o}.0${c} <${s}.${+o+1}.0-0`),Dt("xRange return",i),i})},I6=(t,e)=>(Dt("replaceStars",t,e),t.trim().replace(ui[Hn.STAR],"")),_6=(t,e)=>(Dt("replaceGTE0",t,e),t.trim().replace(ui[e.includePrerelease?Hn.GTE0PRE:Hn.GTE0],"")),N6=t=>(e,n,i,r,s,o,a,c,l,f,g,p)=>(Vn(i)?n="":Vn(r)?n=`>=${i}.0.0${t?"-0":""}`:Vn(s)?n=`>=${i}.${r}.0${t?"-0":""}`:o?n=`>=${n}`:n=`>=${n}${t?"-0":""}`,Vn(l)?c="":Vn(f)?c=`<${+l+1}.0.0-0`:Vn(g)?c=`<${l}.${+f+1}.0-0`:p?c=`<=${l}.${f}.${g}-${p}`:t?c=`<${l}.${f}.${+g+1}-0`:c=`<=${c}`,`${n} ${c}`.trim()),L6=(t,e,n)=>{for(let i=0;i<t.length;i++)if(!t[i].test(e))return!1;if(e.prerelease.length&&!n.includePrerelease){for(let i=0;i<t.length;i++)if(Dt(t[i].semver),t[i].semver!==zT.ANY&&t[i].semver.prerelease.length>0){let r=t[i].semver;if(r.major===e.major&&r.minor===e.minor&&r.patch===e.patch)return!0}return!1}return!0}});var VO=F((Vse,HO)=>{var O6=HT(),M6=(t,e,n)=>{try{e=new O6(e,n)}catch{return!1}return e.test(t)};HO.exports=M6});var GO=F(Ti=>{"use strict";var q6=Ti&&Ti.__createBinding||(Object.create?function(t,e,n,i){i===void 0&&(i=n);var r=Object.getOwnPropertyDescriptor(e,n);(!r||("get"in r?!e.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,i,r)}:function(t,e,n,i){i===void 0&&(i=n),t[i]=e[n]}),GT=Ti&&Ti.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&q6(e,t,n)};Object.defineProperty(Ti,"__esModule",{value:!0});Ti.DiagnosticPullMode=Ti.vsdiag=void 0;GT(_e(),Ti);GT(Qe(),Ti);var zO=tD();Object.defineProperty(Ti,"vsdiag",{enumerable:!0,get:function(){return zO.vsdiag}});Object.defineProperty(Ti,"DiagnosticPullMode",{enumerable:!0,get:function(){return zO.DiagnosticPullMode}});GT(OT(),Ti)});var QO=F(li=>{"use strict";var U6=li&&li.__createBinding||(Object.create?function(t,e,n,i){i===void 0&&(i=n);var r=Object.getOwnPropertyDescriptor(e,n);(!r||("get"in r?!e.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,i,r)}:function(t,e,n,i){i===void 0&&(i=n),t[i]=e[n]}),YO=li&&li.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&U6(e,t,n)};Object.defineProperty(li,"__esModule",{value:!0});li.SettingMonitor=li.LanguageClient=li.TransportKind=void 0;var Yr=require("child_process"),JT=require("fs"),XT=require("path"),Ms=require("vscode"),Rt=Oi(),JO=OT(),j6=ZL(),Ut=MT(),B6=gO(),W6=VO();YO(MT(),li);YO(GO(),li);var XO="^1.82.0",jt;(function(t){t[t.stdio=0]="stdio",t[t.ipc=1]="ipc",t[t.pipe=2]="pipe",t[t.socket=3]="socket"})(jt||(li.TransportKind=jt={}));var Os;(function(t){function e(n){let i=n;return i&&i.kind===jt.socket&&Rt.number(i.port)}t.isSocket=e})(Os||(Os={}));var YT;(function(t){function e(n){return Rt.string(n.command)}t.is=e})(YT||(YT={}));var QT;(function(t){function e(n){return Rt.string(n.module)}t.is=e})(QT||(QT={}));var ZT;(function(t){function e(n){let i=n;return i&&i.writer!==void 0&&i.reader!==void 0}t.is=e})(ZT||(ZT={}));var ew;(function(t){function e(n){let i=n;return i&&i.process!==void 0&&typeof i.detached=="boolean"}t.is=e})(ew||(ew={}));var tw=class extends JO.BaseLanguageClient{constructor(e,n,i,r,s){let o,a,c,l,f;Rt.string(n)?(o=e,a=n,c=i,l=r,f=!!s):(o=e.toLowerCase(),a=e,c=n,l=i,f=r),f===void 0&&(f=!1),super(o,a,l),this._serverOptions=c,this._forceDebug=f,this._isInDebugMode=f;try{this.checkVersion()}catch(g){throw Rt.string(g.message)&&this.outputChannel.appendLine(g.message),g}}checkVersion(){let e=B6(Ms.version);if(!e)throw new Error(`No valid VS Code version detected. Version string is: ${Ms.version}`);if(e.prerelease&&e.prerelease.length>0&&(e.prerelease=[]),!W6(e,XO))throw new Error(`The language client requires VS Code version ${XO} but received version ${Ms.version}`)}get isInDebugMode(){return this._isInDebugMode}async restart(){await this.stop(),this.isInDebugMode?(await new Promise(e=>setTimeout(e,1e3)),await this.start()):await this.start()}stop(e=2e3){return super.stop(e).finally(()=>{if(this._serverProcess){let n=this._serverProcess;this._serverProcess=void 0,(this._isDetached===void 0||!this._isDetached)&&this.checkProcessDied(n),this._isDetached=void 0}})}checkProcessDied(e){!e||e.pid===void 0||setTimeout(()=>{try{e.pid!==void 0&&(process.kill(e.pid,0),(0,j6.terminate)(e))}catch{}},2e3)}handleConnectionClosed(){return this._serverProcess=void 0,super.handleConnectionClosed()}fillInitializeParams(e){super.fillInitializeParams(e),e.processId===null&&(e.processId=process.pid)}createMessageTransports(e){function n(f,g){if(!f&&!g)return;let p=Object.create(null);return Object.keys(process.env).forEach(u=>p[u]=process.env[u]),g&&(p.ELECTRON_RUN_AS_NODE="1",p.ELECTRON_NO_ASAR="1"),f&&Object.keys(f).forEach(u=>p[u]=f[u]),p}let i=["--debug=","--debug-brk=","--inspect=","--inspect-brk="],r=["--debug","--debug-brk","--inspect","--inspect-brk"];function s(){let f=process.execArgv;return f?f.some(g=>i.some(p=>g.startsWith(p))||r.some(p=>g===p)):!1}function o(f){if(f.stdin===null||f.stdout===null||f.stderr===null)throw new Error("Process created without stdio streams")}let a=this._serverOptions;if(Rt.func(a))return a().then(f=>{if(JO.MessageTransports.is(f))return this._isDetached=!!f.detached,f;if(ZT.is(f))return this._isDetached=!!f.detached,{reader:new Ut.StreamMessageReader(f.reader),writer:new Ut.StreamMessageWriter(f.writer)};{let g;return ew.is(f)?(g=f.process,this._isDetached=f.detached):(g=f,this._isDetached=!1),g.stderr.on("data",p=>this.outputChannel.append(Rt.string(p)?p:p.toString(e))),{reader:new Ut.StreamMessageReader(g.stdout),writer:new Ut.StreamMessageWriter(g.stdin)}}});let c,l=a;return l.run||l.debug?this._forceDebug||s()?(c=l.debug,this._isInDebugMode=!0):(c=l.run,this._isInDebugMode=!1):c=a,this._getServerWorkingDir(c.options).then(f=>{if(QT.is(c)&&c.module){let g=c,p=g.transport||jt.stdio;if(g.runtime){let u=[],d=g.options??Object.create(null);d.execArgv&&d.execArgv.forEach(D=>u.push(D)),u.push(g.module),g.args&&g.args.forEach(D=>u.push(D));let h=Object.create(null);h.cwd=f,h.env=n(d.env,!1);let m=this._getRuntimePath(g.runtime,f),C;if(p===jt.ipc?(h.stdio=[null,null,null,"ipc"],u.push("--node-ipc")):p===jt.stdio?u.push("--stdio"):p===jt.pipe?(C=(0,Ut.generateRandomPipeName)(),u.push(`--pipe=${C}`)):Os.isSocket(p)&&u.push(`--socket=${p.port}`),u.push(`--clientProcessId=${process.pid.toString()}`),p===jt.ipc||p===jt.stdio){let D=Yr.spawn(m,u,h);return!D||!D.pid?ic(D,`Launching server using runtime ${m} failed.`):(this._serverProcess=D,D.stderr.on("data",w=>this.outputChannel.append(Rt.string(w)?w:w.toString(e))),p===jt.ipc?(D.stdout.on("data",w=>this.outputChannel.append(Rt.string(w)?w:w.toString(e))),Promise.resolve({reader:new Ut.IPCMessageReader(D),writer:new Ut.IPCMessageWriter(D)})):Promise.resolve({reader:new Ut.StreamMessageReader(D.stdout),writer:new Ut.StreamMessageWriter(D.stdin)}))}else{if(p===jt.pipe)return(0,Ut.createClientPipeTransport)(C).then(D=>{let w=Yr.spawn(m,u,h);return!w||!w.pid?ic(w,`Launching server using runtime ${m} failed.`):(this._serverProcess=w,w.stderr.on("data",k=>this.outputChannel.append(Rt.string(k)?k:k.toString(e))),w.stdout.on("data",k=>this.outputChannel.append(Rt.string(k)?k:k.toString(e))),D.onConnected().then(k=>({reader:k[0],writer:k[1]})))});if(Os.isSocket(p))return(0,Ut.createClientSocketTransport)(p.port).then(D=>{let w=Yr.spawn(m,u,h);return!w||!w.pid?ic(w,`Launching server using runtime ${m} failed.`):(this._serverProcess=w,w.stderr.on("data",k=>this.outputChannel.append(Rt.string(k)?k:k.toString(e))),w.stdout.on("data",k=>this.outputChannel.append(Rt.string(k)?k:k.toString(e))),D.onConnected().then(k=>({reader:k[0],writer:k[1]})))})}}else{let u;return new Promise((d,h)=>{let m=(g.args&&g.args.slice())??[];p===jt.ipc?m.push("--node-ipc"):p===jt.stdio?m.push("--stdio"):p===jt.pipe?(u=(0,Ut.generateRandomPipeName)(),m.push(`--pipe=${u}`)):Os.isSocket(p)&&m.push(`--socket=${p.port}`),m.push(`--clientProcessId=${process.pid.toString()}`);let C=g.options??Object.create(null);if(C.env=n(C.env,!0),C.execArgv=C.execArgv||[],C.cwd=f,C.silent=!0,p===jt.ipc||p===jt.stdio){let D=Yr.fork(g.module,m||[],C);o(D),this._serverProcess=D,D.stderr.on("data",w=>this.outputChannel.append(Rt.string(w)?w:w.toString(e))),p===jt.ipc?(D.stdout.on("data",w=>this.outputChannel.append(Rt.string(w)?w:w.toString(e))),d({reader:new Ut.IPCMessageReader(this._serverProcess),writer:new Ut.IPCMessageWriter(this._serverProcess)})):d({reader:new Ut.StreamMessageReader(D.stdout),writer:new Ut.StreamMessageWriter(D.stdin)})}else p===jt.pipe?(0,Ut.createClientPipeTransport)(u).then(D=>{let w=Yr.fork(g.module,m||[],C);o(w),this._serverProcess=w,w.stderr.on("data",k=>this.outputChannel.append(Rt.string(k)?k:k.toString(e))),w.stdout.on("data",k=>this.outputChannel.append(Rt.string(k)?k:k.toString(e))),D.onConnected().then(k=>{d({reader:k[0],writer:k[1]})},h)},h):Os.isSocket(p)&&(0,Ut.createClientSocketTransport)(p.port).then(D=>{let w=Yr.fork(g.module,m||[],C);o(w),this._serverProcess=w,w.stderr.on("data",k=>this.outputChannel.append(Rt.string(k)?k:k.toString(e))),w.stdout.on("data",k=>this.outputChannel.append(Rt.string(k)?k:k.toString(e))),D.onConnected().then(k=>{d({reader:k[0],writer:k[1]})},h)},h)})}}else if(YT.is(c)&&c.command){let g=c,p=c.args!==void 0?c.args.slice(0):[],u,d=c.transport;if(d===jt.stdio)p.push("--stdio");else if(d===jt.pipe)u=(0,Ut.generateRandomPipeName)(),p.push(`--pipe=${u}`);else if(Os.isSocket(d))p.push(`--socket=${d.port}`);else if(d===jt.ipc)throw new Error("Transport kind ipc is not support for command executable");let h=Object.assign({},g.options);if(h.cwd=h.cwd||f,d===void 0||d===jt.stdio){let m=Yr.spawn(g.command,p,h);return!m||!m.pid?ic(m,`Launching server using command ${g.command} failed.`):(m.stderr.on("data",C=>this.outputChannel.append(Rt.string(C)?C:C.toString(e))),this._serverProcess=m,this._isDetached=!!h.detached,Promise.resolve({reader:new Ut.StreamMessageReader(m.stdout),writer:new Ut.StreamMessageWriter(m.stdin)}))}else{if(d===jt.pipe)return(0,Ut.createClientPipeTransport)(u).then(m=>{let C=Yr.spawn(g.command,p,h);return!C||!C.pid?ic(C,`Launching server using command ${g.command} failed.`):(this._serverProcess=C,this._isDetached=!!h.detached,C.stderr.on("data",D=>this.outputChannel.append(Rt.string(D)?D:D.toString(e))),C.stdout.on("data",D=>this.outputChannel.append(Rt.string(D)?D:D.toString(e))),m.onConnected().then(D=>({reader:D[0],writer:D[1]})))});if(Os.isSocket(d))return(0,Ut.createClientSocketTransport)(d.port).then(m=>{let C=Yr.spawn(g.command,p,h);return!C||!C.pid?ic(C,`Launching server using command ${g.command} failed.`):(this._serverProcess=C,this._isDetached=!!h.detached,C.stderr.on("data",D=>this.outputChannel.append(Rt.string(D)?D:D.toString(e))),C.stdout.on("data",D=>this.outputChannel.append(Rt.string(D)?D:D.toString(e))),m.onConnected().then(D=>({reader:D[0],writer:D[1]})))})}}return Promise.reject(new Error("Unsupported server configuration "+JSON.stringify(a,null,4)))}).finally(()=>{this._serverProcess!==void 0&&this._serverProcess.on("exit",(f,g)=>{f!==null&&this.error(`Server process exited with code ${f}.`,void 0,!1),g!==null&&this.error(`Server process exited with signal ${g}.`,void 0,!1)})})}_getRuntimePath(e,n){if(XT.isAbsolute(e))return e;let i=this._mainGetRootPath();if(i!==void 0){let r=XT.join(i,e);if(JT.existsSync(r))return r}if(n!==void 0){let r=XT.join(n,e);if(JT.existsSync(r))return r}return e}_mainGetRootPath(){let e=Ms.workspace.workspaceFolders;if(!e||e.length===0)return;let n=e[0];if(n.uri.scheme==="file")return n.uri.fsPath}_getServerWorkingDir(e){let n=e&&e.cwd;return n||(n=this.clientOptions.workspaceFolder?this.clientOptions.workspaceFolder.uri.fsPath:this._mainGetRootPath()),n?new Promise(i=>{JT.lstat(n,(r,s)=>{i(!r&&s.isDirectory()?n:void 0)})}):Promise.resolve(void 0)}};li.LanguageClient=tw;var nw=class{constructor(e,n){this._client=e,this._setting=n,this._listeners=[]}start(){return Ms.workspace.onDidChangeConfiguration(this.onDidChangeConfiguration,this,this._listeners),this.onDidChangeConfiguration(),new Ms.Disposable(()=>{this._client.needsStop()&&this._client.stop()})}onDidChangeConfiguration(){let e=this._setting.indexOf("."),n=e>=0?this._setting.substr(0,e):this._setting,i=e>=0?this._setting.substr(e+1):void 0,r=i?Ms.workspace.getConfiguration(n).get(i,!1):Ms.workspace.getConfiguration(n);r&&this._client.needsStart()?this._client.start().catch(s=>this._client.error("Start failed after configuration change",s,"force")):!r&&this._client.needsStop()&&this._client.stop().catch(s=>this._client.error("Stop failed after configuration change",s,"force"))}};li.SettingMonitor=nw;function ic(t,e){return t===null?Promise.reject(e):new Promise((n,i)=>{t.on("error",r=>{i(`${e} ${r}`)}),setImmediate(()=>i(e))})}});var rc=F((Jse,ZO)=>{"use strict";ZO.exports=QO()});var CM=F(jh=>{"use strict";Object.defineProperty(jh,"__esModule",{value:!0});jh.codes=void 0;jh.codes=[["af","Afrikaans"],["af-NA","Afrikaans","Namibia"],["af-ZA","Afrikaans","South Africa"],["ak","Akan"],["ak-GH","Akan","Ghana"],["am","Amharic"],["am-ET","Amharic","Ethiopia"],["ar","Arabic"],["ar-1","Arabic"],["ar-AE","Arabic","United Arab Emirates"],["ar-BH","Arabic","Bahrain"],["ar-DJ","Arabic","Djibouti"],["ar-DZ","Arabic","Algeria"],["ar-EG","Arabic","Egypt"],["ar-EH","Arabic"],["ar-ER","Arabic","Eritrea"],["ar-IL","Arabic","Israel"],["ar-IQ","Arabic","Iraq"],["ar-JO","Arabic","Jordan"],["ar-KM","Arabic","Comoros"],["ar-KW","Arabic","Kuwait"],["ar-LB","Arabic","Lebanon"],["ar-LY","Arabic","Libya"],["ar-MA","Arabic","Morocco"],["ar-MR","Arabic","Mauritania"],["ar-OM","Arabic","Oman"],["ar-PS","Arabic"],["ar-QA","Arabic","Qatar"],["ar-SA","Arabic","Saudi Arabia"],["ar-SD","Arabic","Sudan"],["ar-SO","Arabic","Somalia"],["ar-SS","Arabic"],["ar-SY","Arabic","Syria"],["ar-TD","Arabic","Chad"],["ar-TN","Arabic","Tunisia"],["ar-YE","Arabic","Yemen"],["as","Assamese"],["as-IN","Assamese","India"],["az","Azerbaijani"],["az-AZ","Azerbaijani","Azerbaijan"],["be","Belarusian"],["be-BY","Belarusian","Belarus"],["bg","Bulgarian"],["bg-BG","Bulgarian","Bulgaria"],["bm","Bambara"],["bm-ML","Bambara","Mali"],["bn","Bengali"],["bn-BD","Bengali","Bangladesh"],["bn-IN","Bengali","India"],["bo","Tibetan"],["bo-CN","Tibetan","China"],["bo-IN","Tibetan","India"],["br","Breton"],["br-FR","Breton","France"],["bs","Bosnian"],["bs-BA","Bosnian","Bosnia and Herzegovina"],["ca","Catalan"],["ca-AD","Catalan","Andorra"],["ca-ES","Catalan","Spain"],["ca-FR","Catalan","France"],["ca-IT","Catalan","Italy"],["ce","Chechen"],["ce-RU","Chechen","Russia"],["cs","Czech"],["cs-CZ","Czech","Czech Republic"],["cu","Old Slavonic"],["cu-RU","Old Slavonic","Russia"],["cy","Welsh"],["cy-GB","Welsh","United Kingdom"],["da","Danish"],["da-DK","Danish","Denmark"],["da-GL","Danish","Greenland"],["de","German"],["de-AT","German","Austria"],["de-BE","German","Belgium"],["de-CH","German","Switzerland"],["de-DE","German","Germany"],["de-IT","German","Italy"],["de-LI","German","Liechtenstein"],["de-LU","German","Luxembourg"],["dz","Dzongkha"],["dz-BT","Dzongkha","Bhutan"],["ee","Ewe"],["ee-GH","Ewe","Ghana"],["ee-TG","Ewe","Togo"],["el","Greek","Modern (1453-)"],["el-CY","Greek","Cyprus"],["el-GR","Greek","Greece"],["en","English"],["en-AG","English","Antigua and Barbuda"],["en-AI","English","Anguilla"],["en-AS","English","American Samoa"],["en-AT","English","Austria"],["en-AU","English","Australia"],["en-BB","English","Barbados"],["en-BE","English","Belgium"],["en-BI","English","Burundi"],["en-BM","English","Bermuda"],["en-BS","English","Bahamas"],["en-BW","English","Botswana"],["en-BZ","English","Belize"],["en-CA","English","Canada"],["en-CC","English","Cocos (Keeling) Islands"],["en-CH","English","Switzerland"],["en-CK","English","Cook Islands"],["en-CM","English","Cameroon"],["en-CX","English","Christmas Island"],["en-CY","English","Cyprus"],["en-DE","English","Germany"],["en-DG","English"],["en-DK","English","Denmark"],["en-DM","English","Dominica"],["en-ER","English","Eritrea"],["en-FI","English","Finland"],["en-FJ","English","Fiji"],["en-FK","English","Falkland Islands (Islas Malvinas)"],["en-FM","English","Micronesia"],["en-GB","English","United Kingdom"],["en-GD","English","Grenada"],["en-GG","English","Guernsey"],["en-GH","English","Ghana"],["en-GI","English","Gibraltar"],["en-GM","English","Gambia"],["en-GU","English","Guam"],["en-GY","English","Guyana"],["en-HK","English","Hong Kong"],["en-IE","English","Ireland"],["en-IL","English","Israel"],["en-IM","English","Isle of Man"],["en-IN","English","India"],["en-IO","English","British Indian Ocean Territory"],["en-JE","English","Jersey"],["en-JM","English","Jamaica"],["en-KE","English","Kenya"],["en-KI","English","Kiribati"],["en-KN","English","Saint Kitts and Nevis"],["en-KY","English","Cayman Islands"],["en-LC","English","Saint Lucia"],["en-LR","English","Liberia"],["en-LS","English","Lesotho"],["en-MG","English","Madagascar"],["en-MH","English","Marshall Islands"],["en-MO","English","Macau"],["en-MP","English","Northern Mariana Islands"],["en-MS","English","Montserrat"],["en-MT","English","Malta"],["en-MU","English","Mauritius"],["en-MW","English","Malawi"],["en-MY","English","Malaysia"],["en-NA","English","Namibia"],["en-NF","English","Norfolk Island"],["en-NG","English","Nigeria"],["en-NL","English","Netherlands"],["en-NR","English","Nauru"],["en-NU","English","Niue"],["en-NZ","English","New Zealand"],["en-PG","English","Papua New Guinea"],["en-PH","English","Philippines"],["en-PK","English","Pakistan"],["en-PN","English","Pitcairn Islands"],["en-PR","English","Puerto Rico"],["en-PW","English","Palau"],["en-RW","English","Rwanda"],["en-SB","English","Solomon Islands"],["en-SC","English","Seychelles"],["en-SD","English","Sudan"],["en-SE","English","Sweden"],["en-SG","English","Singapore"],["en-SH","English","Saint Helena"],["en-SI","English","Slovenia"],["en-SL","English","Sierra Leone"],["en-SS","English"],["en-SX","English"],["en-SZ","English","Swaziland"],["en-TC","English","Turks and Caicos Islands"],["en-TK","English","Tokelau"],["en-TO","English","Tonga"],["en-TT","English","Trinidad and Tobago"],["en-TV","English","Tuvalu"],["en-TZ","English","Tanzania"],["en-UG","English","Uganda"],["en-UM","English","Baker Island"],["en-US","English","United States"],["en-VC","English","Saint Vincent and the Grenadines"],["en-VG","English","British Virgin Islands"],["en-VI","English","U.S. Virgin Islands"],["en-VU","English","Vanuatu"],["en-WS","English","Samoa"],["en-ZA","English","South Africa"],["en-ZM","English","Zambia"],["en-ZW","English","Zimbabwe"],["eo","Esperanto"],["es","Spanish"],["es-AR","Spanish","Argentina"],["es-BO","Spanish","Bolivia"],["es-BR","Spanish","Brazil"],["es-BZ","Spanish","Belize"],["es-CL","Spanish","Chile"],["es-CO","Spanish","Colombia"],["es-CR","Spanish","Costa Rica"],["es-CU","Spanish","Cuba"],["es-DO","Spanish","Dominican Republic"],["es-EA","Spanish"],["es-EC","Spanish","Ecuador"],["es-ES","Spanish","Spain"],["es-GQ","Spanish","Equatorial Guinea"],["es-GT","Spanish","Guatemala"],["es-HN","Spanish","Honduras"],["es-IC","Spanish"],["es-MX","Spanish","Mexico"],["es-NI","Spanish","Nicaragua"],["es-PA","Spanish","Panama"],["es-PE","Spanish","Peru"],["es-PH","Spanish","Philippines"],["es-PR","Spanish","Puerto Rico"],["es-PY","Spanish","Paraguay"],["es-SV","Spanish","El Salvador"],["es-US","Spanish","United States"],["es-UY","Spanish","Uruguay"],["es-VE","Spanish","Venezuela"],["et","Estonian"],["et-EE","Estonian","Estonia"],["eu","Basque"],["eu-ES","Basque","Spain"],["fa","Persian"],["fa-AF","Persian","Afghanistan"],["fa-IR","Persian","Iran"],["ff","Fulah"],["ff-CM","Fulah","Cameroon"],["ff-GN","Fulah","Guinea"],["ff-MR","Fulah","Mauritania"],["ff-SN","Fulah","Senegal"],["fi","Finnish"],["fi-FI","Finnish","Finland"],["fo","Faroese"],["fo-DK","Faroese","Denmark"],["fo-FO","Faroese","Faroe Islands"],["fr","French"],["fr-BE","French","Belgium"],["fr-BF","French","Burkina Faso"],["fr-BI","French","Burundi"],["fr-BJ","French","Benin"],["fr-BL","French"],["fr-CA","French","Canada"],["fr-CD","French","Congo"],["fr-CF","French","Central African Republic"],["fr-CG","French","Congo"],["fr-CH","French","Switzerland"],["fr-CI","French, Cote d'Ivoire (Ivory Coast)"],["fr-CM","French","Cameroon"],["fr-DJ","French","Djibouti"],["fr-DZ","French","Algeria"],["fr-FR","French","France"],["fr-GA","French","Gabon"],["fr-GF","French","French Guiana"],["fr-GN","French","Guinea"],["fr-GP","French","Saint Barthelemy"],["fr-GQ","French","Equatorial Guinea"],["fr-HT","French","Haiti"],["fr-KM","French","Comoros"],["fr-LU","French","Luxembourg"],["fr-MA","French","Morocco"],["fr-MC","French","Monaco"],["fr-MF","French"],["fr-MG","French","Madagascar"],["fr-ML","French","Mali"],["fr-MQ","French","Martinique"],["fr-MR","French","Mauritania"],["fr-MU","French","Mauritius"],["fr-NC","French","New Caledonia"],["fr-NE","French","Niger"],["fr-PF","French","French Polynesia"],["fr-PM","French","Saint Pierre and Miquelon"],["fr-RE","French","Reunion"],["fr-RW","French","Rwanda"],["fr-SC","French","Seychelles"],["fr-SN","French","Senegal"],["fr-SY","French","Syria"],["fr-TD","French","Chad"],["fr-TG","French","Togo"],["fr-TN","French","Tunisia"],["fr-VU","French","Vanuatu"],["fr-WF","French","Wallis and Futuna"],["fr-YT","French","Mayotte"],["fy","Western Frisian"],["fy-NL","Western Frisian","Netherlands"],["ga","Irish"],["ga-IE","Irish","Ireland"],["gd","Gaelic"],["gd-GB","Gaelic","United Kingdom"],["gl","Galician"],["gl-ES","Galician","Spain"],["gu","Gujarati"],["gu-IN","Gujarati","India"],["gv","Manx"],["gv-IM","Manx","Isle of Man"],["ha","Hausa"],["ha-GH","Hausa","Ghana"],["ha-NE","Hausa","Niger"],["ha-NG","Hausa","Nigeria"],["he","Hebrew"],["he-IL","Hebrew","Israel"],["hi","Hindi"],["hi-IN","Hindi","India"],["hr","Croatian"],["hr-BA","Croatian","Bosnia and Herzegovina"],["hr-HR","Croatian","Croatia"],["hu","Hungarian"],["hu-HU","Hungarian","Hungary"],["hy","Armenian"],["hy-AM","Armenian","Armenia"],["id","Indonesian"],["id-ID","Indonesian","Indonesia"],["ig","Igbo"],["ig-NG","Igbo","Nigeria"],["ii","Sichuan Yi"],["ii-CN","Sichuan Yi","China"],["is","Icelandic"],["is-IS","Icelandic","Iceland"],["it","Italian"],["it-CH","Italian","Switzerland"],["it-IT","Italian","Italy"],["it-SM","Italian","San Marino"],["it-VA","Italian","Vatican City"],["ja","Japanese"],["ja-JP","Japanese","Japan"],["ka","Georgian"],["ka-GE","Georgian","Georgia"],["ki","Kikuyu"],["ki-KE","Kikuyu","Kenya"],["kk","Kazakh"],["kk-KZ","Kazakh","Kazakhstan"],["kl","Kalaallisut"],["kl-GL","Kalaallisut","Greenland"],["km","Central Khmer"],["km-KH","Central Khmer","Cambodia"],["kn","Kannada"],["kn-IN","Kannada","India"],["ko","Korean"],["ko-KP","Korean","Korea"],["ko-KR","Korean","Korea"],["ks","Kashmiri"],["ks-IN","Kashmiri","India"],["kw","Cornish"],["kw-GB","Cornish","United Kingdom"],["ky","Kirghiz"],["ky-KG","Kirghiz","Kyrgyzstan"],["lb","Luxembourgish"],["lb-LU","Luxembourgish","Luxembourg"],["lg","Ganda"],["lg-UG","Ganda","Uganda"],["li","Limburgan"],["ln","Lingala"],["ln-AO","Lingala","Angola"],["ln-CD","Lingala","Congo"],["ln-CF","Lingala","Central African Republic"],["ln-CG","Lingala","Congo"],["lo","Lao"],["lo-LA","Lao","Laos"],["lorem","Lorem-Ipsum"],["lorem-ipsum","Lorem-Ipsum"],["lt","Lithuanian"],["lt-LT","Lithuanian","Lithuania"],["lu","Luba-Katanga"],["lu-CD","Luba-Katanga","Congo"],["lv","Latvian"],["lv-LV","Latvian","Latvia"],["mg","Malagasy"],["mg-MG","Malagasy","Madagascar"],["mk","Macedonian"],["mk-MK","Macedonian","Macedonia"],["ml","Malayalam"],["ml-IN","Malayalam","India"],["mn","Mongolian"],["mn-MN","Mongolian","Mongolia"],["mr","Marathi"],["mr-IN","Marathi","India"],["ms","Malay"],["ms-BN","Malay","Brunei"],["ms-MY","Malay","Malaysia"],["ms-SG","Malay","Singapore"],["mt","Maltese"],["mt-MT","Maltese","Malta"],["my","Burmese"],["my-MM","Burmese","Myanmar (Burma)"],["nb","Bokm\xE5l Norwegian"],["nb-NO","Bokm\xE5l Norwegian","Norway"],["nb-SJ","Bokm\xE5l Norwegian","Svalbard"],["nd","Ndebele, North"],["nd-ZW","Ndebele, North","Zimbabwe"],["ne","Nepali"],["ne-IN","Nepali","India"],["ne-NP","Nepali","Nepal"],["nl","Dutch"],["nl-AW","Dutch","Aruba"],["nl-BE","Dutch","Belgium"],["nl-BQ","Dutch"],["nl-CW","Dutch"],["nl-NL","Dutch","Netherlands"],["nl-SR","Dutch","Suriname"],["nl-SX","Dutch"],["nn","Norwegian Nynorsk"],["nn-NO","Norwegian Nynorsk","Norway"],["om","Oromo"],["om-ET","Oromo","Ethiopia"],["om-KE","Oromo","Kenya"],["or","Oriya"],["or-IN","Oriya","India"],["os","Ossetian"],["os-GE","Ossetian","Georgia"],["os-RU","Ossetian","Russia"],["pa","Panjabi"],["pa-IN","Panjabi","India"],["pa-PK","Panjabi","Pakistan"],["pl","Polish"],["pl-PL","Polish","Poland"],["ps","Pushto"],["ps-AF","Pushto","Afghanistan"],["pt","Portuguese"],["pt-AO","Portuguese","Angola"],["pt-BR","Portuguese","Brazil"],["pt-CH","Portuguese","Switzerland"],["pt-CV","Portuguese","Cape Verde"],["pt-GQ","Portuguese","Equatorial Guinea"],["pt-GW","Portuguese","Guinea-Bissau"],["pt-LU","Portuguese","Luxembourg"],["pt-MO","Portuguese","Macau"],["pt-MZ","Portuguese","Mozambique"],["pt-PT","Portuguese","Portugal"],["pt-ST","Portuguese","Sao Tome and Principe"],["pt-TL","Portuguese","Timor-Leste (East Timor)"],["qu","Quechua"],["qu-BO","Quechua","Bolivia"],["qu-EC","Quechua","Ecuador"],["qu-PE","Quechua","Peru"],["rm","Romansh"],["rm-CH","Romansh","Switzerland"],["rn","Rundi"],["rn-BI","Rundi","Burundi"],["ro","Romanian"],["ro-MD","Romanian","Moldova"],["ro-RO","Romanian","Romania"],["ru","Russian"],["ru-BY","Russian","Belarus"],["ru-KG","Russian","Kyrgyzstan"],["ru-KZ","Russian","Kazakhstan"],["ru-MD","Russian","Moldova"],["ru-RU","Russian","Russia"],["ru-UA","Russian","Ukraine"],["rw","Kinyarwanda"],["rw-RW","Kinyarwanda","Rwanda"],["se","Northern Sami"],["se-FI","Northern Sami","Finland"],["se-NO","Northern Sami","Norway"],["se-SE","Northern Sami","Sweden"],["sg","Sango"],["sg-CF","Sango","Central African Republic"],["si","Sinhala"],["si-LK","Sinhala","Sri Lanka"],["sk","Slovak"],["sk-SK","Slovak","Slovakia"],["sl","Slovenian"],["sl-SI","Slovenian","Slovenia"],["sn","Shona"],["sn-ZW","Shona","Zimbabwe"],["so","Somali"],["so-DJ","Somali","Djibouti"],["so-ET","Somali","Ethiopia"],["so-KE","Somali","Kenya"],["so-SO","Somali","Somalia"],["sq","Albanian"],["sq-AL","Albanian","Albania"],["sq-MK","Albanian","Macedonia"],["sq-XK","Albanian"],["sr","Serbian"],["sr-BA","Serbian","Bosnia and Herzegovina"],["sr-ME","Serbian","Montenegro"],["sr-RS","Serbian","Serbia"],["sr-XK","Serbian"],["sv","Swedish"],["sv-AX","Swedish","Aland"],["sv-FI","Swedish","Finland"],["sv-SE","Swedish","Sweden"],["sw","Swahili"],["sw-CD","Swahili","Congo"],["sw-KE","Swahili","Kenya"],["sw-TZ","Swahili","Tanzania"],["sw-UG","Swahili","Uganda"],["ta","Tamil"],["ta-IN","Tamil","India"],["ta-LK","Tamil","Sri Lanka"],["ta-MY","Tamil","Malaysia"],["ta-SG","Tamil","Singapore"],["te","Telugu"],["te-IN","Telugu","India"],["th","Thai"],["th-TH","Thai","Thailand"],["ti","Tigrinya"],["ti-ER","Tigrinya","Eritrea"],["ti-ET","Tigrinya","Ethiopia"],["tk","Turkmen"],["tk-TM","Turkmen","Turkmenistan"],["to","Tonga (Tonga Islands)"],["to-TO","Tonga (Tonga Islands)","Tonga"],["tr","Turkish"],["tr-CY","Turkish","Cyprus"],["tr-TR","Turkish","Turkey"],["ug","Uighur"],["ug-CN","Uighur","China"],["uk","Ukrainian"],["uk-UA","Ukrainian","Ukraine"],["ur","Urdu"],["ur-IN","Urdu","India"],["ur-PK","Urdu","Pakistan"],["uz","Uzbek"],["uz-AF","Uzbek","Afghanistan"],["uz-UZ","Uzbek","Uzbekistan"],["vi","Vietnamese"],["vi-VN","Vietnamese","Vietnam"],["vo","Volap\xFCk"],["yi","Yiddish"],["yi-1","Yiddish"],["yo","Yoruba"],["yo-BJ","Yoruba","Benin"],["yo-NG","Yoruba","Nigeria"],["zh","Chinese"],["zh-CN","Chinese","China"],["zh-HK","Chinese","Hong Kong"],["zh-MO","Chinese","Macau"],["zh-SG","Chinese","Singapore"],["zh-TW","Chinese","China"],["zu","Zulu"],["zu-ZA","Zulu","South Africa"]]});var vM=F(Bh=>{"use strict";Object.defineProperty(Bh,"__esModule",{value:!0});Bh.scriptCodes=void 0;var o5=`Code	ISO formal name
Adlm	Adlam
Afak	Afaka
Aghb	Caucasian Albanian
Ahom	Ahom, Tai Ahom
Arab	Arabic
Aran	Arabic (Nastaliq variant)
Armi	Imperial Aramaic
Armn	Armenian
Avst	Avestan
Bali	Balinese
Bamu	Bamum
Bass	Bassa Vah
Batk	Batak
Beng	Bengali (Bangla)
Bhks	Bhaiksuki
Blis	Blissymbols
Bopo	Bopomofo
Brah	Brahmi
Brai	Braille
Bugi	Buginese
Buhd	Buhid
Cakm	Chakma
Cans	Unified Canadian Aboriginal Syllabics
Cari	Carian
Cham	Cham
Cher	Cherokee
Chrs	Chorasmian
Cirt	Cirth
Copt	Coptic
Cpmn	Cypro-Minoan
Cprt	Cypriot syllabary
Cyrl	Cyrillic
Cyrs	Cyrillic (Old Church Slavonic variant)
Deva	Devanagari (Nagari)
Diak	Dives Akuru
Dogr	Dogra
Dsrt	Deseret (Mormon)
Dupl	Duployan shorthand, Duployan stenography
Egyd	Egyptian demotic
Egyh	Egyptian hieratic
Egyp	Egyptian hieroglyphs
Elba	Elbasan
Elym	Elymaic
Ethi	Ethiopic (Ge\u02BBez)
Geok	Khutsuri (Asomtavruli and Nuskhuri)
Geor	Georgian (Mkhedruli and Mtavruli)
Glag	Glagolitic
Gong	Gunjala Gondi
Gonm	Masaram Gondi
Goth	Gothic
Gran	Grantha
Grek	Greek
Gujr	Gujarati
Guru	Gurmukhi
Hanb	Han with Bopomofo (alias for Han + Bopomofo)
Hang	Hangul (Hang\u016Dl, Hangeul)
Hani	Han (Hanzi, Kanji, Hanja)
Hano	Hanunoo (Hanun\xF3o)
Hans	Han (Simplified variant)
Hant	Han (Traditional variant)
Hatr	Hatran
Hebr	Hebrew
Hira	Hiragana
Hluw	Anatolian Hieroglyphs (Luwian Hieroglyphs, Hittite Hieroglyphs)
Hmng	Pahawh Hmong
Hmnp	Nyiakeng Puachue Hmong
Hrkt	Japanese syllabaries (alias for Hiragana + Katakana)
Hung	Old Hungarian (Hungarian Runic)
Inds	Indus (Harappan)
Ital	Old Italic (Etruscan, Oscan, etc.)
Jamo	Jamo (alias for Jamo subset of Hangul)
Java	Javanese
Jpan	Japanese (alias for Han + Hiragana + Katakana)
Jurc	Jurchen
Kali	Kayah Li
Kana	Katakana
Kawi	Kawi
Khar	Kharoshthi
Khmr	Khmer
Khoj	Khojki
Kitl	Khitan large script
Kits	Khitan small script
Knda	Kannada
Kore	Korean (alias for Hangul + Han)
Kpel	Kpelle
Kthi	Kaithi
Lana	Tai Tham (Lanna)
Laoo	Lao
Latf	Latin (Fraktur variant)
Latg	Latin (Gaelic variant)
Latn	Latin
Leke	Leke
Lepc	Lepcha (R\xF3ng)
Limb	Limbu
Lina	Linear A
Linb	Linear B
Lisu	Lisu (Fraser)
Loma	Loma
Lyci	Lycian
Lydi	Lydian
Mahj	Mahajani
Maka	Makasar
Mand	Mandaic, Mandaean
Mani	Manichaean
Marc	Marchen
Maya	Mayan hieroglyphs
Medf	Medefaidrin (Oberi Okaime, Oberi \u0186kaim\u025B)
Mend	Mende Kikakui
Merc	Meroitic Cursive
Mero	Meroitic Hieroglyphs
Mlym	Malayalam
Modi	Modi, Mo\u1E0D\u012B
Mong	Mongolian
Moon	Moon (Moon code, Moon script, Moon type)
Mroo	Mro, Mru
Mtei	Meitei Mayek (Meithei, Meetei)
Mult	Multani
Mymr	Myanmar (Burmese)
Nagm	Nag Mundari
Nand	Nandinagari
Narb	Old North Arabian (Ancient North Arabian)
Nbat	Nabataean
Newa	Newa, Newar, Newari, Nep\u0101la lipi
Nkdb	Naxi Dongba (na\xB2\xB9\u0255i\xB3\xB3 to\xB3\xB3ba\xB2\xB9, Nakhi Tomba)
Nkgb	Nakhi Geba (na\xB2\xB9\u0255i\xB3\xB3 g\u028C\xB2\xB9ba\xB2\xB9, 'Na-'Khi \xB2Gg\u014F-\xB9baw, Nakhi Geba)
Nkoo	N\u2019Ko
Nshu	N\xFCshu
Ogam	Ogham
Olck	Ol Chiki (Ol Cemet\u2019, Ol, Santali)
Orkh	Old Turkic, Orkhon Runic
Orya	Oriya (Odia)
Osge	Osage
Osma	Osmanya
Ougr	Old Uyghur
Palm	Palmyrene
Pauc	Pau Cin Hau
Pcun	Proto-Cuneiform
Pelm	Proto-Elamite
Perm	Old Permic
Phag	Phags-pa
Phli	Inscriptional Pahlavi
Phlp	Psalter Pahlavi
Phlv	Book Pahlavi
Phnx	Phoenician
Piqd	Klingon (KLI pIqaD)
Plrd	Miao (Pollard)
Prti	Inscriptional Parthian
Psin	Proto-Sinaitic
Qaaa-Qabx	Reserved for private use (range)
Ranj	Ranjana
Rjng	Rejang (Redjang, Kaganga)
Rohg	Hanifi Rohingya
Roro	Rongorongo
Runr	Runic
Samr	Samaritan
Sara	Sarati
Sarb	Old South Arabian
Saur	Saurashtra
Sgnw	SignWriting
Shaw	Shavian (Shaw)
Shrd	Sharada, \u015A\u0101rad\u0101
Shui	Shuishu
Sidd	Siddham, Siddha\u1E43, Siddham\u0101t\u1E5Bk\u0101
Sind	Khudawadi, Sindhi
Sinh	Sinhala
Sogd	Sogdian
Sogo	Old Sogdian
Sora	Sora Sompeng
Soyo	Soyombo
Sund	Sundanese
Sunu	Sunuwar
Sylo	Syloti Nagri
Syrc	Syriac
Syre	Syriac (Estrangelo variant)
Syrj	Syriac (Western variant)
Syrn	Syriac (Eastern variant)
Tagb	Tagbanwa
Takr	Takri, \u1E6C\u0101kr\u012B, \u1E6C\u0101\u1E45kr\u012B
Tale	Tai Le
Talu	New Tai Lue
Taml	Tamil
Tang	Tangut
Tavt	Tai Viet
Telu	Telugu
Teng	Tengwar
Tfng	Tifinagh (Berber)
Tglg	Tagalog (Baybayin, Alibata)
Thaa	Thaana
Thai	Thai
Tibt	Tibetan
Tirh	Tirhuta
Tnsa	Tangsa
Toto	Toto
Ugar	Ugaritic
Vaii	Vai
Visp	Visible Speech
Vith	Vithkuqi
Wara	Warang Citi (Varang Kshiti)
Wcho	Wancho
Wole	Woleai
Xpeo	Old Persian
Xsux	Cuneiform, Sumero-Akkadian
Yezi	Yezidi
Yiii	Yi
Zanb	Zanabazar Square (Zanabazarin D\xF6rb\xF6ljin Useg, Xewtee D\xF6rb\xF6ljin Bicig, Horizontal Square Script)
Zinh	Code for inherited script
Zmth	Mathematical notation
Zsym	Symbols
Zsye	Symbols (emoji variant)
Zxxx	Code for unwritten documents
Zyyy	Code for undetermined script
Zzzz	Code for uncoded script
`;Bh.scriptCodes=o5.split(`
`).map(t=>t.split("	"))});var EM=F(or=>{"use strict";Object.defineProperty(or,"__esModule",{value:!0});or.normalizeCode=h5;or.isValidCode=g5;or.lookupLocaleInfo=DM;or.getLangInfo=TM;or.getCountryInfo=wM;or.getScriptInfo=xM;or.parseLocale=uw;or.formatLocale=lw;or.formatLangAndLocale=C5;var a5=CM(),SM=vM(),bM=/^(?<lang>[a-z]{2})(?:[-_]?(?<script>[a-z]{4}))?[-_]?(?<locale>[a-z0-9]{0,2})$/i,aw=new Map(a5.codes.map(t=>{let[e,n,i=""]=t,r=e.match(bM)?.groups?.locale||"",s={code:e,language:n,country:i,locale:r,lang:e.replace(/-.*/,"")};return[e,s]})),cw=new Map([...aw.values()].map(({lang:t,language:e})=>[t,{lang:t,language:e}]));cw.set("lorem",{lang:"lorem",language:"Lorem-Ipsum"});cw.set("lorem-ipsum",{lang:"lorem-ipsum",language:"Lorem-Ipsum"});var c5=new Map([...aw.values()].map(({locale:t,country:e})=>[t,{locale:t,country:e}])),u5=new Map(SM.scriptCodes.map(([t,e])=>[t,{script:t,scriptName:e}])),l5=new Map(SM.scriptCodes.map(([t])=>[t.toLowerCase(),t])),d5=Object.freeze({lang:"lorem",locale:"",script:""}),f5=Object.freeze({lang:"lorem-ipsum",locale:"",script:""}),p5=/^lorem(?:[-_]?ipsum)?$/i;function h5(t,e=!1){let n=uw(t);return n?lw(n):e?void 0:t}function g5(t){return aw.has(t)||!!DM(t)}function DM(t){let e=uw(t);if(!e)return;let n=TM(e.lang),i=e.script?xM(e.script):{},r=e.locale?wM(e.locale):{locale:"",country:""};return n!==void 0&&i!==void 0&&r!==void 0&&{...n,...i,...r,code:lw(e)}||void 0}function TM(t){return cw.get(t.toLowerCase())}function wM(t){return c5.get(t.toUpperCase())}function xM(t){let e=l5.get(t.toLowerCase());return e&&u5.get(e)||void 0}function m5(t){let e=t.slice(0,1),n=t.slice(1);return e.toUpperCase()+n.toLowerCase()}function uw(t){t=t.trim();let e=t.match(bM);if(!e)return y5(t);let{lang:n="",script:i="",locale:r=""}=e.groups||{};return{lang:n.toLowerCase(),script:m5(i),locale:r.toUpperCase()}}function y5(t){return t.toLowerCase()==="lorem"?d5:p5.test(t)?f5:void 0}function lw({lang:t,locale:e,script:n}){return t+(n&&"-"+n)+(e&&"-"+e)}function C5({lang:t,locale:e}){return t+(e&&"-"+e)}});var kM=F($i=>{"use strict";Object.defineProperty($i,"__esModule",{value:!0});$i.parseLocale=$i.normalizeCode=$i.lookupLocaleInfo=$i.isValidCode=$i.formatLocale=void 0;var El=EM();Object.defineProperty($i,"formatLocale",{enumerable:!0,get:function(){return El.formatLocale}});Object.defineProperty($i,"isValidCode",{enumerable:!0,get:function(){return El.isValidCode}});Object.defineProperty($i,"lookupLocaleInfo",{enumerable:!0,get:function(){return El.lookupLocaleInfo}});Object.defineProperty($i,"normalizeCode",{enumerable:!0,get:function(){return El.normalizeCode}});Object.defineProperty($i,"parseLocale",{enumerable:!0,get:function(){return El.parseLocale}})});var oU=F((Mpe,sU)=>{"use strict";sU.exports=function(t){return typeof t=="string"?rU(t):qx(t)};function qx(t){return!t||typeof t!="object"||fY(t)||pY(t)?t:dY(t)?mY(t,qx):yY(gY(t),function(e,n){var i=rU(n);return e[i]=qx(t[n]),e},{})}function rU(t){return t.replace(/[_.-](\w|$)/g,function(e,n){return n.toUpperCase()})}var dY=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"},fY=function(t){return Object.prototype.toString.call(t)==="[object Date]"},pY=function(t){return Object.prototype.toString.call(t)==="[object RegExp]"},hY=Object.prototype.hasOwnProperty,gY=Object.keys||function(t){var e=[];for(var n in t)hY.call(t,n)&&e.push(n);return e};function mY(t,e){if(t.map)return t.map(e);for(var n=[],i=0;i<t.length;i++)n.push(e(t[i],i));return n}function yY(t,e,n){if(t.reduce)return t.reduce(e,n);for(var i=0;i<t.length;i++)n=e(n,t[i],i);return n}});var WU=F((Phe,Qx)=>{"use strict";var CQ=function(){function t(e,n){var i=[],r=!0,s=!1,o=void 0;try{for(var a=e[Symbol.iterator](),c;!(r=(c=a.next()).done)&&(i.push(c.value),!(n&&i.length===n));r=!0);}catch(l){s=!0,o=l}finally{try{!r&&a.return&&a.return()}finally{if(s)throw o}}return i}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Jg="[\x1B\x9B][[()#;?]*(?:[0-9]{1,4}(?:;[0-9]{0,4})*)?[0-9A-PRZcf-nqry=><]",BU="\0-\b\v-\x1B\x9B\xAD\u200B\u2028\u2029\uFEFF\uFE00-\uFE0F",Yx=`
`+BU,vQ=new RegExp("(?:"+Jg+")|["+BU+"]","g"),Jx=new RegExp("(?:"+Jg+")|["+Yx+"]","g"),Xx=new RegExp("((?:"+Jg+")|[	"+Yx+"])?([^	"+Yx+"]*)","g");Qx.exports={zeroWidthCharacters:Jx,ansiEscapeCodes:new RegExp(Jg,"g"),strlen:t=>Array.from(t.replace(Jx,"")).length,isBlank:t=>t.replace(Jx,"").replace(/\s/g,"").length===0,blank:t=>Array.from(t.replace(vQ,"")).map(e=>e==="	"||e===`
`?e:" ").join(""),partition(t){for(var e,n=[];Xx.lastIndex!==t.length&&(e=Xx.exec(t));)n.push([e[1]||"",e[2]]);return Xx.lastIndex=0,n},first(t,e){let n="",i=0;for(let s of Qx.exports.partition(t)){var r=CQ(s,2);let o=r[0],a=r[1],c=Array.from(a).slice(0,e-i);n+=o+c.join(""),i+=c.length}return n}}});var zU=F((Rhe,VU)=>{"use strict";function Tc(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}else return Array.from(t)}var Xg=Object,$U=WU(),SQ=$U.first,Yg=$U.strlen,bQ=(t,e)=>SQ(t,e-1)+"\u2026",KU=(t,e)=>{let n=(d,h)=>d.reduce((m,C)=>C.map((D,w)=>[].concat(Tc(m[w]||[]),[D])),[]).map(m=>h.apply(void 0,Tc(m))),i=t.map(d=>d.map(h=>h.replace(/\n/g,"\\n"))),r=i.map(d=>d.map(Yg)),s=n(r,Math.max),o=Xg.assign({delimiter:"  ",minColumnWidths:s.map(d=>0),maxTotalWidth:0},e),a=Yg(o.delimiter),c=s.reduce((d,h)=>d+h,0),l=s.map(d=>d/c),f=o.maxTotalWidth-a*(s.length-1),g=Math.max(0,c-f),p=n([o.minColumnWidths,s,l],(d,h,m)=>Math.max(d,Math.floor(h-g*m))),u=r.map(d=>n([p,d],(h,m)=>h-m));return n([i,u],(d,h)=>n([d,h],(m,C)=>C>=0?o.right?" ".repeat(C)+m:m+" ".repeat(C):bQ(m,Yg(m)+C)).join(o.delimiter))},HU=t=>Xg.assign(e=>{var n;if(e[0]&&Array.isArray(e[0]))return KU(e.map(o=>o.map((a,c)=>a===void 0?"":t.print(a,c))),t).join(`
`);let i=[].concat(Tc(new Set((n=[]).concat.apply(n,Tc(e.map(Xg.keys)))))),r=[i.map(t.title)].concat(Tc(e.map(o=>i.map(a=>o[a]===void 0?"":t.print(o[a],a))))),s=KU(r,t);return(t.dash?[s[0],t.dash.repeat(Yg(s[0]))].concat(Tc(s.slice(1))):s).join(`
`)},t,{configure:e=>HU(Xg.assign({},t,e))});VU.exports=HU({maxTotalWidth:Number.MAX_SAFE_INTEGER,print:String,title:String,dash:"-",right:!1})});var c0=F(pt=>{"use strict";Object.defineProperty(pt,"__esModule",{value:!0});pt.symbolIsDisposed=pt.symbolDisposableTs=pt.symbolDisposableName=void 0;pt.createDisposable=wc;pt.injectDisposable=qQ;pt.createDisposableFromList=UQ;pt.createDisposeMethodFromList=l2;pt.disposeOf=d2;pt.makeDisposable=jQ;pt.setDisposableName=BQ;pt.getDisposableName=f2;pt.getDisposableTs=p2;pt.isDisposed=WQ;pt.setLogger=KQ;pt.isDisposableHybrid=h2;Symbol.dispose??=Symbol("Symbol.dispose");pt.symbolDisposableName=Symbol("Disposable Name");pt.symbolDisposableTs=Symbol("Disposable Timestamp");pt.symbolIsDisposed=Symbol("Disposable Is Disposed");var pr,Zl=0,Ql=0;function wc(t,e,n){let i=!1,r=!1,s={dispose:o,[Symbol.dispose]:o,[pt.symbolDisposableTs]:performance.now(),[pt.symbolDisposableName]:n||void 0,[pt.symbolIsDisposed]:!1};return++Ql,pr?.debug(xc()+"Created: %s, active: %i",em(s),Ql),s;function o(){try{if(pr?.debug(xc()+"Dispose Start -> %s Active %i",em(s),Ql),++Zl,i){s[pt.symbolIsDisposed]=!0,pr?.warn("Already disposed %s",em(s));return}--Ql,s[pt.symbolIsDisposed]=i=!0,e?t.call(e):t()}catch(a){throw r=!0,a}finally{--Zl,pr?.debug(xc()+"Dispose End   -> %s Active %i%s",em(s),Ql,r?" ** with errors ** ":"")}}}function em(t){let e=f2(t)||"",n=p2(t)?.toFixed(4);return e+" "+n}function qQ(t,e,n){return Object.assign(t,wc(e,t,n))}function UQ(t,e="createDisposableFromList"){return wc(l2(t),void 0,e)}function l2(t,e=""){let n=!1,i=performance.now().toFixed(4);pr&&(e="createDisposeMethodFromList "+(e||"<anonymous>")),pr?.debug(xc()+"Create: %s %s",e,i);let r=0;function s(){try{pr?.debug(xc()+"Dispose Start -> %s %s",e,i),++Zl;let o;if(n&&(pr?.warn("Already disposed %s with %o open.",e,t.length),!t.length))return;n=!0;let a;for(;a=t.pop();)try{d2(a)}catch(c){++r,o??=c}if(o)throw pr?.warn(o),o}finally{--Zl,pr?.debug(xc()+"Dispose End   -> %s %s%s",e,i,r?` *** with ${r} errors ***`:"")}}return s}function d2(t){if(!t)return;if(typeof t=="function"){t();return}let e=t;if(typeof e[Symbol.dispose]=="function"){e[Symbol.dispose].call(t);return}e.dispose.call(t)}function jQ(t,e="makeDisposable"){return h2(t)?t:Symbol.dispose in t?wc(t[Symbol.dispose],t,e):"dispose"in t?wc(t.dispose,t,e):wc(t,void 0,e)}function BQ(t,e){return t[pt.symbolDisposableName]=e,t}function f2(t){return t[pt.symbolDisposableName]}function p2(t){return t[pt.symbolDisposableTs]}function WQ(t){return t[pt.symbolIsDisposed]}function KQ(t){pr=t}function h2(t){return!t||typeof t!="object"?!1:pt.symbolIsDisposed in t}function xc(){return" ".repeat(Zl)}});var g2=F(Mr=>{"use strict";Object.defineProperty(Mr,"__esModule",{value:!0});Mr.DisposableList=Mr.InheritableDisposable=Mr.noop=void 0;Mr.createDisposableList=HQ;var tm=c0(),$Q=()=>{};Mr.noop=$Q;var nm=class{dispose;[Symbol.dispose]=Mr.noop;[tm.symbolIsDisposed]=!1;_disposables;constructor(e,n="InheritableDisposable"){this._disposables=e??[];let i=(0,tm.createDisposeMethodFromList)(this._disposables,n),r=()=>{this.isDisposed()||(this[tm.symbolIsDisposed]=!0,i(),Object.freeze(this._disposables))};this.dispose=r,this[Symbol.dispose]=r}isDisposed(){return this[tm.symbolIsDisposed]}};Mr.InheritableDisposable=nm;var im=class extends nm{disposables;name;#e;constructor(e=[],n="DisposableList"){super(e),this.disposables=e,this.name=n,this.#e=new WeakSet(e)}push(...e){if(this.isDisposed())throw new Error("Already disposed, cannot add items.");let n=0;for(let i of e)this.add(i)&&n++;return n}add(e){return!e||this.#e.has(e)?!1:(this.#e.add(e),this.disposables.push(e),!0)}delete(e){if(!e)return!0;this.#e.delete(e);let n=this.disposables.indexOf(e);return n<0?!1:(this.disposables.splice(n,1),!0)}get length(){return this.disposables.length}isDisposed(){return super.isDisposed()}has(e){return e?this.#e.has(e):!1}};Mr.DisposableList=im;function HQ(t,e){return new im(t,e)}});var m2=F(Lt=>{"use strict";Object.defineProperty(Lt,"__esModule",{value:!0});Lt.InheritableDisposable=Lt.DisposableList=Lt.createDisposableList=Lt.setLogger=Lt.makeDisposable=Lt.injectDisposable=Lt.getDisposableTs=Lt.disposeOf=Lt.createDisposeMethodFromList=Lt.createDisposableFromList=Lt.createDisposable=void 0;var Xs=c0();Object.defineProperty(Lt,"createDisposable",{enumerable:!0,get:function(){return Xs.createDisposable}});Object.defineProperty(Lt,"createDisposableFromList",{enumerable:!0,get:function(){return Xs.createDisposableFromList}});Object.defineProperty(Lt,"createDisposeMethodFromList",{enumerable:!0,get:function(){return Xs.createDisposeMethodFromList}});Object.defineProperty(Lt,"disposeOf",{enumerable:!0,get:function(){return Xs.disposeOf}});Object.defineProperty(Lt,"getDisposableTs",{enumerable:!0,get:function(){return Xs.getDisposableTs}});Object.defineProperty(Lt,"injectDisposable",{enumerable:!0,get:function(){return Xs.injectDisposable}});Object.defineProperty(Lt,"makeDisposable",{enumerable:!0,get:function(){return Xs.makeDisposable}});Object.defineProperty(Lt,"setLogger",{enumerable:!0,get:function(){return Xs.setLogger}});var u0=g2();Object.defineProperty(Lt,"createDisposableList",{enumerable:!0,get:function(){return u0.createDisposableList}});Object.defineProperty(Lt,"DisposableList",{enumerable:!0,get:function(){return u0.DisposableList}});Object.defineProperty(Lt,"InheritableDisposable",{enumerable:!0,get:function(){return u0.InheritableDisposable}})});var w2=F(Ys=>{"use strict";Object.defineProperty(Ys,"__esModule",{value:!0});Ys.defaultApiPrefix=void 0;Ys.createServerApi=VQ;Ys.createClientApi=zQ;var Ec=m2();Ys.defaultApiPrefix={serverRequests:"sr_",serverNotifications:"sn_",clientRequests:"cr_",clientNotifications:"cn_"};function VQ(t,e,n,i=Ys.defaultApiPrefix){let r=[],s=b2(e.serverRequests,n),o=D2(e.serverNotifications,n);y2(t,i.serverRequests,s,r,n),C2(t,i.serverNotifications,o,r,n);let a=v2(t,i.clientRequests,e.clientRequests,n),c=S2(t,i.clientNotifications,e.clientNotifications,n);return(0,Ec.injectDisposable)({clientRequest:a,clientNotification:c,serverRequest:s,serverNotification:o},(0,Ec.createDisposeMethodFromList)(r))}function zQ(t,e,n,i=Ys.defaultApiPrefix){let r=[],s=b2(e.clientRequests,n),o=D2(e.clientNotifications,n);y2(t,i.clientRequests,s,r,n),C2(t,i.clientNotifications,o,r,n);let a=v2(t,i.serverRequests,e.serverRequests,n),c=S2(t,i.serverNotifications,e.serverNotifications,n);return(0,Ec.injectDisposable)({serverRequest:a,serverNotification:c,clientRequest:s,clientNotification:o},(0,Ec.createDisposeMethodFromList)(r))}function y2(t,e,n,i,r){for(let[s,o]of Object.entries(n)){if(r?.log("bindRequest %o",{name:s,fn:typeof o}),!o)continue;let a=o,c=e+s;i.push(t.onRequest(c,l=>(r?.log(`handle request "${s}" %o`,l),a.publish(...l))))}}function C2(t,e,n,i,r){for(let[s,o]of Object.entries(n)){if(r?.log("bindNotifications %o",{name:s,fn:typeof o}),!o)continue;let a=e+s,c=o;i.push(t.onNotification(a,l=>(r?.log(`handle notification "${s}" %o`,l),c.publish(...l))))}}function v2(t,e,n,i){let r=1;return Object.fromEntries(Object.entries(n).map(([s])=>{let o=e+s;return[s,(...c)=>{let l=++r;return i?.log(`send request "${s}" %o: Params: %o`,l,c),t.sendRequest(o,c).then(f=>(i?.log(`send request "${s}" %o: Response: %o`,l,f),f))}]}))}function S2(t,e,n,i){return Object.fromEntries(Object.entries(n).map(([r])=>{let s=e+r;return[r,(...a)=>(i?.log(`send notification "${r}" %o`,a),t.sendNotification(s,a))]}))}function b2(t,e){function n([i,r]){if(!r)return;let s=JQ(i,e);return typeof r=="function"&&s.subscribe(r),[i,s]}return Object.fromEntries(Object.entries(t).map(n).filter(T2))}function D2(t,e){function n([i,r]){if(!r)return;let s=GQ(i,e);return typeof r=="function"&&s.subscribe(r),[i,s]}return Object.fromEntries(Object.entries(t).map(n).filter(T2))}function GQ(t,e){let n=new Set;async function i(...s){for(let o of n)e?.log(`notify ${t} %s`,typeof o),await o(...arguments)}function r(s){return e?.log(`subscribe to ${t} %s`,typeof s),n.add(s),(0,Ec.createDisposable)(()=>n.delete(s))}return{publish:i,subscribe:r}}function JQ(t,e){let n;async function i(...s){return e?.log(`notify ${t} %o`,n),await n?.(...arguments)}function r(s){return n=s,e?.log(`subscribe to ${t} %s`,typeof s),(0,Ec.createDisposable)(()=>{n===s&&(n=void 0)})}return{publish:i,subscribe:r}}function T2(t){return t!==void 0}});var E2=F(kc=>{"use strict";Object.defineProperty(kc,"__esModule",{value:!0});kc.createServerApi=kc.createClientApi=void 0;var x2=w2();Object.defineProperty(kc,"createClientApi",{enumerable:!0,get:function(){return x2.createClientApi}});Object.defineProperty(kc,"createServerApi",{enumerable:!0,get:function(){return x2.createServerApi}})});var F2=F(rm=>{"use strict";Object.defineProperty(rm,"__esModule",{value:!0});rm.createServerSideSpellInfoWebviewApi=XQ;rm.createClientSideSpellInfoWebviewApi=YQ;var k2=E2();function XQ(t,e,n){return(0,k2.createServerApi)(t,e,n)}function YQ(t,e,n){return(0,k2.createClientApi)(t,e,n)}});var P2=F(ea=>{"use strict";Object.defineProperty(ea,"__esModule",{value:!0});ea.supportedViewsByName=ea.namedViews=void 0;ea.namedViews=["todo","hello-world","cspell-info"];ea.supportedViewsByName=Object.freeze(Object.fromEntries(ea.namedViews.map(t=>[t,t])))});var ed=F(Qs=>{"use strict";Object.defineProperty(Qs,"__esModule",{value:!0});Qs.supportedViewsByName=Qs.createServerSideSpellInfoWebviewApi=Qs.createClientSideSpellInfoWebviewApi=void 0;var R2=F2();Object.defineProperty(Qs,"createClientSideSpellInfoWebviewApi",{enumerable:!0,get:function(){return R2.createClientSideSpellInfoWebviewApi}});Object.defineProperty(Qs,"createServerSideSpellInfoWebviewApi",{enumerable:!0,get:function(){return R2.createServerSideSpellInfoWebviewApi}});var QQ=P2();Object.defineProperty(Qs,"supportedViewsByName",{enumerable:!0,get:function(){return QQ.supportedViewsByName}})});var W2=F((Tge,B2)=>{"use strict";B2.exports=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var i,r,s;if(Array.isArray(e)){if(i=e.length,i!=n.length)return!1;for(r=i;r--!==0;)if(!t(e[r],n[r]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(s=Object.keys(e),i=s.length,i!==Object.keys(n).length)return!1;for(r=i;r--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[r]))return!1;for(r=i;r--!==0;){var o=s[r];if(!t(e[o],n[o]))return!1}return!0}return e!==e&&n!==n}});var Pc=F(On=>{"use strict";Object.defineProperty(On,"__esModule",{value:!0});On.stringArray=On.array=On.func=On.error=On.number=On.string=On.boolean=void 0;function FZ(t){return t===!0||t===!1}On.boolean=FZ;function Y2(t){return typeof t=="string"||t instanceof String}On.string=Y2;function PZ(t){return typeof t=="number"||t instanceof Number}On.number=PZ;function RZ(t){return t instanceof Error}On.error=RZ;function AZ(t){return typeof t=="function"}On.func=AZ;function Q2(t){return Array.isArray(t)}On.array=Q2;function IZ(t){return Q2(t)&&t.every(e=>Y2(e))}On.stringArray=IZ});var $0=F(Te=>{"use strict";Object.defineProperty(Te,"__esModule",{value:!0});Te.Message=Te.NotificationType9=Te.NotificationType8=Te.NotificationType7=Te.NotificationType6=Te.NotificationType5=Te.NotificationType4=Te.NotificationType3=Te.NotificationType2=Te.NotificationType1=Te.NotificationType0=Te.NotificationType=Te.RequestType9=Te.RequestType8=Te.RequestType7=Te.RequestType6=Te.RequestType5=Te.RequestType4=Te.RequestType3=Te.RequestType2=Te.RequestType1=Te.RequestType=Te.RequestType0=Te.AbstractMessageSignature=Te.ParameterStructures=Te.ResponseError=Te.ErrorCodes=void 0;var na=Pc(),S0;(function(t){t.ParseError=-32700,t.InvalidRequest=-32600,t.MethodNotFound=-32601,t.InvalidParams=-32602,t.InternalError=-32603,t.jsonrpcReservedErrorRangeStart=-32099,t.serverErrorStart=-32099,t.MessageWriteError=-32099,t.MessageReadError=-32098,t.PendingResponseRejected=-32097,t.ConnectionInactive=-32096,t.ServerNotInitialized=-32002,t.UnknownErrorCode=-32001,t.jsonrpcReservedErrorRangeEnd=-32e3,t.serverErrorEnd=-32e3})(S0||(Te.ErrorCodes=S0={}));var b0=class t extends Error{constructor(e,n,i){super(n),this.code=na.number(e)?e:S0.UnknownErrorCode,this.data=i,Object.setPrototypeOf(this,t.prototype)}toJson(){let e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),e}};Te.ResponseError=b0;var fi=class t{constructor(e){this.kind=e}static is(e){return e===t.auto||e===t.byName||e===t.byPosition}toString(){return this.kind}};Te.ParameterStructures=fi;fi.auto=new fi("auto");fi.byPosition=new fi("byPosition");fi.byName=new fi("byName");var Tt=class{constructor(e,n){this.method=e,this.numberOfParams=n}get parameterStructures(){return fi.auto}};Te.AbstractMessageSignature=Tt;var D0=class extends Tt{constructor(e){super(e,0)}};Te.RequestType0=D0;var T0=class extends Tt{constructor(e,n=fi.auto){super(e,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};Te.RequestType=T0;var w0=class extends Tt{constructor(e,n=fi.auto){super(e,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};Te.RequestType1=w0;var x0=class extends Tt{constructor(e){super(e,2)}};Te.RequestType2=x0;var E0=class extends Tt{constructor(e){super(e,3)}};Te.RequestType3=E0;var k0=class extends Tt{constructor(e){super(e,4)}};Te.RequestType4=k0;var F0=class extends Tt{constructor(e){super(e,5)}};Te.RequestType5=F0;var P0=class extends Tt{constructor(e){super(e,6)}};Te.RequestType6=P0;var R0=class extends Tt{constructor(e){super(e,7)}};Te.RequestType7=R0;var A0=class extends Tt{constructor(e){super(e,8)}};Te.RequestType8=A0;var I0=class extends Tt{constructor(e){super(e,9)}};Te.RequestType9=I0;var _0=class extends Tt{constructor(e,n=fi.auto){super(e,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};Te.NotificationType=_0;var N0=class extends Tt{constructor(e){super(e,0)}};Te.NotificationType0=N0;var L0=class extends Tt{constructor(e,n=fi.auto){super(e,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};Te.NotificationType1=L0;var O0=class extends Tt{constructor(e){super(e,2)}};Te.NotificationType2=O0;var M0=class extends Tt{constructor(e){super(e,3)}};Te.NotificationType3=M0;var q0=class extends Tt{constructor(e){super(e,4)}};Te.NotificationType4=q0;var U0=class extends Tt{constructor(e){super(e,5)}};Te.NotificationType5=U0;var j0=class extends Tt{constructor(e){super(e,6)}};Te.NotificationType6=j0;var B0=class extends Tt{constructor(e){super(e,7)}};Te.NotificationType7=B0;var W0=class extends Tt{constructor(e){super(e,8)}};Te.NotificationType8=W0;var K0=class extends Tt{constructor(e){super(e,9)}};Te.NotificationType9=K0;var Z2;(function(t){function e(r){let s=r;return s&&na.string(s.method)&&(na.string(s.id)||na.number(s.id))}t.isRequest=e;function n(r){let s=r;return s&&na.string(s.method)&&r.id===void 0}t.isNotification=n;function i(r){let s=r;return s&&(s.result!==void 0||!!s.error)&&(na.string(s.id)||na.number(s.id)||s.id===null)}t.isResponse=i})(Z2||(Te.Message=Z2={}))});var V0=F(eo=>{"use strict";var ej;Object.defineProperty(eo,"__esModule",{value:!0});eo.LRUCache=eo.LinkedMap=eo.Touch=void 0;var Mn;(function(t){t.None=0,t.First=1,t.AsOld=t.First,t.Last=2,t.AsNew=t.Last})(Mn||(eo.Touch=Mn={}));var om=class{constructor(){this[ej]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(e){return this._map.has(e)}get(e,n=Mn.None){let i=this._map.get(e);if(i)return n!==Mn.None&&this.touch(i,n),i.value}set(e,n,i=Mn.None){let r=this._map.get(e);if(r)r.value=n,i!==Mn.None&&this.touch(r,i);else{switch(r={key:e,value:n,next:void 0,previous:void 0},i){case Mn.None:this.addItemLast(r);break;case Mn.First:this.addItemFirst(r);break;case Mn.Last:this.addItemLast(r);break;default:this.addItemLast(r);break}this._map.set(e,r),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){let n=this._map.get(e);if(n)return this._map.delete(e),this.removeItem(n),this._size--,n.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,n){let i=this._state,r=this._head;for(;r;){if(n?e.bind(n)(r.value,r.key,this):e(r.value,r.key,this),this._state!==i)throw new Error("LinkedMap got modified during iteration.");r=r.next}}keys(){let e=this._state,n=this._head,i={[Symbol.iterator]:()=>i,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(n){let r={value:n.key,done:!1};return n=n.next,r}else return{value:void 0,done:!0}}};return i}values(){let e=this._state,n=this._head,i={[Symbol.iterator]:()=>i,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(n){let r={value:n.value,done:!1};return n=n.next,r}else return{value:void 0,done:!0}}};return i}entries(){let e=this._state,n=this._head,i={[Symbol.iterator]:()=>i,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(n){let r={value:[n.key,n.value],done:!1};return n=n.next,r}else return{value:void 0,done:!0}}};return i}[(ej=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(e){if(e>=this.size)return;if(e===0){this.clear();return}let n=this._head,i=this.size;for(;n&&i>e;)this._map.delete(n.key),n=n.next,i--;this._head=n,this._size=i,n&&(n.previous=void 0),this._state++}addItemFirst(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e,this._state++}addItemLast(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{let n=e.next,i=e.previous;if(!n||!i)throw new Error("Invalid list");n.previous=i,i.next=n}e.next=void 0,e.previous=void 0,this._state++}touch(e,n){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(n!==Mn.First&&n!==Mn.Last)){if(n===Mn.First){if(e===this._head)return;let i=e.next,r=e.previous;e===this._tail?(r.next=void 0,this._tail=r):(i.previous=r,r.next=i),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(n===Mn.Last){if(e===this._tail)return;let i=e.next,r=e.previous;e===this._head?(i.previous=void 0,this._head=i):(i.previous=r,r.next=i),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}}toJSON(){let e=[];return this.forEach((n,i)=>{e.push([i,n])}),e}fromJSON(e){this.clear();for(let[n,i]of e)this.set(n,i)}};eo.LinkedMap=om;var H0=class extends om{constructor(e,n=1){super(),this._limit=e,this._ratio=Math.min(Math.max(0,n),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get ratio(){return this._ratio}set ratio(e){this._ratio=Math.min(Math.max(0,e),1),this.checkTrim()}get(e,n=Mn.AsNew){return super.get(e,n)}peek(e){return super.get(e,Mn.None)}set(e,n){return super.set(e,n,Mn.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}};eo.LRUCache=H0});var nj=F(am=>{"use strict";Object.defineProperty(am,"__esModule",{value:!0});am.Disposable=void 0;var tj;(function(t){function e(n){return{dispose:n}}t.create=e})(tj||(am.Disposable=tj={}))});var to=F(J0=>{"use strict";Object.defineProperty(J0,"__esModule",{value:!0});var z0;function G0(){if(z0===void 0)throw new Error("No runtime abstraction layer installed");return z0}(function(t){function e(n){if(n===void 0)throw new Error("No runtime abstraction layer provided");z0=n}t.install=e})(G0||(G0={}));J0.default=G0});var Ac=F(Rc=>{"use strict";Object.defineProperty(Rc,"__esModule",{value:!0});Rc.Emitter=Rc.Event=void 0;var _Z=to(),ij;(function(t){let e={dispose(){}};t.None=function(){return e}})(ij||(Rc.Event=ij={}));var X0=class{add(e,n=null,i){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(n),Array.isArray(i)&&i.push({dispose:()=>this.remove(e,n)})}remove(e,n=null){if(!this._callbacks)return;let i=!1;for(let r=0,s=this._callbacks.length;r<s;r++)if(this._callbacks[r]===e)if(this._contexts[r]===n){this._callbacks.splice(r,1),this._contexts.splice(r,1);return}else i=!0;if(i)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...e){if(!this._callbacks)return[];let n=[],i=this._callbacks.slice(0),r=this._contexts.slice(0);for(let s=0,o=i.length;s<o;s++)try{n.push(i[s].apply(r[s],e))}catch(a){(0,_Z.default)().console.error(a)}return n}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}},cm=class t{constructor(e){this._options=e}get event(){return this._event||(this._event=(e,n,i)=>{this._callbacks||(this._callbacks=new X0),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,n);let r={dispose:()=>{this._callbacks&&(this._callbacks.remove(e,n),r.dispose=t._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(i)&&i.push(r),r}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};Rc.Emitter=cm;cm._noop=function(){}});var dm=F(Ic=>{"use strict";Object.defineProperty(Ic,"__esModule",{value:!0});Ic.CancellationTokenSource=Ic.CancellationToken=void 0;var NZ=to(),LZ=Pc(),Y0=Ac(),um;(function(t){t.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:Y0.Event.None}),t.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:Y0.Event.None});function e(n){let i=n;return i&&(i===t.None||i===t.Cancelled||LZ.boolean(i.isCancellationRequested)&&!!i.onCancellationRequested)}t.is=e})(um||(Ic.CancellationToken=um={}));var OZ=Object.freeze(function(t,e){let n=(0,NZ.default)().timer.setTimeout(t.bind(e),0);return{dispose(){n.dispose()}}}),lm=class{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?OZ:(this._emitter||(this._emitter=new Y0.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}},Q0=class{get token(){return this._token||(this._token=new lm),this._token}cancel(){this._token?this._token.cancel():this._token=um.Cancelled}dispose(){this._token?this._token instanceof lm&&this._token.dispose():this._token=um.None}};Ic.CancellationTokenSource=Q0});var rj=F(_c=>{"use strict";Object.defineProperty(_c,"__esModule",{value:!0});_c.SharedArrayReceiverStrategy=_c.SharedArraySenderStrategy=void 0;var MZ=dm(),rd;(function(t){t.Continue=0,t.Cancelled=1})(rd||(rd={}));var Z0=class{constructor(){this.buffers=new Map}enableCancellation(e){if(e.id===null)return;let n=new SharedArrayBuffer(4),i=new Int32Array(n,0,1);i[0]=rd.Continue,this.buffers.set(e.id,n),e.$cancellationData=n}async sendCancellation(e,n){let i=this.buffers.get(n);if(i===void 0)return;let r=new Int32Array(i,0,1);Atomics.store(r,0,rd.Cancelled)}cleanup(e){this.buffers.delete(e)}dispose(){this.buffers.clear()}};_c.SharedArraySenderStrategy=Z0;var eE=class{constructor(e){this.data=new Int32Array(e,0,1)}get isCancellationRequested(){return Atomics.load(this.data,0)===rd.Cancelled}get onCancellationRequested(){throw new Error("Cancellation over SharedArrayBuffer doesn't support cancellation events")}},tE=class{constructor(e){this.token=new eE(e)}cancel(){}dispose(){}},nE=class{constructor(){this.kind="request"}createCancellationTokenSource(e){let n=e.$cancellationData;return n===void 0?new MZ.CancellationTokenSource:new tE(n)}};_c.SharedArrayReceiverStrategy=nE});var rE=F(fm=>{"use strict";Object.defineProperty(fm,"__esModule",{value:!0});fm.Semaphore=void 0;var qZ=to(),iE=class{constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise((n,i)=>{this._waiting.push({thunk:e,resolve:n,reject:i}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,qZ.default)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let n=e.thunk();n instanceof Promise?n.then(i=>{this._active--,e.resolve(i),this.runNext()},i=>{this._active--,e.reject(i),this.runNext()}):(this._active--,e.resolve(n),this.runNext())}catch(n){this._active--,e.reject(n),this.runNext()}}};fm.Semaphore=iE});var oj=F(no=>{"use strict";Object.defineProperty(no,"__esModule",{value:!0});no.ReadableStreamMessageReader=no.AbstractMessageReader=no.MessageReader=void 0;var oE=to(),Nc=Pc(),sE=Ac(),UZ=rE(),sj;(function(t){function e(n){let i=n;return i&&Nc.func(i.listen)&&Nc.func(i.dispose)&&Nc.func(i.onError)&&Nc.func(i.onClose)&&Nc.func(i.onPartialMessage)}t.is=e})(sj||(no.MessageReader=sj={}));var pm=class{constructor(){this.errorEmitter=new sE.Emitter,this.closeEmitter=new sE.Emitter,this.partialMessageEmitter=new sE.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e){this.errorEmitter.fire(this.asError(e))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(e){this.partialMessageEmitter.fire(e)}asError(e){return e instanceof Error?e:new Error(`Reader received error. Reason: ${Nc.string(e.message)?e.message:"unknown"}`)}};no.AbstractMessageReader=pm;var aE;(function(t){function e(n){let i,r,s,o=new Map,a,c=new Map;if(n===void 0||typeof n=="string")i=n??"utf-8";else{if(i=n.charset??"utf-8",n.contentDecoder!==void 0&&(s=n.contentDecoder,o.set(s.name,s)),n.contentDecoders!==void 0)for(let l of n.contentDecoders)o.set(l.name,l);if(n.contentTypeDecoder!==void 0&&(a=n.contentTypeDecoder,c.set(a.name,a)),n.contentTypeDecoders!==void 0)for(let l of n.contentTypeDecoders)c.set(l.name,l)}return a===void 0&&(a=(0,oE.default)().applicationJson.decoder,c.set(a.name,a)),{charset:i,contentDecoder:s,contentDecoders:o,contentTypeDecoder:a,contentTypeDecoders:c}}t.fromOptions=e})(aE||(aE={}));var cE=class extends pm{constructor(e,n){super(),this.readable=e,this.options=aE.fromOptions(n),this.buffer=(0,oE.default)().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0,this.readSemaphore=new UZ.Semaphore(1)}set partialMessageTimeout(e){this._partialMessageTimeout=e}get partialMessageTimeout(){return this._partialMessageTimeout}listen(e){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=e;let n=this.readable.onData(i=>{this.onData(i)});return this.readable.onError(i=>this.fireError(i)),this.readable.onClose(()=>this.fireClose()),n}onData(e){try{for(this.buffer.append(e);;){if(this.nextMessageLength===-1){let i=this.buffer.tryReadHeaders(!0);if(!i)return;let r=i.get("content-length");if(!r){this.fireError(new Error(`Header must provide a Content-Length property.
${JSON.stringify(Object.fromEntries(i))}`));return}let s=parseInt(r);if(isNaN(s)){this.fireError(new Error(`Content-Length value must be a number. Got ${r}`));return}this.nextMessageLength=s}let n=this.buffer.tryReadBody(this.nextMessageLength);if(n===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1,this.readSemaphore.lock(async()=>{let i=this.options.contentDecoder!==void 0?await this.options.contentDecoder.decode(n):n,r=await this.options.contentTypeDecoder.decode(i,this.options);this.callback(r)}).catch(i=>{this.fireError(i)})}}catch(n){this.fireError(n)}}clearPartialMessageTimer(){this.partialMessageTimer&&(this.partialMessageTimer.dispose(),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=(0,oE.default)().timer.setTimeout((e,n)=>{this.partialMessageTimer=void 0,e===this.messageToken&&(this.firePartialMessage({messageToken:e,waitingTime:n}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}};no.ReadableStreamMessageReader=cE});var dj=F(io=>{"use strict";Object.defineProperty(io,"__esModule",{value:!0});io.WriteableStreamMessageWriter=io.AbstractMessageWriter=io.MessageWriter=void 0;var aj=to(),sd=Pc(),jZ=rE(),cj=Ac(),BZ="Content-Length: ",uj=`\r
`,lj;(function(t){function e(n){let i=n;return i&&sd.func(i.dispose)&&sd.func(i.onClose)&&sd.func(i.onError)&&sd.func(i.write)}t.is=e})(lj||(io.MessageWriter=lj={}));var hm=class{constructor(){this.errorEmitter=new cj.Emitter,this.closeEmitter=new cj.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e,n,i){this.errorEmitter.fire([this.asError(e),n,i])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(e){return e instanceof Error?e:new Error(`Writer received error. Reason: ${sd.string(e.message)?e.message:"unknown"}`)}};io.AbstractMessageWriter=hm;var uE;(function(t){function e(n){return n===void 0||typeof n=="string"?{charset:n??"utf-8",contentTypeEncoder:(0,aj.default)().applicationJson.encoder}:{charset:n.charset??"utf-8",contentEncoder:n.contentEncoder,contentTypeEncoder:n.contentTypeEncoder??(0,aj.default)().applicationJson.encoder}}t.fromOptions=e})(uE||(uE={}));var lE=class extends hm{constructor(e,n){super(),this.writable=e,this.options=uE.fromOptions(n),this.errorCount=0,this.writeSemaphore=new jZ.Semaphore(1),this.writable.onError(i=>this.fireError(i)),this.writable.onClose(()=>this.fireClose())}async write(e){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(e,this.options).then(i=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(i):i).then(i=>{let r=[];return r.push(BZ,i.byteLength.toString(),uj),r.push(uj),this.doWrite(e,r,i)},i=>{throw this.fireError(i),i}))}async doWrite(e,n,i){try{return await this.writable.write(n.join(""),"ascii"),this.writable.write(i)}catch(r){return this.handleError(r,e),Promise.reject(r)}}handleError(e,n){this.errorCount++,this.fireError(e,n,this.errorCount)}end(){this.writable.end()}};io.WriteableStreamMessageWriter=lE});var fj=F(gm=>{"use strict";Object.defineProperty(gm,"__esModule",{value:!0});gm.AbstractMessageBuffer=void 0;var WZ=13,KZ=10,$Z=`\r
`,dE=class{constructor(e="utf-8"){this._encoding=e,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(e){let n=typeof e=="string"?this.fromString(e,this._encoding):e;this._chunks.push(n),this._totalLength+=n.byteLength}tryReadHeaders(e=!1){if(this._chunks.length===0)return;let n=0,i=0,r=0,s=0;e:for(;i<this._chunks.length;){let l=this._chunks[i];for(r=0;r<l.length;){switch(l[r]){case WZ:switch(n){case 0:n=1;break;case 2:n=3;break;default:n=0}break;case KZ:switch(n){case 1:n=2;break;case 3:n=4,r++;break e;default:n=0}break;default:n=0}r++}s+=l.byteLength,i++}if(n!==4)return;let o=this._read(s+r),a=new Map,c=this.toString(o,"ascii").split($Z);if(c.length<2)return a;for(let l=0;l<c.length-2;l++){let f=c[l],g=f.indexOf(":");if(g===-1)throw new Error(`Message header must separate key and value using ':'
${f}`);let p=f.substr(0,g),u=f.substr(g+1).trim();a.set(e?p.toLowerCase():p,u)}return a}tryReadBody(e){if(!(this._totalLength<e))return this._read(e)}get numberOfBytes(){return this._totalLength}_read(e){if(e===0)return this.emptyBuffer();if(e>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===e){let s=this._chunks[0];return this._chunks.shift(),this._totalLength-=e,this.asNative(s)}if(this._chunks[0].byteLength>e){let s=this._chunks[0],o=this.asNative(s,e);return this._chunks[0]=s.slice(e),this._totalLength-=e,o}let n=this.allocNative(e),i=0,r=0;for(;e>0;){let s=this._chunks[r];if(s.byteLength>e){let o=s.slice(0,e);n.set(o,i),i+=e,this._chunks[r]=s.slice(e),this._totalLength-=e,e-=e}else n.set(s,i),i+=s.byteLength,this._chunks.shift(),this._totalLength-=s.byteLength,e-=s.byteLength}return n}};gm.AbstractMessageBuffer=dE});var yj=F(qe=>{"use strict";Object.defineProperty(qe,"__esModule",{value:!0});qe.createMessageConnection=qe.ConnectionOptions=qe.MessageStrategy=qe.CancellationStrategy=qe.CancellationSenderStrategy=qe.CancellationReceiverStrategy=qe.RequestCancellationReceiverStrategy=qe.IdCancellationReceiverStrategy=qe.ConnectionStrategy=qe.ConnectionError=qe.ConnectionErrors=qe.LogTraceNotification=qe.SetTraceNotification=qe.TraceFormat=qe.TraceValues=qe.Trace=qe.NullLogger=qe.ProgressType=qe.ProgressToken=void 0;var pj=to(),Bt=Pc(),Ae=$0(),hj=V0(),od=Ac(),fE=dm(),ud;(function(t){t.type=new Ae.NotificationType("$/cancelRequest")})(ud||(ud={}));var pE;(function(t){function e(n){return typeof n=="string"||typeof n=="number"}t.is=e})(pE||(qe.ProgressToken=pE={}));var ad;(function(t){t.type=new Ae.NotificationType("$/progress")})(ad||(ad={}));var hE=class{constructor(){}};qe.ProgressType=hE;var gE;(function(t){function e(n){return Bt.func(n)}t.is=e})(gE||(gE={}));qe.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});var ut;(function(t){t[t.Off=0]="Off",t[t.Messages=1]="Messages",t[t.Compact=2]="Compact",t[t.Verbose=3]="Verbose"})(ut||(qe.Trace=ut={}));var gj;(function(t){t.Off="off",t.Messages="messages",t.Compact="compact",t.Verbose="verbose"})(gj||(qe.TraceValues=gj={}));(function(t){function e(i){if(!Bt.string(i))return t.Off;switch(i=i.toLowerCase(),i){case"off":return t.Off;case"messages":return t.Messages;case"compact":return t.Compact;case"verbose":return t.Verbose;default:return t.Off}}t.fromString=e;function n(i){switch(i){case t.Off:return"off";case t.Messages:return"messages";case t.Compact:return"compact";case t.Verbose:return"verbose";default:return"off"}}t.toString=n})(ut||(qe.Trace=ut={}));var Fi;(function(t){t.Text="text",t.JSON="json"})(Fi||(qe.TraceFormat=Fi={}));(function(t){function e(n){return Bt.string(n)?(n=n.toLowerCase(),n==="json"?t.JSON:t.Text):t.Text}t.fromString=e})(Fi||(qe.TraceFormat=Fi={}));var mE;(function(t){t.type=new Ae.NotificationType("$/setTrace")})(mE||(qe.SetTraceNotification=mE={}));var mm;(function(t){t.type=new Ae.NotificationType("$/logTrace")})(mm||(qe.LogTraceNotification=mm={}));var cd;(function(t){t[t.Closed=1]="Closed",t[t.Disposed=2]="Disposed",t[t.AlreadyListening=3]="AlreadyListening"})(cd||(qe.ConnectionErrors=cd={}));var Lc=class t extends Error{constructor(e,n){super(n),this.code=e,Object.setPrototypeOf(this,t.prototype)}};qe.ConnectionError=Lc;var yE;(function(t){function e(n){let i=n;return i&&Bt.func(i.cancelUndispatched)}t.is=e})(yE||(qe.ConnectionStrategy=yE={}));var ym;(function(t){function e(n){let i=n;return i&&(i.kind===void 0||i.kind==="id")&&Bt.func(i.createCancellationTokenSource)&&(i.dispose===void 0||Bt.func(i.dispose))}t.is=e})(ym||(qe.IdCancellationReceiverStrategy=ym={}));var CE;(function(t){function e(n){let i=n;return i&&i.kind==="request"&&Bt.func(i.createCancellationTokenSource)&&(i.dispose===void 0||Bt.func(i.dispose))}t.is=e})(CE||(qe.RequestCancellationReceiverStrategy=CE={}));var Cm;(function(t){t.Message=Object.freeze({createCancellationTokenSource(n){return new fE.CancellationTokenSource}});function e(n){return ym.is(n)||CE.is(n)}t.is=e})(Cm||(qe.CancellationReceiverStrategy=Cm={}));var vm;(function(t){t.Message=Object.freeze({sendCancellation(n,i){return n.sendNotification(ud.type,{id:i})},cleanup(n){}});function e(n){let i=n;return i&&Bt.func(i.sendCancellation)&&Bt.func(i.cleanup)}t.is=e})(vm||(qe.CancellationSenderStrategy=vm={}));var Sm;(function(t){t.Message=Object.freeze({receiver:Cm.Message,sender:vm.Message});function e(n){let i=n;return i&&Cm.is(i.receiver)&&vm.is(i.sender)}t.is=e})(Sm||(qe.CancellationStrategy=Sm={}));var bm;(function(t){function e(n){let i=n;return i&&Bt.func(i.handleMessage)}t.is=e})(bm||(qe.MessageStrategy=bm={}));var mj;(function(t){function e(n){let i=n;return i&&(Sm.is(i.cancellationStrategy)||yE.is(i.connectionStrategy)||bm.is(i.messageStrategy))}t.is=e})(mj||(qe.ConnectionOptions=mj={}));var gr;(function(t){t[t.New=1]="New",t[t.Listening=2]="Listening",t[t.Closed=3]="Closed",t[t.Disposed=4]="Disposed"})(gr||(gr={}));function HZ(t,e,n,i){let r=n!==void 0?n:qe.NullLogger,s=0,o=0,a=0,c="2.0",l,f=new Map,g,p=new Map,u=new Map,d,h=new hj.LinkedMap,m=new Map,C=new Set,D=new Map,w=ut.Off,k=Fi.Text,I,B=gr.New,W=new od.Emitter,j=new od.Emitter,ie=new od.Emitter,ne=new od.Emitter,H=new od.Emitter,N=i&&i.cancellationStrategy?i.cancellationStrategy:Sm.Message;function $(v){if(v===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+v.toString()}function te(v){return v===null?"res-unknown-"+(++a).toString():"res-"+v.toString()}function K(){return"not-"+(++o).toString()}function G(v,P){Ae.Message.isRequest(P)?v.set($(P.id),P):Ae.Message.isResponse(P)?v.set(te(P.id),P):v.set(K(),P)}function Q(v){}function ae(){return B===gr.Listening}function se(){return B===gr.Closed}function re(){return B===gr.Disposed}function ye(){(B===gr.New||B===gr.Listening)&&(B=gr.Closed,j.fire(void 0))}function ve(v){W.fire([v,void 0,void 0])}function $e(v){W.fire(v)}t.onClose(ye),t.onError(ve),e.onClose(ye),e.onError($e);function ke(){d||h.size===0||(d=(0,pj.default)().timer.setImmediate(()=>{d=void 0,wt()}))}function ht(v){Ae.Message.isRequest(v)?qn(v):Ae.Message.isNotification(v)?jn(v):Ae.Message.isResponse(v)?Un(v):Xn(v)}function wt(){if(h.size===0)return;let v=h.shift();try{let P=i?.messageStrategy;bm.is(P)?P.handleMessage(v,ht):ht(v)}finally{ke()}}let Jn=v=>{try{if(Ae.Message.isNotification(v)&&v.method===ud.type.method){let P=v.params.id,q=$(P),z=h.get(q);if(Ae.Message.isRequest(z)){let ge=i?.connectionStrategy,we=ge&&ge.cancelUndispatched?ge.cancelUndispatched(z,Q):void 0;if(we&&(we.error!==void 0||we.result!==void 0)){h.delete(q),D.delete(P),we.id=z.id,rn(we,v.method,Date.now()),e.write(we).catch(()=>r.error("Sending response for canceled message failed."));return}}let Ce=D.get(P);if(Ce!==void 0){Ce.cancel(),cn(v);return}else C.add(P)}G(h,v)}finally{ke()}};function qn(v){if(re())return;function P(ue,Se,de){let L={jsonrpc:c,id:v.id};ue instanceof Ae.ResponseError?L.error=ue.toJson():L.result=ue===void 0?null:ue,rn(L,Se,de),e.write(L).catch(()=>r.error("Sending response failed."))}function q(ue,Se,de){let L={jsonrpc:c,id:v.id,error:ue.toJson()};rn(L,Se,de),e.write(L).catch(()=>r.error("Sending response failed."))}function z(ue,Se,de){ue===void 0&&(ue=null);let L={jsonrpc:c,id:v.id,result:ue};rn(L,Se,de),e.write(L).catch(()=>r.error("Sending response failed."))}Ri(v);let Ce=f.get(v.method),ge,we;Ce&&(ge=Ce.type,we=Ce.handler);let xe=Date.now();if(we||l){let ue=v.id??String(Date.now()),Se=ym.is(N.receiver)?N.receiver.createCancellationTokenSource(ue):N.receiver.createCancellationTokenSource(v);v.id!==null&&C.has(v.id)&&Se.cancel(),v.id!==null&&D.set(ue,Se);try{let de;if(we)if(v.params===void 0){if(ge!==void 0&&ge.numberOfParams!==0){q(new Ae.ResponseError(Ae.ErrorCodes.InvalidParams,`Request ${v.method} defines ${ge.numberOfParams} params but received none.`),v.method,xe);return}de=we(Se.token)}else if(Array.isArray(v.params)){if(ge!==void 0&&ge.parameterStructures===Ae.ParameterStructures.byName){q(new Ae.ResponseError(Ae.ErrorCodes.InvalidParams,`Request ${v.method} defines parameters by name but received parameters by position`),v.method,xe);return}de=we(...v.params,Se.token)}else{if(ge!==void 0&&ge.parameterStructures===Ae.ParameterStructures.byPosition){q(new Ae.ResponseError(Ae.ErrorCodes.InvalidParams,`Request ${v.method} defines parameters by position but received parameters by name`),v.method,xe);return}de=we(v.params,Se.token)}else l&&(de=l(v.method,v.params,Se.token));let L=de;de?L.then?L.then(M=>{D.delete(ue),P(M,v.method,xe)},M=>{D.delete(ue),M instanceof Ae.ResponseError?q(M,v.method,xe):M&&Bt.string(M.message)?q(new Ae.ResponseError(Ae.ErrorCodes.InternalError,`Request ${v.method} failed with message: ${M.message}`),v.method,xe):q(new Ae.ResponseError(Ae.ErrorCodes.InternalError,`Request ${v.method} failed unexpectedly without providing any details.`),v.method,xe)}):(D.delete(ue),P(de,v.method,xe)):(D.delete(ue),z(de,v.method,xe))}catch(de){D.delete(ue),de instanceof Ae.ResponseError?P(de,v.method,xe):de&&Bt.string(de.message)?q(new Ae.ResponseError(Ae.ErrorCodes.InternalError,`Request ${v.method} failed with message: ${de.message}`),v.method,xe):q(new Ae.ResponseError(Ae.ErrorCodes.InternalError,`Request ${v.method} failed unexpectedly without providing any details.`),v.method,xe)}}else q(new Ae.ResponseError(Ae.ErrorCodes.MethodNotFound,`Unhandled method ${v.method}`),v.method,xe)}function Un(v){if(!re())if(v.id===null)v.error?r.error(`Received response message without id: Error is: 
${JSON.stringify(v.error,void 0,4)}`):r.error("Received response message without id. No further error information provided.");else{let P=v.id,q=m.get(P);if(Yn(v,q),q!==void 0){m.delete(P);try{if(v.error){let z=v.error;q.reject(new Ae.ResponseError(z.code,z.message,z.data))}else if(v.result!==void 0)q.resolve(v.result);else throw new Error("Should never happen.")}catch(z){z.message?r.error(`Response handler '${q.method}' failed with message: ${z.message}`):r.error(`Response handler '${q.method}' failed unexpectedly.`)}}}}function jn(v){if(re())return;let P,q;if(v.method===ud.type.method){let z=v.params.id;C.delete(z),cn(v);return}else{let z=p.get(v.method);z&&(q=z.handler,P=z.type)}if(q||g)try{if(cn(v),q)if(v.params===void 0)P!==void 0&&P.numberOfParams!==0&&P.parameterStructures!==Ae.ParameterStructures.byName&&r.error(`Notification ${v.method} defines ${P.numberOfParams} params but received none.`),q();else if(Array.isArray(v.params)){let z=v.params;v.method===ad.type.method&&z.length===2&&pE.is(z[0])?q({token:z[0],value:z[1]}):(P!==void 0&&(P.parameterStructures===Ae.ParameterStructures.byName&&r.error(`Notification ${v.method} defines parameters by name but received parameters by position`),P.numberOfParams!==v.params.length&&r.error(`Notification ${v.method} defines ${P.numberOfParams} params but received ${z.length} arguments`)),q(...z))}else P!==void 0&&P.parameterStructures===Ae.ParameterStructures.byPosition&&r.error(`Notification ${v.method} defines parameters by position but received parameters by name`),q(v.params);else g&&g(v.method,v.params)}catch(z){z.message?r.error(`Notification handler '${v.method}' failed with message: ${z.message}`):r.error(`Notification handler '${v.method}' failed unexpectedly.`)}else ie.fire(v)}function Xn(v){if(!v){r.error("Received empty message.");return}r.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(v,null,4)}`);let P=v;if(Bt.string(P.id)||Bt.number(P.id)){let q=P.id,z=m.get(q);z&&z.reject(new Error("The received response has neither a result nor an error property."))}}function nt(v){if(v!=null)switch(w){case ut.Verbose:return JSON.stringify(v,null,4);case ut.Compact:return JSON.stringify(v);default:return}}function pi(v){if(!(w===ut.Off||!I))if(k===Fi.Text){let P;(w===ut.Verbose||w===ut.Compact)&&v.params&&(P=`Params: ${nt(v.params)}

`),I.log(`Sending request '${v.method} - (${v.id})'.`,P)}else lt("send-request",v)}function Bn(v){if(!(w===ut.Off||!I))if(k===Fi.Text){let P;(w===ut.Verbose||w===ut.Compact)&&(v.params?P=`Params: ${nt(v.params)}

`:P=`No parameters provided.

`),I.log(`Sending notification '${v.method}'.`,P)}else lt("send-notification",v)}function rn(v,P,q){if(!(w===ut.Off||!I))if(k===Fi.Text){let z;(w===ut.Verbose||w===ut.Compact)&&(v.error&&v.error.data?z=`Error data: ${nt(v.error.data)}

`:v.result?z=`Result: ${nt(v.result)}

`:v.error===void 0&&(z=`No result returned.

`)),I.log(`Sending response '${P} - (${v.id})'. Processing request took ${Date.now()-q}ms`,z)}else lt("send-response",v)}function Ri(v){if(!(w===ut.Off||!I))if(k===Fi.Text){let P;(w===ut.Verbose||w===ut.Compact)&&v.params&&(P=`Params: ${nt(v.params)}

`),I.log(`Received request '${v.method} - (${v.id})'.`,P)}else lt("receive-request",v)}function cn(v){if(!(w===ut.Off||!I||v.method===mm.type.method))if(k===Fi.Text){let P;(w===ut.Verbose||w===ut.Compact)&&(v.params?P=`Params: ${nt(v.params)}

`:P=`No parameters provided.

`),I.log(`Received notification '${v.method}'.`,P)}else lt("receive-notification",v)}function Yn(v,P){if(!(w===ut.Off||!I))if(k===Fi.Text){let q;if((w===ut.Verbose||w===ut.Compact)&&(v.error&&v.error.data?q=`Error data: ${nt(v.error.data)}

`:v.result?q=`Result: ${nt(v.result)}

`:v.error===void 0&&(q=`No result returned.

`)),P){let z=v.error?` Request failed: ${v.error.message} (${v.error.code}).`:"";I.log(`Received response '${P.method} - (${v.id})' in ${Date.now()-P.timerStart}ms.${z}`,q)}else I.log(`Received response ${v.id} without active response promise.`,q)}else lt("receive-response",v)}function lt(v,P){if(!I||w===ut.Off)return;let q={isLSPMessage:!0,type:v,message:P,timestamp:Date.now()};I.log(q)}function xt(){if(se())throw new Lc(cd.Closed,"Connection is closed.");if(re())throw new Lc(cd.Disposed,"Connection is disposed.")}function Gt(){if(ae())throw new Lc(cd.AlreadyListening,"Connection is already listening")}function mn(){if(!ae())throw new Error("Call listen() first.")}function Wt(v){return v===void 0?null:v}function Wn(v){if(v!==null)return v}function Qn(v){return v!=null&&!Array.isArray(v)&&typeof v=="object"}function yn(v,P){switch(v){case Ae.ParameterStructures.auto:return Qn(P)?Wn(P):[Wt(P)];case Ae.ParameterStructures.byName:if(!Qn(P))throw new Error("Received parameters by name but param is not an object literal.");return Wn(P);case Ae.ParameterStructures.byPosition:return[Wt(P)];default:throw new Error(`Unknown parameter structure ${v.toString()}`)}}function Zn(v,P){let q,z=v.numberOfParams;switch(z){case 0:q=void 0;break;case 1:q=yn(v.parameterStructures,P[0]);break;default:q=[];for(let Ce=0;Ce<P.length&&Ce<z;Ce++)q.push(Wt(P[Ce]));if(P.length<z)for(let Ce=P.length;Ce<z;Ce++)q.push(null);break}return q}let Et={sendNotification:(v,...P)=>{xt();let q,z;if(Bt.string(v)){q=v;let ge=P[0],we=0,xe=Ae.ParameterStructures.auto;Ae.ParameterStructures.is(ge)&&(we=1,xe=ge);let ue=P.length,Se=ue-we;switch(Se){case 0:z=void 0;break;case 1:z=yn(xe,P[we]);break;default:if(xe===Ae.ParameterStructures.byName)throw new Error(`Received ${Se} parameters for 'by Name' notification parameter structure.`);z=P.slice(we,ue).map(de=>Wt(de));break}}else{let ge=P;q=v.method,z=Zn(v,ge)}let Ce={jsonrpc:c,method:q,params:z};return Bn(Ce),e.write(Ce).catch(ge=>{throw r.error("Sending notification failed."),ge})},onNotification:(v,P)=>{xt();let q;return Bt.func(v)?g=v:P&&(Bt.string(v)?(q=v,p.set(v,{type:void 0,handler:P})):(q=v.method,p.set(v.method,{type:v,handler:P}))),{dispose:()=>{q!==void 0?p.delete(q):g=void 0}}},onProgress:(v,P,q)=>{if(u.has(P))throw new Error(`Progress handler for token ${P} already registered`);return u.set(P,q),{dispose:()=>{u.delete(P)}}},sendProgress:(v,P,q)=>Et.sendNotification(ad.type,{token:P,value:q}),onUnhandledProgress:ne.event,sendRequest:(v,...P)=>{xt(),mn();let q,z,Ce;if(Bt.string(v)){q=v;let ue=P[0],Se=P[P.length-1],de=0,L=Ae.ParameterStructures.auto;Ae.ParameterStructures.is(ue)&&(de=1,L=ue);let M=P.length;fE.CancellationToken.is(Se)&&(M=M-1,Ce=Se);let Y=M-de;switch(Y){case 0:z=void 0;break;case 1:z=yn(L,P[de]);break;default:if(L===Ae.ParameterStructures.byName)throw new Error(`Received ${Y} parameters for 'by Name' request parameter structure.`);z=P.slice(de,M).map(Ee=>Wt(Ee));break}}else{let ue=P;q=v.method,z=Zn(v,ue);let Se=v.numberOfParams;Ce=fE.CancellationToken.is(ue[Se])?ue[Se]:void 0}let ge=s++,we;Ce&&(we=Ce.onCancellationRequested(()=>{let ue=N.sender.sendCancellation(Et,ge);return ue===void 0?(r.log(`Received no promise from cancellation strategy when cancelling id ${ge}`),Promise.resolve()):ue.catch(()=>{r.log(`Sending cancellation messages for id ${ge} failed`)})}));let xe={jsonrpc:c,id:ge,method:q,params:z};return pi(xe),typeof N.sender.enableCancellation=="function"&&N.sender.enableCancellation(xe),new Promise(async(ue,Se)=>{let de=Y=>{ue(Y),N.sender.cleanup(ge),we?.dispose()},L=Y=>{Se(Y),N.sender.cleanup(ge),we?.dispose()},M={method:q,timerStart:Date.now(),resolve:de,reject:L};try{m.set(ge,M),await e.write(xe)}catch(Y){throw m.delete(ge),M.reject(new Ae.ResponseError(Ae.ErrorCodes.MessageWriteError,Y.message?Y.message:"Unknown reason")),r.error("Sending request failed."),Y}})},onRequest:(v,P)=>{xt();let q=null;return gE.is(v)?(q=void 0,l=v):Bt.string(v)?(q=null,P!==void 0&&(q=v,f.set(v,{handler:P,type:void 0}))):P!==void 0&&(q=v.method,f.set(v.method,{type:v,handler:P})),{dispose:()=>{q!==null&&(q!==void 0?f.delete(q):l=void 0)}}},hasPendingResponse:()=>m.size>0,trace:async(v,P,q)=>{let z=!1,Ce=Fi.Text;q!==void 0&&(Bt.boolean(q)?z=q:(z=q.sendNotification||!1,Ce=q.traceFormat||Fi.Text)),w=v,k=Ce,w===ut.Off?I=void 0:I=P,z&&!se()&&!re()&&await Et.sendNotification(mE.type,{value:ut.toString(v)})},onError:W.event,onClose:j.event,onUnhandledNotification:ie.event,onDispose:H.event,end:()=>{e.end()},dispose:()=>{if(re())return;B=gr.Disposed,H.fire(void 0);let v=new Ae.ResponseError(Ae.ErrorCodes.PendingResponseRejected,"Pending response rejected since connection got disposed");for(let P of m.values())P.reject(v);m=new Map,D=new Map,C=new Set,h=new hj.LinkedMap,Bt.func(e.dispose)&&e.dispose(),Bt.func(t.dispose)&&t.dispose()},listen:()=>{xt(),Gt(),B=gr.Listening,t.listen(Jn)},inspect:()=>{(0,pj.default)().console.log("inspect")}};return Et.onNotification(mm.type,v=>{if(w===ut.Off||!I)return;let P=w===ut.Verbose||w===ut.Compact;I.log(v.message,P?v.verbose:void 0)}),Et.onNotification(ad.type,v=>{let P=u.get(v.token);P?P(v.value):ne.fire(v)}),Et}qe.createMessageConnection=HZ});var Dm=F(X=>{"use strict";Object.defineProperty(X,"__esModule",{value:!0});X.ProgressType=X.ProgressToken=X.createMessageConnection=X.NullLogger=X.ConnectionOptions=X.ConnectionStrategy=X.AbstractMessageBuffer=X.WriteableStreamMessageWriter=X.AbstractMessageWriter=X.MessageWriter=X.ReadableStreamMessageReader=X.AbstractMessageReader=X.MessageReader=X.SharedArrayReceiverStrategy=X.SharedArraySenderStrategy=X.CancellationToken=X.CancellationTokenSource=X.Emitter=X.Event=X.Disposable=X.LRUCache=X.Touch=X.LinkedMap=X.ParameterStructures=X.NotificationType9=X.NotificationType8=X.NotificationType7=X.NotificationType6=X.NotificationType5=X.NotificationType4=X.NotificationType3=X.NotificationType2=X.NotificationType1=X.NotificationType0=X.NotificationType=X.ErrorCodes=X.ResponseError=X.RequestType9=X.RequestType8=X.RequestType7=X.RequestType6=X.RequestType5=X.RequestType4=X.RequestType3=X.RequestType2=X.RequestType1=X.RequestType0=X.RequestType=X.Message=X.RAL=void 0;X.MessageStrategy=X.CancellationStrategy=X.CancellationSenderStrategy=X.CancellationReceiverStrategy=X.ConnectionError=X.ConnectionErrors=X.LogTraceNotification=X.SetTraceNotification=X.TraceFormat=X.TraceValues=X.Trace=void 0;var St=$0();Object.defineProperty(X,"Message",{enumerable:!0,get:function(){return St.Message}});Object.defineProperty(X,"RequestType",{enumerable:!0,get:function(){return St.RequestType}});Object.defineProperty(X,"RequestType0",{enumerable:!0,get:function(){return St.RequestType0}});Object.defineProperty(X,"RequestType1",{enumerable:!0,get:function(){return St.RequestType1}});Object.defineProperty(X,"RequestType2",{enumerable:!0,get:function(){return St.RequestType2}});Object.defineProperty(X,"RequestType3",{enumerable:!0,get:function(){return St.RequestType3}});Object.defineProperty(X,"RequestType4",{enumerable:!0,get:function(){return St.RequestType4}});Object.defineProperty(X,"RequestType5",{enumerable:!0,get:function(){return St.RequestType5}});Object.defineProperty(X,"RequestType6",{enumerable:!0,get:function(){return St.RequestType6}});Object.defineProperty(X,"RequestType7",{enumerable:!0,get:function(){return St.RequestType7}});Object.defineProperty(X,"RequestType8",{enumerable:!0,get:function(){return St.RequestType8}});Object.defineProperty(X,"RequestType9",{enumerable:!0,get:function(){return St.RequestType9}});Object.defineProperty(X,"ResponseError",{enumerable:!0,get:function(){return St.ResponseError}});Object.defineProperty(X,"ErrorCodes",{enumerable:!0,get:function(){return St.ErrorCodes}});Object.defineProperty(X,"NotificationType",{enumerable:!0,get:function(){return St.NotificationType}});Object.defineProperty(X,"NotificationType0",{enumerable:!0,get:function(){return St.NotificationType0}});Object.defineProperty(X,"NotificationType1",{enumerable:!0,get:function(){return St.NotificationType1}});Object.defineProperty(X,"NotificationType2",{enumerable:!0,get:function(){return St.NotificationType2}});Object.defineProperty(X,"NotificationType3",{enumerable:!0,get:function(){return St.NotificationType3}});Object.defineProperty(X,"NotificationType4",{enumerable:!0,get:function(){return St.NotificationType4}});Object.defineProperty(X,"NotificationType5",{enumerable:!0,get:function(){return St.NotificationType5}});Object.defineProperty(X,"NotificationType6",{enumerable:!0,get:function(){return St.NotificationType6}});Object.defineProperty(X,"NotificationType7",{enumerable:!0,get:function(){return St.NotificationType7}});Object.defineProperty(X,"NotificationType8",{enumerable:!0,get:function(){return St.NotificationType8}});Object.defineProperty(X,"NotificationType9",{enumerable:!0,get:function(){return St.NotificationType9}});Object.defineProperty(X,"ParameterStructures",{enumerable:!0,get:function(){return St.ParameterStructures}});var vE=V0();Object.defineProperty(X,"LinkedMap",{enumerable:!0,get:function(){return vE.LinkedMap}});Object.defineProperty(X,"LRUCache",{enumerable:!0,get:function(){return vE.LRUCache}});Object.defineProperty(X,"Touch",{enumerable:!0,get:function(){return vE.Touch}});var VZ=nj();Object.defineProperty(X,"Disposable",{enumerable:!0,get:function(){return VZ.Disposable}});var Cj=Ac();Object.defineProperty(X,"Event",{enumerable:!0,get:function(){return Cj.Event}});Object.defineProperty(X,"Emitter",{enumerable:!0,get:function(){return Cj.Emitter}});var vj=dm();Object.defineProperty(X,"CancellationTokenSource",{enumerable:!0,get:function(){return vj.CancellationTokenSource}});Object.defineProperty(X,"CancellationToken",{enumerable:!0,get:function(){return vj.CancellationToken}});var Sj=rj();Object.defineProperty(X,"SharedArraySenderStrategy",{enumerable:!0,get:function(){return Sj.SharedArraySenderStrategy}});Object.defineProperty(X,"SharedArrayReceiverStrategy",{enumerable:!0,get:function(){return Sj.SharedArrayReceiverStrategy}});var SE=oj();Object.defineProperty(X,"MessageReader",{enumerable:!0,get:function(){return SE.MessageReader}});Object.defineProperty(X,"AbstractMessageReader",{enumerable:!0,get:function(){return SE.AbstractMessageReader}});Object.defineProperty(X,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return SE.ReadableStreamMessageReader}});var bE=dj();Object.defineProperty(X,"MessageWriter",{enumerable:!0,get:function(){return bE.MessageWriter}});Object.defineProperty(X,"AbstractMessageWriter",{enumerable:!0,get:function(){return bE.AbstractMessageWriter}});Object.defineProperty(X,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return bE.WriteableStreamMessageWriter}});var zZ=fj();Object.defineProperty(X,"AbstractMessageBuffer",{enumerable:!0,get:function(){return zZ.AbstractMessageBuffer}});var Dn=yj();Object.defineProperty(X,"ConnectionStrategy",{enumerable:!0,get:function(){return Dn.ConnectionStrategy}});Object.defineProperty(X,"ConnectionOptions",{enumerable:!0,get:function(){return Dn.ConnectionOptions}});Object.defineProperty(X,"NullLogger",{enumerable:!0,get:function(){return Dn.NullLogger}});Object.defineProperty(X,"createMessageConnection",{enumerable:!0,get:function(){return Dn.createMessageConnection}});Object.defineProperty(X,"ProgressToken",{enumerable:!0,get:function(){return Dn.ProgressToken}});Object.defineProperty(X,"ProgressType",{enumerable:!0,get:function(){return Dn.ProgressType}});Object.defineProperty(X,"Trace",{enumerable:!0,get:function(){return Dn.Trace}});Object.defineProperty(X,"TraceValues",{enumerable:!0,get:function(){return Dn.TraceValues}});Object.defineProperty(X,"TraceFormat",{enumerable:!0,get:function(){return Dn.TraceFormat}});Object.defineProperty(X,"SetTraceNotification",{enumerable:!0,get:function(){return Dn.SetTraceNotification}});Object.defineProperty(X,"LogTraceNotification",{enumerable:!0,get:function(){return Dn.LogTraceNotification}});Object.defineProperty(X,"ConnectionErrors",{enumerable:!0,get:function(){return Dn.ConnectionErrors}});Object.defineProperty(X,"ConnectionError",{enumerable:!0,get:function(){return Dn.ConnectionError}});Object.defineProperty(X,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return Dn.CancellationReceiverStrategy}});Object.defineProperty(X,"CancellationSenderStrategy",{enumerable:!0,get:function(){return Dn.CancellationSenderStrategy}});Object.defineProperty(X,"CancellationStrategy",{enumerable:!0,get:function(){return Dn.CancellationStrategy}});Object.defineProperty(X,"MessageStrategy",{enumerable:!0,get:function(){return Dn.MessageStrategy}});var GZ=to();X.RAL=GZ.default});var Tj=F(xE=>{"use strict";Object.defineProperty(xE,"__esModule",{value:!0});var bj=require("util"),is=Dm(),Tm=class t extends is.AbstractMessageBuffer{constructor(e="utf-8"){super(e)}emptyBuffer(){return t.emptyBuffer}fromString(e,n){return Buffer.from(e,n)}toString(e,n){return e instanceof Buffer?e.toString(n):new bj.TextDecoder(n).decode(e)}asNative(e,n){return n===void 0?e instanceof Buffer?e:Buffer.from(e):e instanceof Buffer?e.slice(0,n):Buffer.from(e,0,n)}allocNative(e){return Buffer.allocUnsafe(e)}};Tm.emptyBuffer=Buffer.allocUnsafe(0);var DE=class{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),is.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),is.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),is.Disposable.create(()=>this.stream.off("end",e))}onData(e){return this.stream.on("data",e),is.Disposable.create(()=>this.stream.off("data",e))}},TE=class{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),is.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),is.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),is.Disposable.create(()=>this.stream.off("end",e))}write(e,n){return new Promise((i,r)=>{let s=o=>{o==null?i():r(o)};typeof e=="string"?this.stream.write(e,n,s):this.stream.write(e,s)})}end(){this.stream.end()}},Dj=Object.freeze({messageBuffer:Object.freeze({create:t=>new Tm(t)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(t,e)=>{try{return Promise.resolve(Buffer.from(JSON.stringify(t,void 0,0),e.charset))}catch(n){return Promise.reject(n)}}}),decoder:Object.freeze({name:"application/json",decode:(t,e)=>{try{return t instanceof Buffer?Promise.resolve(JSON.parse(t.toString(e.charset))):Promise.resolve(JSON.parse(new bj.TextDecoder(e.charset).decode(t)))}catch(n){return Promise.reject(n)}}})}),stream:Object.freeze({asReadableStream:t=>new DE(t),asWritableStream:t=>new TE(t)}),console,timer:Object.freeze({setTimeout(t,e,...n){let i=setTimeout(t,e,...n);return{dispose:()=>clearTimeout(i)}},setImmediate(t,...e){let n=setImmediate(t,...e);return{dispose:()=>clearImmediate(n)}},setInterval(t,e,...n){let i=setInterval(t,e,...n);return{dispose:()=>clearInterval(i)}}})});function wE(){return Dj}(function(t){function e(){is.RAL.install(Dj)}t.install=e})(wE||(wE={}));xE.default=wE});var Ej=F(Je=>{"use strict";var JZ=Je&&Je.__createBinding||(Object.create?function(t,e,n,i){i===void 0&&(i=n);var r=Object.getOwnPropertyDescriptor(e,n);(!r||("get"in r?!e.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,i,r)}:function(t,e,n,i){i===void 0&&(i=n),t[i]=e[n]}),XZ=Je&&Je.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&JZ(e,t,n)};Object.defineProperty(Je,"__esModule",{value:!0});Je.createMessageConnection=Je.createServerSocketTransport=Je.createClientSocketTransport=Je.createServerPipeTransport=Je.createClientPipeTransport=Je.generateRandomPipeName=Je.StreamMessageWriter=Je.StreamMessageReader=Je.SocketMessageWriter=Je.SocketMessageReader=Je.PortMessageWriter=Je.PortMessageReader=Je.IPCMessageWriter=Je.IPCMessageReader=void 0;var Oc=Tj();Oc.default.install();var wj=require("path"),YZ=require("os"),QZ=require("crypto"),Em=require("net"),Pi=Dm();XZ(Dm(),Je);var EE=class extends Pi.AbstractMessageReader{constructor(e){super(),this.process=e;let n=this.process;n.on("error",i=>this.fireError(i)),n.on("close",()=>this.fireClose())}listen(e){return this.process.on("message",e),Pi.Disposable.create(()=>this.process.off("message",e))}};Je.IPCMessageReader=EE;var kE=class extends Pi.AbstractMessageWriter{constructor(e){super(),this.process=e,this.errorCount=0;let n=this.process;n.on("error",i=>this.fireError(i)),n.on("close",()=>this.fireClose)}write(e){try{return typeof this.process.send=="function"&&this.process.send(e,void 0,void 0,n=>{n?(this.errorCount++,this.handleError(n,e)):this.errorCount=0}),Promise.resolve()}catch(n){return this.handleError(n,e),Promise.reject(n)}}handleError(e,n){this.errorCount++,this.fireError(e,n,this.errorCount)}end(){}};Je.IPCMessageWriter=kE;var FE=class extends Pi.AbstractMessageReader{constructor(e){super(),this.onData=new Pi.Emitter,e.on("close",()=>this.fireClose),e.on("error",n=>this.fireError(n)),e.on("message",n=>{this.onData.fire(n)})}listen(e){return this.onData.event(e)}};Je.PortMessageReader=FE;var PE=class extends Pi.AbstractMessageWriter{constructor(e){super(),this.port=e,this.errorCount=0,e.on("close",()=>this.fireClose()),e.on("error",n=>this.fireError(n))}write(e){try{return this.port.postMessage(e),Promise.resolve()}catch(n){return this.handleError(n,e),Promise.reject(n)}}handleError(e,n){this.errorCount++,this.fireError(e,n,this.errorCount)}end(){}};Je.PortMessageWriter=PE;var ia=class extends Pi.ReadableStreamMessageReader{constructor(e,n="utf-8"){super((0,Oc.default)().stream.asReadableStream(e),n)}};Je.SocketMessageReader=ia;var ra=class extends Pi.WriteableStreamMessageWriter{constructor(e,n){super((0,Oc.default)().stream.asWritableStream(e),n),this.socket=e}dispose(){super.dispose(),this.socket.destroy()}};Je.SocketMessageWriter=ra;var wm=class extends Pi.ReadableStreamMessageReader{constructor(e,n){super((0,Oc.default)().stream.asReadableStream(e),n)}};Je.StreamMessageReader=wm;var xm=class extends Pi.WriteableStreamMessageWriter{constructor(e,n){super((0,Oc.default)().stream.asWritableStream(e),n)}};Je.StreamMessageWriter=xm;var xj=process.env.XDG_RUNTIME_DIR,ZZ=new Map([["linux",107],["darwin",103]]);function eee(){let t=(0,QZ.randomBytes)(21).toString("hex");if(process.platform==="win32")return`\\\\.\\pipe\\vscode-jsonrpc-${t}-sock`;let e;xj?e=wj.join(xj,`vscode-ipc-${t}.sock`):e=wj.join(YZ.tmpdir(),`vscode-${t}.sock`);let n=ZZ.get(process.platform);return n!==void 0&&e.length>n&&(0,Oc.default)().console.warn(`WARNING: IPC handle "${e}" is longer than ${n} characters.`),e}Je.generateRandomPipeName=eee;function tee(t,e="utf-8"){let n,i=new Promise((r,s)=>{n=r});return new Promise((r,s)=>{let o=(0,Em.createServer)(a=>{o.close(),n([new ia(a,e),new ra(a,e)])});o.on("error",s),o.listen(t,()=>{o.removeListener("error",s),r({onConnected:()=>i})})})}Je.createClientPipeTransport=tee;function nee(t,e="utf-8"){let n=(0,Em.createConnection)(t);return[new ia(n,e),new ra(n,e)]}Je.createServerPipeTransport=nee;function iee(t,e="utf-8"){let n,i=new Promise((r,s)=>{n=r});return new Promise((r,s)=>{let o=(0,Em.createServer)(a=>{o.close(),n([new ia(a,e),new ra(a,e)])});o.on("error",s),o.listen(t,"127.0.0.1",()=>{o.removeListener("error",s),r({onConnected:()=>i})})})}Je.createClientSocketTransport=iee;function ree(t,e="utf-8"){let n=(0,Em.createConnection)(t,"127.0.0.1");return[new ia(n,e),new ra(n,e)]}Je.createServerSocketTransport=ree;function see(t){let e=t;return e.read!==void 0&&e.addListener!==void 0}function oee(t){let e=t;return e.write!==void 0&&e.addListener!==void 0}function aee(t,e,n,i){n||(n=Pi.NullLogger);let r=see(t)?new wm(t):t,s=oee(e)?new xm(e):e;return Pi.ConnectionStrategy.is(i)&&(i={connectionStrategy:i}),(0,Pi.createMessageConnection)(r,s,n,i)}Je.createMessageConnection=aee});var Fj=F((ume,kj)=>{"use strict";kj.exports=Ej()});var pee={};qE(pee,{activate:()=>uee});module.exports=Hj(pee);function so(t,e,n){let i=t.get(e);if(i!==void 0||t.has(e))return i;let r=n(e);return t.set(e,r),r}var gd=class{map=new Map;get(e,n){return n?so(this.map,e,n):this.map.get(e)}has(e){return this.map.has(e)}set(e,n){return this.map.set(e,n),this}delete(e){return this.map.delete(e)}clear(){this.map.clear()}dispose(){this.clear()}};function Nm(){return new gd}var Lm={string:!0,undefined:!0},Vj={number:!0,undefined:!0};function jE(t){return!t||typeof t!="object"?!1:typeof t.code=="string"}function BE(t){if(!t||typeof t!="object")return!1;let e=t;return typeof e.name=="string"&&typeof e.message=="string"&&typeof e.errno in Vj&&typeof e.code in Lm&&typeof e.path in Lm&&typeof e.stack in Lm}function oo(t){return new Om(t)}var Om=class{name;#e=new Set;#t=!1;constructor(e){this.name=e}event=e=>{zj(!this.#t,"EventEmitter is disposed");let i={fn:e};return this.#e.add(i),{dispose:()=>{this.#e.delete(i)}}};fire=e=>{for(let n of this.#e)try{n.fn(e)}catch{}};dispose=()=>{this.#t=!0,this.#e.clear()};get isDisposed(){return this.#t}numListeners(){return this.#e.size}};function zj(t,e="assertion failed"){if(!t)throw new Error(e)}function WE(t,e){let n,i=0,r;return s=>o=>{let a=n??=oo(),c=a.event(o);return r??=s(l=>t(l,a.fire)),++i,{dispose(){if(i&&(--i,c.dispose(),!i))try{e?.dispose(),n?.dispose(),r?.dispose()}finally{n=void 0,r=void 0}}}}}var Mm=Symbol("not set");function qm(t){let e=Mm,n;function i(){e=Mm,n=void 0}return WE((r,s)=>{e=r,clearTimeout(n),n=setTimeout(o,t);function o(){let a=e;i(),a!==Mm&&s(a)}},{dispose(){clearTimeout(n),i()}})}function Um(t,...e){let n="event"in t?s=>t.event(s):t,i,r=()=>{if(i)return i;let s=n;for(let o of e)s=o(s);return i=s};return s=>r()(s)}function jm(t,e){let n=new Map;for(let i of t){let r=i[e],s=n.get(r)||[];s.push(i),n.set(r,s)}return n}var je;(function(t){t[t.NONE=0]="NONE",t[t.ERROR=1]="ERROR",t[t.WARNING=2]="WARNING",t[t.INFO=3]="INFO",t[t.DEBUG=4]="DEBUG"})(je||(je={}));var Gj=[[je[je.NONE],je.NONE],[je[je.ERROR],je.ERROR],[je[je.WARNING],je.WARNING],[je[je.INFO],je.INFO],[je[je.DEBUG],je.DEBUG],["INFORMATION",je.INFO]],Jj=new Map(Gj),qr=()=>{},md=class{logLevel;_connection;seq=0;logs=[];loggers={[je.NONE]:qr,[je.ERROR]:qr,[je.WARNING]:qr,[je.INFO]:qr,[je.DEBUG]:qr};logTime=!0;logSequence=!0;constructor(e=je.DEBUG,n){this.logLevel=e,n&&this.setConnection(n)}writeLog(e){if(!this._connection)this.logs.push(e);else{if(e.level>this.logLevel)return;let n=this.logSequence?`${e.seq}	`:"",i=this.logTime?`${e.ts.toISOString()}	`:"",r=`${n}${i}${e.msg}`,s=this.loggers[e.level];s?s(r):console.error(`Unknown log level: ${e.level}; msg: ${e.msg}`)}}get connection(){return this._connection}logMessage(e,n){let r={seq:++this.seq,level:e,ts:new Date,msg:n};this.writeLog(r)}set level(e){this.logLevel=Xj(e)}get level(){return this.logLevel}setConnection(e){this._connection=e,this._connection.onExit(()=>{this._connection=void 0,this.loggers[je.ERROR]=qr,this.loggers[je.WARNING]=qr,this.loggers[je.INFO]=qr,this.loggers[je.DEBUG]=qr}),this.loggers[je.ERROR]=n=>{e.console.error(n)},this.loggers[je.WARNING]=n=>{e.console.warn(n)},this.loggers[je.INFO]=n=>{e.console.info(n)},this.loggers[je.DEBUG]=n=>{e.console.log(n)},this.logs.forEach(n=>this.writeLog(n)),this.logs.length=0}error(e){this.logMessage(je.ERROR,e)}warn(e){this.logMessage(je.WARNING,e)}info(e){this.logMessage(je.INFO,e)}debug(e){this.logMessage(je.DEBUG,e)}log(e){this.debug(e)}getPendingEntries(){return this.logs}clearPendingEntries(){this.logs=[]}};function Xj(t){let e=typeof t=="string"?Jj.get(t.toUpperCase())||je.NONE:t;return typeof e!="number"||e<je.NONE||e>je.DEBUG?je.DEBUG:e}var Yj="";var gi=new md;function qc(t,e){gi.error(Qj(t,e))}function Qj(t,e){let n=Array.isArray(e)?e:[e];return t+"	"+n.map(Zj).join(`
			`)}function Zj(t){if(!t)return"";let e=eB(t,Yj);return e?t.replace(e,"..."):t}function eB(t,e){let n=tB(t,e);return t.slice(0,n)}function tB(t,e){let n="/",i=t.split(n),r=e.split(n),s=Math.min(i.length,r.length),o=0;for(;o<s&&i[o]===r[o];)++o;return i.slice(0,o).join(n).length}var VE=Fe(require("node:assert"),1),Ur=Fe(require("node:path"),1),zE=require("node:url"),sa=require("node:url"),nB=/^(\w[\w-]{1,63}:\/|data:|stdin:)/i;function iB(t,e){return ao(t instanceof URL?t:new URL(t,e))}function rB(t){if(t=iB(t),t.protocol==="data:")return t;let e=t.pathname.endsWith("/");if(!t.pathname.startsWith("/")){if(!t.pathname)return t;let i=t.pathname.split("/").slice(0,e?-2:-1).join("/")+"/";return new URL(t.protocol+(t.host?"//"+t.host:"")+i+t.search+t.hash)}return new URL(e?"..":".",t)}function yd(t){return t instanceof URL||nB.test(t)}function sB(t,e){return e=e.endsWith(":")?e:e+":",typeof t=="string"?t.startsWith(e):t.protocol===e}function oB(t){if(t.pathname.endsWith("/"))return t;let e=new URL(t.href);return e.pathname+="/",e}function aB(t,e){let n=t.pathname,i=e.pathname;if(n===i)return"";if(n=n.endsWith("/")?n:new URL("./",t).pathname,i.startsWith(n))return decodeURIComponent(i.slice(n.length));let r=n,s=i;if(s.startsWith(r))return decodeURIComponent(r===s?"":s.slice(r.lastIndexOf("/")+1));let o=r.split("/").slice(0,-1),a=s.split("/"),c=0;for(c=0;c<o.length&&c<a.length-1&&o[c]===a[c];++c);let l="../".repeat(o.length-c)+a.slice(c).join("/");return decodeURIComponent(l.length<s.length?l:s)}var HE=/^[\\/]([a-zA-Z]:[\\/])/,cB=/^(\/+[a-zA-Z])\$/;function ao(t){if(t=typeof t=="string"?new URL(t):t,t.protocol==="file:"){let e=t.pathname.replaceAll("%3A",":").replaceAll("%3a",":").replaceAll("%24","$");if(t.host||(e=e.replace(cB,"$1:")),e=e.replace(HE,n=>n.toUpperCase()),e!==t.pathname)return t=new URL(t),t.pathname=e,KE(t)}return KE(t)}function KE(t){return t.href.startsWith("file:////")?new URL(t.href.replace(/^file:\/{4}/,"file://")):t}var Uc=process.platform==="win32",uB=/^\/[a-zA-Z]:\//;function GE(t){return uB.test(t)}function JE(t){return sB(t,"file:")}function lB(t){return JE(t)&&t.toString().startsWith("file:///")?dB(t):t.toString()}function dB(t){try{if(Uc){let e=new URL(t);if(!GE(e.pathname)){let n=(0,sa.pathToFileURL)(process.cwd());if(n.hostname)return(0,sa.fileURLToPath)(new URL(e.pathname,n));let i=n.pathname.split("/")[1];return e.pathname=`/${i}${e.pathname}`,(0,sa.fileURLToPath)(e)}}return YE((0,sa.fileURLToPath)(t))}catch{return t.toString()}}var XE=/^([a-zA-Z]):[\\/]/;function YE(t){return t.replace(XE,e=>e.toUpperCase())}var fB=/^file:\/\/\/[a-zA-Z]:\//;function pB(t){return fB.test(t.toString())}var hB=XE,gB=HE,mB=/%/g,yB=/\\/g,CB=/\n/g,vB=/\r/g,SB=/\t/g,bB=/\?/g,DB=/#/g,$E="file:",TB=class{windows;path;cwd;constructor(t={}){let e=t.path?.sep;this.windows=t.windows??(e?e==="\\":void 0)??Uc,this.path=t.path??(this.windows?Ur.default.win32:Ur.default.posix),this.cwd=t.cwd??this.pathToFileURL(this.path.resolve()+"/",this.rootFileURL()),(0,VE.default)(this.path.sep===(this.windows?"\\":"/"),`Path separator should match OS type Windows: ${this.windows===!0?"true":(this.windows??"undefined")||"false"}, sep: ${this.path.sep}, options: `+JSON.stringify({isWindows:Uc,sep:`${e}`,windows:t.windows,pathSep:t.path?.sep,n:t.path?.normalize("path/file.txt"),cwd:t.cwd?.href,win32:this.path===Ur.default.win32,posix:this.path===Ur.default.posix,"win32.normalize":this.path.normalize===Ur.default.win32.normalize,"posix.normalize":this.path.normalize===Ur.default.posix.normalize}))}encodePathChars(t){return t=t.replaceAll(mB,"%25"),!this.windows&&!Uc&&t.includes("\\")&&(t=t.replaceAll(yB,"%5C")),t=t.replaceAll(CB,"%0A"),t=t.replaceAll(vB,"%0D"),t=t.replaceAll(SB,"%09"),t}normalizeFilePathForUrl(t){return t=this.encodePathChars(t),t=t.replaceAll(bB,"%3F"),t=t.replaceAll(DB,"%23"),t.replaceAll("\\","/").replace(hB,n=>`/${n}`.toUpperCase())}toFileURL(t,e){return ao(this.#e(t,e))}#e(t,e){if(typeof t!="string")return t;if(yd(t))return ao(new URL(t));if(e??=this.cwd,Uc&&(t=t.replaceAll("\\","/")),this.isAbsolute(t)&&JE(e)){let r=this.normalizeFilePathForUrl(t);if(pB(e)&&!GE(r)){let s=e.toString().slice(0,10);return ao(new URL(s+r))}return ao(new URL("file://"+r))}if(yd(e)){let r=this.normalizeFilePathForUrl(t);return ao(new URL(r,e))}let n=t.endsWith("/")?"/":"",i=this.normalizeFilePathForUrl(this.path.resolve(e.toString(),t))+n;return ao(new URL("file://"+i))}toFileDirURL(t,e){return oB(this.toFileURL(t,e))}urlToFilePathOrHref(t){return t=this.toFileURL(t),this.#t(t)}#t(t){if(t.protocol!==$E||t.hostname)return t.href;let e=this.path===Ur.default?lB(t):decodeURIComponent(t.pathname.split("/").join(this.path.sep));return YE(e.replace(gB,"$1"))}relative(t,e){if(t.protocol===e.protocol&&t.protocol===$E){if(t.href===e.href)return"";t=t.pathname.endsWith("/")?t:new URL("./",t);let n=t.pathname,i=e.pathname;if(i.startsWith(n))return decodeURIComponent(i.slice(n.length));let r=this.#t(t),s=this.#t(e),o=e.pathname.endsWith("/"),a=this.normalizeFilePathForUrl(this.path.relative(r,s));return o&&!a.endsWith("/")&&(a+="/"),decodeURIComponent(a)}return decodeURIComponent(aB(t,e))}urlDirname(t){return rB(this.toFileURL(t))}pathToFileURL(t,e){return new URL(this.normalizeFilePathForUrl(t),e||this.cwd)}rootFileURL(t){let e=this.path,n=e.parse(e.normalize(e.resolve(t??".")));return new URL(this.normalizeFilePathForUrl(n.root),this.#n())}#n(){if(this.path===Ur.default)return(0,zE.pathToFileURL)("/");let t=this.path.resolve("/");return new URL(this.normalizeFilePathForUrl(t),"file:///")}isAbsolute(t){return yd(t)||this.path.isAbsolute(t)}isUrlLike(t){return yd(t)}},wB=new TB;function QE(t,e){return wB.toFileURL(t,e)}var ZE;(()=>{"use strict";var t={975:H=>{function N(K){if(typeof K!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(K))}function $(K,G){for(var Q,ae="",se=0,re=-1,ye=0,ve=0;ve<=K.length;++ve){if(ve<K.length)Q=K.charCodeAt(ve);else{if(Q===47)break;Q=47}if(Q===47){if(!(re===ve-1||ye===1))if(re!==ve-1&&ye===2){if(ae.length<2||se!==2||ae.charCodeAt(ae.length-1)!==46||ae.charCodeAt(ae.length-2)!==46){if(ae.length>2){var $e=ae.lastIndexOf("/");if($e!==ae.length-1){$e===-1?(ae="",se=0):se=(ae=ae.slice(0,$e)).length-1-ae.lastIndexOf("/"),re=ve,ye=0;continue}}else if(ae.length===2||ae.length===1){ae="",se=0,re=ve,ye=0;continue}}G&&(ae.length>0?ae+="/..":ae="..",se=2)}else ae.length>0?ae+="/"+K.slice(re+1,ve):ae=K.slice(re+1,ve),se=ve-re-1;re=ve,ye=0}else Q===46&&ye!==-1?++ye:ye=-1}return ae}var te={resolve:function(){for(var K,G="",Q=!1,ae=arguments.length-1;ae>=-1&&!Q;ae--){var se;ae>=0?se=arguments[ae]:(K===void 0&&(K=process.cwd()),se=K),N(se),se.length!==0&&(G=se+"/"+G,Q=se.charCodeAt(0)===47)}return G=$(G,!Q),Q?G.length>0?"/"+G:"/":G.length>0?G:"."},normalize:function(K){if(N(K),K.length===0)return".";var G=K.charCodeAt(0)===47,Q=K.charCodeAt(K.length-1)===47;return(K=$(K,!G)).length!==0||G||(K="."),K.length>0&&Q&&(K+="/"),G?"/"+K:K},isAbsolute:function(K){return N(K),K.length>0&&K.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var K,G=0;G<arguments.length;++G){var Q=arguments[G];N(Q),Q.length>0&&(K===void 0?K=Q:K+="/"+Q)}return K===void 0?".":te.normalize(K)},relative:function(K,G){if(N(K),N(G),K===G||(K=te.resolve(K))===(G=te.resolve(G)))return"";for(var Q=1;Q<K.length&&K.charCodeAt(Q)===47;++Q);for(var ae=K.length,se=ae-Q,re=1;re<G.length&&G.charCodeAt(re)===47;++re);for(var ye=G.length-re,ve=se<ye?se:ye,$e=-1,ke=0;ke<=ve;++ke){if(ke===ve){if(ye>ve){if(G.charCodeAt(re+ke)===47)return G.slice(re+ke+1);if(ke===0)return G.slice(re+ke)}else se>ve&&(K.charCodeAt(Q+ke)===47?$e=ke:ke===0&&($e=0));break}var ht=K.charCodeAt(Q+ke);if(ht!==G.charCodeAt(re+ke))break;ht===47&&($e=ke)}var wt="";for(ke=Q+$e+1;ke<=ae;++ke)ke!==ae&&K.charCodeAt(ke)!==47||(wt.length===0?wt+="..":wt+="/..");return wt.length>0?wt+G.slice(re+$e):(re+=$e,G.charCodeAt(re)===47&&++re,G.slice(re))},_makeLong:function(K){return K},dirname:function(K){if(N(K),K.length===0)return".";for(var G=K.charCodeAt(0),Q=G===47,ae=-1,se=!0,re=K.length-1;re>=1;--re)if((G=K.charCodeAt(re))===47){if(!se){ae=re;break}}else se=!1;return ae===-1?Q?"/":".":Q&&ae===1?"//":K.slice(0,ae)},basename:function(K,G){if(G!==void 0&&typeof G!="string")throw new TypeError('"ext" argument must be a string');N(K);var Q,ae=0,se=-1,re=!0;if(G!==void 0&&G.length>0&&G.length<=K.length){if(G.length===K.length&&G===K)return"";var ye=G.length-1,ve=-1;for(Q=K.length-1;Q>=0;--Q){var $e=K.charCodeAt(Q);if($e===47){if(!re){ae=Q+1;break}}else ve===-1&&(re=!1,ve=Q+1),ye>=0&&($e===G.charCodeAt(ye)?--ye==-1&&(se=Q):(ye=-1,se=ve))}return ae===se?se=ve:se===-1&&(se=K.length),K.slice(ae,se)}for(Q=K.length-1;Q>=0;--Q)if(K.charCodeAt(Q)===47){if(!re){ae=Q+1;break}}else se===-1&&(re=!1,se=Q+1);return se===-1?"":K.slice(ae,se)},extname:function(K){N(K);for(var G=-1,Q=0,ae=-1,se=!0,re=0,ye=K.length-1;ye>=0;--ye){var ve=K.charCodeAt(ye);if(ve!==47)ae===-1&&(se=!1,ae=ye+1),ve===46?G===-1?G=ye:re!==1&&(re=1):G!==-1&&(re=-1);else if(!se){Q=ye+1;break}}return G===-1||ae===-1||re===0||re===1&&G===ae-1&&G===Q+1?"":K.slice(G,ae)},format:function(K){if(K===null||typeof K!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof K);return function(G,Q){var ae=Q.dir||Q.root,se=Q.base||(Q.name||"")+(Q.ext||"");return ae?ae===Q.root?ae+se:ae+"/"+se:se}(0,K)},parse:function(K){N(K);var G={root:"",dir:"",base:"",ext:"",name:""};if(K.length===0)return G;var Q,ae=K.charCodeAt(0),se=ae===47;se?(G.root="/",Q=1):Q=0;for(var re=-1,ye=0,ve=-1,$e=!0,ke=K.length-1,ht=0;ke>=Q;--ke)if((ae=K.charCodeAt(ke))!==47)ve===-1&&($e=!1,ve=ke+1),ae===46?re===-1?re=ke:ht!==1&&(ht=1):re!==-1&&(ht=-1);else if(!$e){ye=ke+1;break}return re===-1||ve===-1||ht===0||ht===1&&re===ve-1&&re===ye+1?ve!==-1&&(G.base=G.name=ye===0&&se?K.slice(1,ve):K.slice(ye,ve)):(ye===0&&se?(G.name=K.slice(1,re),G.base=K.slice(1,ve)):(G.name=K.slice(ye,re),G.base=K.slice(ye,ve)),G.ext=K.slice(re,ve)),ye>0?G.dir=K.slice(0,ye-1):se&&(G.dir="/"),G},sep:"/",delimiter:":",win32:null,posix:null};te.posix=te,H.exports=te}},e={};function n(H){var N=e[H];if(N!==void 0)return N.exports;var $=e[H]={exports:{}};return t[H]($,$.exports,n),$.exports}n.d=(H,N)=>{for(var $ in N)n.o(N,$)&&!n.o(H,$)&&Object.defineProperty(H,$,{enumerable:!0,get:N[$]})},n.o=(H,N)=>Object.prototype.hasOwnProperty.call(H,N),n.r=H=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(H,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(H,"__esModule",{value:!0})};var i={};let r;n.r(i),n.d(i,{URI:()=>p,Utils:()=>ne}),typeof process=="object"?r=process.platform==="win32":typeof navigator=="object"&&(r=navigator.userAgent.indexOf("Windows")>=0);let s=/^\w[\w\d+.-]*$/,o=/^\//,a=/^\/\//;function c(H,N){if(!H.scheme&&N)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${H.authority}", path: "${H.path}", query: "${H.query}", fragment: "${H.fragment}"}`);if(H.scheme&&!s.test(H.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(H.path){if(H.authority){if(!o.test(H.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(a.test(H.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}let l="",f="/",g=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class p{static isUri(N){return N instanceof p||!!N&&typeof N.authority=="string"&&typeof N.fragment=="string"&&typeof N.path=="string"&&typeof N.query=="string"&&typeof N.scheme=="string"&&typeof N.fsPath=="string"&&typeof N.with=="function"&&typeof N.toString=="function"}scheme;authority;path;query;fragment;constructor(N,$,te,K,G,Q=!1){typeof N=="object"?(this.scheme=N.scheme||l,this.authority=N.authority||l,this.path=N.path||l,this.query=N.query||l,this.fragment=N.fragment||l):(this.scheme=function(ae,se){return ae||se?ae:"file"}(N,Q),this.authority=$||l,this.path=function(ae,se){switch(ae){case"https":case"http":case"file":se?se[0]!==f&&(se=f+se):se=f}return se}(this.scheme,te||l),this.query=K||l,this.fragment=G||l,c(this,Q))}get fsPath(){return D(this,!1)}with(N){if(!N)return this;let{scheme:$,authority:te,path:K,query:G,fragment:Q}=N;return $===void 0?$=this.scheme:$===null&&($=l),te===void 0?te=this.authority:te===null&&(te=l),K===void 0?K=this.path:K===null&&(K=l),G===void 0?G=this.query:G===null&&(G=l),Q===void 0?Q=this.fragment:Q===null&&(Q=l),$===this.scheme&&te===this.authority&&K===this.path&&G===this.query&&Q===this.fragment?this:new d($,te,K,G,Q)}static parse(N,$=!1){let te=g.exec(N);return te?new d(te[2]||l,B(te[4]||l),B(te[5]||l),B(te[7]||l),B(te[9]||l),$):new d(l,l,l,l,l)}static file(N){let $=l;if(r&&(N=N.replace(/\\/g,f)),N[0]===f&&N[1]===f){let te=N.indexOf(f,2);te===-1?($=N.substring(2),N=f):($=N.substring(2,te),N=N.substring(te)||f)}return new d("file",$,N,l,l)}static from(N){let $=new d(N.scheme,N.authority,N.path,N.query,N.fragment);return c($,!0),$}toString(N=!1){return w(this,N)}toJSON(){return this}static revive(N){if(N){if(N instanceof p)return N;{let $=new d(N);return $._formatted=N.external,$._fsPath=N._sep===u?N.fsPath:null,$}}return N}}let u=r?1:void 0;class d extends p{_formatted=null;_fsPath=null;get fsPath(){return this._fsPath||(this._fsPath=D(this,!1)),this._fsPath}toString(N=!1){return N?w(this,!0):(this._formatted||(this._formatted=w(this,!1)),this._formatted)}toJSON(){let N={$mid:1};return this._fsPath&&(N.fsPath=this._fsPath,N._sep=u),this._formatted&&(N.external=this._formatted),this.path&&(N.path=this.path),this.scheme&&(N.scheme=this.scheme),this.authority&&(N.authority=this.authority),this.query&&(N.query=this.query),this.fragment&&(N.fragment=this.fragment),N}}let h={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function m(H,N,$){let te,K=-1;for(let G=0;G<H.length;G++){let Q=H.charCodeAt(G);if(Q>=97&&Q<=122||Q>=65&&Q<=90||Q>=48&&Q<=57||Q===45||Q===46||Q===95||Q===126||N&&Q===47||$&&Q===91||$&&Q===93||$&&Q===58)K!==-1&&(te+=encodeURIComponent(H.substring(K,G)),K=-1),te!==void 0&&(te+=H.charAt(G));else{te===void 0&&(te=H.substr(0,G));let ae=h[Q];ae!==void 0?(K!==-1&&(te+=encodeURIComponent(H.substring(K,G)),K=-1),te+=ae):K===-1&&(K=G)}}return K!==-1&&(te+=encodeURIComponent(H.substring(K))),te!==void 0?te:H}function C(H){let N;for(let $=0;$<H.length;$++){let te=H.charCodeAt($);te===35||te===63?(N===void 0&&(N=H.substr(0,$)),N+=h[te]):N!==void 0&&(N+=H[$])}return N!==void 0?N:H}function D(H,N){let $;return $=H.authority&&H.path.length>1&&H.scheme==="file"?`//${H.authority}${H.path}`:H.path.charCodeAt(0)===47&&(H.path.charCodeAt(1)>=65&&H.path.charCodeAt(1)<=90||H.path.charCodeAt(1)>=97&&H.path.charCodeAt(1)<=122)&&H.path.charCodeAt(2)===58?N?H.path.substr(1):H.path[1].toLowerCase()+H.path.substr(2):H.path,r&&($=$.replace(/\//g,"\\")),$}function w(H,N){let $=N?C:m,te="",{scheme:K,authority:G,path:Q,query:ae,fragment:se}=H;if(K&&(te+=K,te+=":"),(G||K==="file")&&(te+=f,te+=f),G){let re=G.indexOf("@");if(re!==-1){let ye=G.substr(0,re);G=G.substr(re+1),re=ye.lastIndexOf(":"),re===-1?te+=$(ye,!1,!1):(te+=$(ye.substr(0,re),!1,!1),te+=":",te+=$(ye.substr(re+1),!1,!0)),te+="@"}G=G.toLowerCase(),re=G.lastIndexOf(":"),re===-1?te+=$(G,!1,!0):(te+=$(G.substr(0,re),!1,!0),te+=G.substr(re))}if(Q){if(Q.length>=3&&Q.charCodeAt(0)===47&&Q.charCodeAt(2)===58){let re=Q.charCodeAt(1);re>=65&&re<=90&&(Q=`/${String.fromCharCode(re+32)}:${Q.substr(3)}`)}else if(Q.length>=2&&Q.charCodeAt(1)===58){let re=Q.charCodeAt(0);re>=65&&re<=90&&(Q=`${String.fromCharCode(re+32)}:${Q.substr(2)}`)}te+=$(Q,!0,!1)}return ae&&(te+="?",te+=$(ae,!1,!1)),se&&(te+="#",te+=N?se:m(se,!1,!1)),te}function k(H){try{return decodeURIComponent(H)}catch{return H.length>3?H.substr(0,3)+k(H.substr(3)):H}}let I=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function B(H){return H.match(I)?H.replace(I,N=>k(N)):H}var W=n(975);let j=W.posix||W,ie="/";var ne;(function(H){H.joinPath=function(N,...$){return N.with({path:j.join(N.path,...$)})},H.resolvePath=function(N,...$){let te=N.path,K=!1;te[0]!==ie&&(te=ie+te,K=!0);let G=j.resolve(te,...$);return K&&G[0]===ie&&!N.authority&&(G=G.substring(1)),N.with({path:G})},H.dirname=function(N){if(N.path.length===0||N.path===ie)return N;let $=j.dirname(N.path);return $.length===1&&$.charCodeAt(0)===46&&($=""),N.with({path:$})},H.basename=function(N){return j.basename(N.path)},H.extname=function(N){return j.extname(N.path)}})(ne||(ne={})),ZE=i})();var{URI:jc,Utils:Cr}=ZE;var Wm=["file","gist","repo","sftp","untitled","vscode-notebook-cell","vscode-scm","vscode-userdata","comment"],Km=new Set(Wm);var ek=/^[\w._-]{2,}:/;function Cd(t){return xB(t)}function xB(t){if(typeof t=="string")return ek.test(t)?jc.parse(t):jc.parse(QE(t).toString());if(t)return t instanceof URL?jc.parse(t.toString()):t}function EB(t,e){if(t.scheme!==e.scheme)return tk(e).toString();let n=Bm(t),i=Bm(e),r=0;for(r=0;r<n.length&&r<i.length;++r){let o=n[r],a=i[r];if(o===a)continue;let c=decodeURIComponent(o).toLowerCase(),l=decodeURIComponent(a).toLowerCase();if(!(c.endsWith(":")&&c==l&&c.length==2))break}return("../".repeat(n.length-r)+i.slice(r).join("/")).replace(/\/$/,"")}function tk(t){return t.with({fragment:"",query:""})}function Ai(t,e={}){let{segments:n=2,relativeTo:i}=e;if(i){let s=EB(Cd(i),t);if(!ek.test(s))return decodeURIComponent(s.split("/").slice(-n).join("/"))}let r=Bm(t).slice(-n);return decodeURIComponent(r.join("/"))}function Bm(t){return tk(t).toString().split("/").filter(e=>!!e)}function nk(t){let e=jc.isUri(t)?t:Cd(t.toString());return e.scheme==="file"?e.fsPath:e.toString()}function $m(t){return[...new Set(t)]}function co(t){let e=new Set;return t?n=>{let i=t(n);return!e.has(i)&&(e.add(i),!0)}:n=>!e.has(n)&&(e.add(n),!0)}function vn(t){return t!=null}function ik(t,e){let n={};for(let i of e)n[i]=t[i];return n}Symbol.dispose??=Symbol("Symbol.dispose");var rk=Symbol("Disposable Name"),sk=Symbol("Disposable Timestamp"),rs=Symbol("Disposable Is Disposed"),vr,Wc=0,Bc=0;function Kn(t,e,n){let i=!1,r=!1,s={dispose:o,[Symbol.dispose]:o,[sk]:performance.now(),[rk]:n||void 0,[rs]:!1};return++Bc,vr?.debug(oa()+"Created: %s, active: %i",vd(s),Bc),s;function o(){try{if(vr?.debug(oa()+"Dispose Start -> %s Active %i",vd(s),Bc),++Wc,i){s[rs]=!0,vr?.warn("Already disposed %s",vd(s));return}--Bc,s[rs]=i=!0,e?t.call(e):t()}catch(a){throw r=!0,a}finally{--Wc,vr?.debug(oa()+"Dispose End   -> %s Active %i%s",vd(s),Bc,r?" ** with errors ** ":"")}}}function vd(t){let e=kB(t)||"",n=ok(t)?.toFixed(4);return e+" "+n}function uo(t,e,n){return Object.assign(t,Kn(e,t,n))}function Sd(t,e="createDisposableFromList"){return Kn(aa(t),void 0,e)}function aa(t,e=""){let n=!1,i=performance.now().toFixed(4);vr&&(e="createDisposeMethodFromList "+(e||"<anonymous>")),vr?.debug(oa()+"Create: %s %s",e,i);let r=0;function s(){try{vr?.debug(oa()+"Dispose Start -> %s %s",e,i),++Wc;let o;if(n&&(vr?.warn("Already disposed %s with %o open.",e,t.length),!t.length))return;n=!0;let a;for(;a=t.pop();)try{ln(a)}catch(c){++r,o??=c}if(o)throw vr?.warn(o),o}finally{--Wc,vr?.debug(oa()+"Dispose End   -> %s %s%s",e,i,r?` *** with ${r} errors ***`:"")}}return s}function ln(t){if(!t)return;if(typeof t=="function"){t();return}let e=t;if(typeof e[Symbol.dispose]=="function"){e[Symbol.dispose].call(t);return}e.dispose.call(t)}function ss(t,e="makeDisposable"){return FB(t)?t:Symbol.dispose in t?Kn(t[Symbol.dispose],t,e):"dispose"in t?Kn(t.dispose,t,e):Kn(t,void 0,e)}function kB(t){return t[rk]}function ok(t){return t[sk]}function FB(t){return!t||typeof t!="object"?!1:rs in t}function oa(){return" ".repeat(Wc)}var PB=()=>{},ca=class{dispose;[Symbol.dispose]=PB;[rs]=!1;_disposables;constructor(e,n="InheritableDisposable"){this._disposables=e??[];let i=aa(this._disposables,n),r=()=>{this.isDisposed()||(this[rs]=!0,i(),Object.freeze(this._disposables))};this.dispose=r,this[Symbol.dispose]=r}isDisposed(){return this[rs]}},bd=class extends ca{disposables;name;#e;constructor(e=[],n="DisposableList"){super(e),this.disposables=e,this.name=n,this.#e=new WeakSet(e)}push(...e){if(this.isDisposed())throw new Error("Already disposed, cannot add items.");let n=0;for(let i of e)this.add(i)&&n++;return n}add(e){return!e||this.#e.has(e)?!1:(this.#e.add(e),this.disposables.push(e),!0)}delete(e){if(!e)return!0;this.#e.delete(e);let n=this.disposables.indexOf(e);return n<0?!1:(this.disposables.splice(n,1),!0)}get length(){return this.disposables.length}isDisposed(){return super.isDisposed()}has(e){return e?this.#e.has(e):!1}};function tt(t,e){return new bd(t,e)}var Ot=Fe(require("vscode"),1);var Kc={allowCompoundWords:"allowCompoundWords",cache:"cache",caseSensitive:"caseSensitive",description:"description",dictionaries:"dictionaries",dictionaryDefinitions:"dictionaryDefinitions",enabled:"enabled",enabledLanguageIds:"enabledLanguageIds",enableFiletypes:"enableFiletypes",enabledFileTypes:"enabledFileTypes",enableGlobDot:"enableGlobDot",failFast:"failFast",features:"features",files:"files",flagWords:"flagWords",gitignoreRoot:"gitignoreRoot",globRoot:"globRoot",ignorePaths:"ignorePaths",ignoreRegExpList:"ignoreRegExpList",ignoreWords:"ignoreWords",ignoreRandomStrings:"ignoreRandomStrings",import:"import",includeRegExpList:"includeRegExpList",language:"language",languageId:"languageId",languageSettings:"languageSettings",loadDefaultConfiguration:"loadDefaultConfiguration",maxDuplicateProblems:"maxDuplicateProblems",maxNumberOfProblems:"maxNumberOfProblems",minWordLength:"minWordLength",minRandomLength:"minRandomLength",name:"name",noConfigSearch:"noConfigSearch",noSuggestDictionaries:"noSuggestDictionaries",numSuggestions:"numSuggestions",overrides:"overrides",patterns:"patterns",pnpFiles:"pnpFiles",readonly:"readonly",reporters:"reporters",showStatus:"showStatus",spellCheckDelayMs:"spellCheckDelayMs",suggestionNumChanges:"suggestionNumChanges",suggestionsTimeout:"suggestionsTimeout",suggestWords:"suggestWords",useGitignore:"useGitignore",usePnP:"usePnP",userWords:"userWords",validateDirectives:"validateDirectives",words:"words",parser:"parser"},Hm=(t=>(t[t.spelling=0]="spelling",t[t.directive=1]="directive",t))(Hm||{});var RB={git:!1,output:!1,debug:!1},AB={gist:!0,repo:!0,file:!0,sftp:!0,untitled:!0,"vscode-notebook-cell":!0,"vscode-vfs":!0,vsls:!0,...RB};function IB(t,e){if(e.allowedSchemas){let n=Object.fromEntries(e.allowedSchemas.map(i=>[i,!0]));t={...t,...n}}return e.enabledSchemes&&(t={...t,...e.enabledSchemes}),t}function ck(...t){let e={...AB};return t.reduce(IB,e)}function Vm(...t){let e=ck(...t);return Object.entries(e).filter(([,n])=>n).map(([n])=>n)}function ak(t,e){if(!e)return t;let n=Object.fromEntries(LB(e).map(i=>i.startsWith("!")?[i.slice(1),!1]:[i,!0]));return t={...t,...n},t}function _B(t,e){return e?{...t,...e}:t}function NB(t,e){return t=ak(t,e.enabledLanguageIds),t=ak(t,e.enableFiletypes),t=_B(t,e.enabledFileTypes),t}function Dd(t,e={}){return NB(e,t)}function zm(t){return Object.keys(Dd(t)).sort()}function LB(t){return t.map(e=>e.replace(/!/g,"~")).sort().map(e=>e.replace(/~/g,"!")).map(e=>e.replace(/^(!!)+/,""))}var Be={...Kc,"advanced.feature.useReferenceProviderRemove":"advanced.feature.useReferenceProviderRemove","advanced.feature.useReferenceProviderWithRename":"advanced.feature.useReferenceProviderWithRename","experimental.symbols":"experimental.symbols",autoFormatConfigFile:"autoFormatConfigFile",blockCheckingWhenAverageChunkSizeGreaterThan:"blockCheckingWhenAverageChunkSizeGreaterThan",blockCheckingWhenLineLengthGreaterThan:"blockCheckingWhenLineLengthGreaterThan",blockCheckingWhenTextChunkSizeGreaterThan:"blockCheckingWhenTextChunkSizeGreaterThan",checkLimit:"checkLimit",checkOnlyEnabledFileTypes:"checkOnlyEnabledFileTypes",checkVSCodeSystemFiles:"checkVSCodeSystemFiles",customDictionaries:"customDictionaries",customFolderDictionaries:"customFolderDictionaries",customUserDictionaries:"customUserDictionaries",customWorkspaceDictionaries:"customWorkspaceDictionaries",diagnosticLevel:"diagnosticLevel",diagnosticLevelFlaggedWords:"diagnosticLevelFlaggedWords",fixSpellingWithRenameProvider:"fixSpellingWithRenameProvider",hideAddToDictionaryCodeActions:"hideAddToDictionaryCodeActions",logLevel:"logLevel",logFile:"logFile",maxDuplicateProblems:"maxDuplicateProblems",maxNumberOfProblems:"maxNumberOfProblems",mergeCSpellSettings:"mergeCSpellSettings",mergeCSpellSettingsFields:"mergeCSpellSettingsFields",noSuggestDictionaries:"noSuggestDictionaries",reportUnknownWords:"reportUnknownWords",showAutocompleteDirectiveSuggestions:"showAutocompleteDirectiveSuggestions",showCommandsInEditorContextMenu:"showCommandsInEditorContextMenu",showStatus:"showStatus",showStatusAlignment:"showStatusAlignment",showSuggestionsLinkInEditorContextMenu:"showSuggestionsLinkInEditorContextMenu",spellCheckDelayMs:"spellCheckDelayMs",spellCheckOnlyWorkspaceFiles:"spellCheckOnlyWorkspaceFiles",suggestionMenuType:"suggestionMenuType",suggestionNumChanges:"suggestionNumChanges",suggestionsTimeout:"suggestionsTimeout",useLocallyInstalledCSpellDictionaries:"useLocallyInstalledCSpellDictionaries",workspaceRootPath:"workspaceRootPath",trustedWorkspace:"trustedWorkspace",allowedSchemas:"allowedSchemas",enabledFileTypes:"enabledFileTypes",enabledLanguageIds:"enabledLanguageIds",enabledSchemes:"enabledSchemes",enabledNotifications:"enabledNotifications",hideIssuesWhileTyping:"hideIssuesWhileTyping",revealIssuesAfterDelayMS:"revealIssuesAfterDelayMS",useCustomDecorations:"useCustomDecorations",doNotUseCustomDecorationForScheme:"doNotUseCustomDecorationForScheme",showInRuler:"showInRuler",textDecoration:"textDecoration",textDecorationLine:"textDecorationLine",textDecorationStyle:"textDecorationStyle",textDecorationThickness:"textDecorationThickness",textDecorationColor:"textDecorationColor",textDecorationColorFlagged:"textDecorationColorFlagged",textDecorationColorSuggestion:"textDecorationColorSuggestion",overviewRulerColor:"overviewRulerColor",dark:"dark",light:"light"};var _n=Fe(require("vscode"),1);var wq=require("util"),Ue=require("vscode");var OB={name:void 0,extensionContext:void 0,client:void 0,dictionaryHelper:void 0,issueTracker:void 0,eventLogger:void 0},MB=Object.keys(OB),ua={};function $c(){return ua}function uk(t,e){Object.defineProperty(ua,t,{get:function(){let n=e();return Object.defineProperty(this,t,{value:n}),n}})}function it(t){if(Object.getOwnPropertyDescriptor(ua,t)===void 0)throw new Error(`Missing Dependency Resolver: '${t}'`);return ua[t]}function lo(){return it("client")}function Gm(){return it("extensionContext")}function Jm(){return it("issueTracker")}function Hc(t,e){Object.defineProperty(ua,t,{value:e,configurable:!0,enumerable:!0})}function qB(t){Object.defineProperty(ua,t,{get:function(){throw new Error(`Missing Dependency: ${t}`)},configurable:!0,enumerable:!0})}function UB(){MB.forEach(qB)}UB();var ey=Fe(require("vscode"),1);var Xm=require("vscode");function Xe(t){return typeof t=="string"?Xm.Uri.from(Cd(t)):t&&Xm.Uri.from(t)||void 0}var Vc={Dictionary:"dictionary",Cspell:"cspell",Vscode:"vscode"};function Ym(t){return e=>typeof e=="object"&&e.kind===t}var vte=Ym(Vc.Dictionary),Ste=Ym(Vc.Cspell),bte=Ym(Vc.Vscode),Td={user:1,workspace:2,folder:3,unknown:4};function jB(t,e){return Td[t]-Td[e]}function BB(t,e){return Td[e]-Td[t]}function zc(t,e=!0){let n=e?BB:jB;return[...t].sort(n)}var Sr=require("vscode"),lk={[Sr.ConfigurationTarget.Global]:"user",[Sr.ConfigurationTarget.Workspace]:"workspace",[Sr.ConfigurationTarget.WorkspaceFolder]:"folder"},WB={user:Sr.ConfigurationTarget.Global,workspace:Sr.ConfigurationTarget.Workspace,folder:Sr.ConfigurationTarget.WorkspaceFolder},Qm=[Sr.ConfigurationTarget.Global,Sr.ConfigurationTarget.Workspace,Sr.ConfigurationTarget.WorkspaceFolder];function _i(t){return lk[t]}function wd(t){return KB(t)}function KB(t){return WB[t]}function Zm(t){return lk[t]}function dk(t){let e=[],n=Qm.indexOf(t);if(n<0)return e;for(let i=n;i<Qm.length;++i)e.push(Zm(Qm[i]));return e.push("unknown"),e}var $B={dictionary:"dictionary",cspell:"cspell",vscode:"vscode",unknown:"unknown",folder:"folder",workspace:"workspace",user:"user"};var fo={dictionary:!0,cspell:!0,vscode:!0};var HB={cspell:!0},ny={vscode:!0},VB={dictionary:!0,cspell:!1,vscode:!1};var Gc={unknown:!0,folder:!0,workspace:!0,user:!0},zB={unknown:!0,folder:!0,workspace:!0,user:!1},fk={user:!0},pk={workspace:!0},hk={folder:!0};var GB=Object.freeze(Object.values(Vc)),JB=Object.freeze(Object.values($B)),xd=os(fo,zB),gk=os(fo,fk),mk=os(fo,pk),yk=os(fo,hk),Ck=os(HB,Gc),vk=os(ny,fk),Sk=os(ny,pk),bk=os(ny,hk),Ed=Jc(iW(VB),Gc),Ate=Jc(fo,Gc);function XB(t,e){let n=[];for(let i of e)if(!(!t[i.kind]||!t[i.scope])){if(n.length&&(n[0].kind!==i.kind||n[0].scope!==i.scope))break;n.push(i)}return n}function os(...t){let e=Jc(...t);return YB(e)}function YB(t,e=!1){return async function(n){let i=XB(t,n);return kd(i,e)}}async function kd(t,e=!1){if(!t.length)throw new ty("No matching configuration found.");if(t.length===1)return t;let n="Choose Destination",i=t.map(o=>({label:o.name,_found:o})),r=e?await ey.window.showQuickPick(i,{title:n,canPickMany:!0}):await ey.window.showQuickPick(i,{title:n});return r?(Array.isArray(r)?r:[r]).map(o=>o._found):void 0}async function Fd(t){let e=await kd(t,!1);return e&&e[0]}function Pd(t,e){let n=typeof e=="function"?e:QB(e);return t.filter(n)}function Dk(t,e){return t.filter(n=>n.kind!=="cspell"||e in Kc)}function QB(t){return e=>ZB(e,t)}function ZB(t,e){return!!e[t.kind]&&!!e[t.scope]}function Jc(...t){let e={};for(let n of t)typeof n=="string"?e[n]=!0:e=eW(e,n,JB);return e}function eW(t,e,n){let i=Object.assign({},t);for(let r of n){let s=e[r];s!==void 0&&(i[r]=s)}return i}function tW(t,e){let n={};for(let i of e)n[i]=nW(t[i]);return n}function nW(t){return t===void 0?void 0:!t}function iW(t){return tW(t,GB)}function Tk(t,e,n){let i=_i(t);return{kind:"vscode",scope:i,name:i,docUri:Xe(e),configScope:n}}var ty=class extends Error{};var iy=require("util"),xk=require("vscode");function Xc(t){if(t instanceof Error)return!0;if(!t||typeof t!="object")return!1;let e=t;return e.message!==void 0&&e.name!==void 0}function Yc(t,e){return!kk(t)&&Xc(t)?(console.error(sy(t,e)),po(xk.window.showErrorMessage(t.message),"showError Resolver showErrorMessage").then(()=>{})):Promise.resolve(void 0)}function Qc(t,e){return!kk(t)&&Xc(t)&&console.log(sy(t,e)),Promise.resolve(void 0)}function ry(t,e){let n=sy(t,e);return Promise.resolve(void 0)}function rt(t,e,n=Yc){return(typeof t=="function"?(async()=>t())():t).catch(rW(e,n))}function Zc(t,e,n=Yc){return(...i)=>rt(()=>t(...i),e,n)}function dn(t,e){return rt(Promise.resolve(t),e,Qc)}function po(t,e){return rt(Promise.resolve(t),e,ry)}function Ek(t,e){return rt(Promise.resolve(t),e,Yc)}function rW(t,e){return n=>e(n,t)}function sy(t,e){return(0,iy.format)("Error: context (%s): %o",e,t)}var wk="Canceled";function kk(t){return t instanceof Error&&t.name===wk&&t.message===wk}function la(t){if(Xc(t))return t;let e=new Error((0,iy.format)("Error: %o",t));return e.cause=t,e}function Fk(t,e){return jr(t,yk,e)}function Rd(t,e){return jr(t,mk,e)}function Ad(t){return jr(t,gk,void 0)}function jr(t,e,n){return rt(sW(t,e,n),"addWordToTarget")}function sW(t,e,n){return n=Xe(n),it("dictionaryHelper").addWordsToTargets(t,e,n)}function br(t,e){return(n,i)=>t(n,e,i)}var In=require("vscode");var A8=require("vscode");var Ta=Fe(_F(),1),EA=require("vscode");var Bf=Fe(DA(),1);var Er=require("vscode");var qf=require("vscode");async function TA(t){try{return!!(await qf.workspace.fs.stat(t)).type}catch(e){if(!(e instanceof qf.FileSystemError))throw e;return!1}}var hv=Er.workspace.fs,wA={FileNotFound:!0,EntryNotFound:!0,ENOENT:!0},u8=Er.FileSystemError.FileNotFound().code;wA[u8]=!0;async function l8(t){return await hv.createDirectory(t)}async function d8(t,e,n="utf8"){let i=gv(t);return i?f8(i,e):p8(t,e,n)}async function f8(t,e){let n=t.getText();if(n===e)return;let i=new Er.Range(t.positionAt(0),t.positionAt(n.length)),r=new Er.WorkspaceEdit;r.replace(t.uri,i,e),await Er.workspace.applyEdit(r),await t.save()}async function p8(t,e,n){return await hv.writeFile(t,Buffer.from(e,n))}async function h8(t,e){return Buffer.from(await hv.readFile(t)).toString(e)}function g8(t){return jE(t)?t.code in wA:!1}function gv(t){let e=t.toString(!0);return Er.workspace.textDocuments.find(n=>n.uri.toString(!0)===e)}var Jt={createDirectory:l8,writeFile:d8,readFile:h8,fileExists:TA,isFileNotFoundError:g8};function mv(t,e){let n={};for(let i of e)n[i]=t[i];return n}var kA=Symbol("format"),m8=[{match:/package\.json$/i,handler:t=>new bv(t)},{match:/\.jsonc?$/i,handler:t=>new Sv(t)},{match:/\.ya?ml$/i,handler:t=>new Dv(t)}],y8=4,xA=2;async function Tv(t,e){try{return await Wf(t)._read()}catch(n){return Jt.isFileNotFoundError(n)?Promise.resolve(e):Promise.reject(n)}}function wv(t,e){return Wf(t).write(e)}function Wf(t){return C8(t)}function C8(t){let e=v8(t);if(e)return e.handler(t);throw new jf(t)}function v8(t){let n=t.with({fragment:"",query:""}).toString();for(let i of m8)if(i.match.test(n))return i}var xv={version:"0.2",ignorePaths:[],dictionaryDefinitions:[],dictionaries:[],words:[],ignoreWords:[],import:[]};function FA(t,e){return t.catch(n=>{if(!Jt.isFileNotFoundError(n))throw n;return e})}var jf=class extends Error{constructor(e){super(`Unhandled file type: "${Cr.basename(e)}"`)}},yv=class extends Error{constructor(n,i,r){super(n);this.code=i;this.errno=r}},Cv=class extends Error{};function Uf(t){let e=w8(t),n=(0,Ta.parse)(t);if(n==null)return{};if(typeof n!="object")throw new Cv("Invalid cspell JSON file.");return S8(n,e)}function vv(t,e,n=!0){let i=b8(t);e=i?.spaces||e||y8;let r=i?.newlineAtEndOfFile??!0,s=n?(0,Ta.stringify)(t,null,e):JSON.stringify(t,null,e);return r?s+`
`:s}function S8(t,e){return t==null||typeof t!="object"||(t[kA]=e),t}function b8(t){if(!(t==null||typeof t!="object"))return t[kA]}function D8(t){return/\n$/.test(t)}function T8(t){let e=t.match(/^[ \t]+(?=")/m);if(e)return e[0]}function w8(t){return{spaces:T8(t),newlineAtEndOfFile:D8(t)}}var qu=class{constructor(e){this.uri=e}async read(e){return mv(await this._read(),e)}update(e,n){return this._update(i=>e(mv(i,n)))}async mkdir(){return await Jt.createDirectory(EA.Uri.joinPath(this.uri,".."))}},Sv=class extends qu{async _update(e){let n=await FA(this._read(),xv),i=(0,Ta.assign)(n,e(n));return this.write(i)}async write(e){await this.mkdir();let n=vv(e),i=n[n.length-1]!==`
`?n+`
`:n;return Jt.writeFile(this.uri,i)}async _read(){let e=this.uri,n=await Jt.readFile(e,"utf8");return Uf(n)}},bv=class extends qu{async _update(e){let n=await Jt.readFile(this.uri,"utf8"),i=Uf(n),r=i.cspell||{...xv};return i.cspell=Object.assign(r,e(r)),Jt.writeFile(this.uri,vv(i,xA,!1))}async write(e){let n=await Jt.readFile(this.uri,"utf8"),i=Uf(n);return i.cspell=e,Jt.writeFile(this.uri,vv(i,xA,!1))}async _read(){let e=await Jt.readFile(this.uri,"utf8"),n=Uf(e);if(!n.cspell||typeof n.cspell!="object")throw new yv("`cspell` section missing from package.json","ENOENT");return n.cspell}},Dv=class extends qu{async _update(e){let n=await FA(this._read(),xv),i=Object.assign({},n,e(n));return this.write(i)}async write(e){return await this.mkdir(),Jt.writeFile(this.uri,(0,Bf.stringify)(e))}async _read(){let e=await Jt.readFile(this.uri,"utf8");return(0,Bf.parse)(e)}};var PA="#";function kv(t){return new Ev(t)}var x8=new Intl.Collator;function IA(t,e){return x8.compare(t,e)}var Ev=class{_entries=[];constructor(e){this._entries=e.map(RA)}get words(){return this._entries.filter(_A).map(e=>e.word)}get entries(){return this._entries}addWords(e){let n=e.map(i=>typeof i=="string"?RA(i):i);this._entries.push(...n)}removeWords(e){let n=new Set(e);this._entries=this._entries.filter(i=>!i.word||!n.has(i.word))}sort(){let e=new Set,n=AA(this._entries);for(let i of n)i.words.sort((r,s)=>IA(r.word,s.word)),i.words=i.words.filter(r=>e.has(r.word)&&!r.comment?!1:(e.add(r.word),!0));this._entries=E8(n)}toString(){let n=AA(this._entries).map(i=>F8(i)).join("");return n.endsWith(`

`)?n.slice(0,-1):n}};function RA(t){let e=t.split("#",2);return e.length===1?{word:e[0].trim()}:e[0]?{word:e[0].trim()||" ",comment:PA+e[1].trimEnd()}:{comment:PA+e[1].trimEnd()}}function AA(t){let e=[],n={header:void 0,words:[],hasEmptyLines:!1};for(let i of t){if(k8(i)){n.header&&e.push(n),n={header:i,words:[],hasEmptyLines:!1};continue}if(!_A(i)){n.hasEmptyLines=!0;continue}n.words.push(i)}return e.push(n),e}function E8(t){return t.flatMap(e=>e.header?[e.header,...e.words,...e.hasEmptyLines?[{word:""}]:[]]:e.words)}function k8(t){return!!t.comment&&!t.word}function _A(t){return!!t.word}function F8(t){let e=P8(t.header),n=t.words.map(r=>R8(r)).join(""),i=t.hasEmptyLines||t.words.length?`
`:"";return e+n+i}function P8(t){return t?.comment?t.comment+`
`:""}function R8(t){return t.word+(t.comment?" "+t.comment:"")+`
`}var I8="0.2";var _8=[".cspell.json","cspell.json",".cSpell.json","cSpell.json",".cspell.jsonc","cspell.jsonc",".vscode/cspell.json",".vscode/cSpell.json",".vscode/.cspell.json","cspell.config.json","cspell.config.jsonc","cspell.config.yaml","cspell.config.yml","cspell.yaml","cspell.yml","package.json","cspell.config.js","cspell.config.cjs","cspell.config.mjs",".config/.cspell.json",".config/cspell.json",".config/.cSpell.json",".config/cSpell.json",".config/.cspell.jsonc",".config/cspell.jsonc",".config/cspell.config.json",".config/cspell.config.jsonc",".config/cspell.config.yaml",".config/cspell.config.yml",".config/cspell.yaml",".config/cspell.yml",".config/cspell.config.js",".config/cspell.config.cjs"],NA=new Set(_8.map(t=>t.split("/").slice(-1)[0])),Fv=Object.freeze(NA),N8=`**/{${[...NA].join(",")}}`;var Kf=".cspell",LA=["cspell.json","cspell.config.yaml","package.json"],kie=Object.freeze({version:I8});var L8=/[^\w\p{L}\p{M}_'’-]+/gu,O8=/^[\w\p{L}\p{M}_'’-]+$/u;function OA(t){return O8.test(t)}function $r(t){return t=typeof t!="string"?t.join(" "):t,t.replace(L8," ").split(" ").map(e=>e.trim()).filter(e=>!!e).filter(co())}var Ks=Fe(require("vscode"),1),uc=require("vscode");var LM=require("path"),Xt=require("vscode");function Ss(t,e){let n=M8(t,e);return{updateFn:r=>({[t]:n(r[t])}),keys:[t]}}function Pv(t,e){return{updateFn:typeof e=="function"?e:()=>e,keys:t}}function M8(t,e){return typeof e=="function"?e:()=>e}var tn=require("vscode");var $t="cSpell",Uu=$t;var wa=require("vscode");var ju=require("vscode");function bs(t){if(!t)return ju.window.activeTextEditor;let e=t.toString();for(let n of ju.window.visibleTextEditors)if(n.document.uri.toString()===e)return n}function kr(t){if(!t)return;let e=t.toString();for(let n of ju.workspace.textDocuments)if(n.uri.toString()===e)return n}var q8={git:!0,output:!0,debug:!0,vscode:!0},U8=Object.freeze(Object.assign(Object.create(null),q8));function $f(t){if(t===void 0||t.scheme in U8)return;let e=j8(t);if(e){let n=Hf(t);return n?{uri:n.notebook.uri,languageId:n.document.languageId}:e}if(t.scheme==="file")return t}function j8(t){let e=kr(t);if(e)return e;let n=new Set(wa.workspace.workspaceFolders?.map(s=>s.uri.scheme)).add("file"),i,r=t.path;for(let s of wa.workspace.textDocuments){let o=s.uri;if(o.path===r&&(i=s,n.has(o.scheme)))return s}return i}function B8(t){return t.scheme==="vscode-notebook-cell"}function Bu(t){return Hf(t.uri)}function Hf(t){if(B8(t))for(let e of wa.workspace.notebookDocuments){let i=e.getCells().find(r=>r.document.uri.toString()===t.toString());if(i)return i}}function Vf(t){let e=Bu(t);return e?e.notebook:t}function MA(t){if(t){if(t instanceof wa.Uri)return t;if("uri"in t)return t.uri}}var _r=require("vscode");var Ki=require("vscode"),qs=Fe(rc());var wl=require("vscode"),xl=Fe(rc()),eM={[wl.DiagnosticSeverity.Error]:xl.DiagnosticSeverity.Error,[wl.DiagnosticSeverity.Warning]:xl.DiagnosticSeverity.Warning,[wl.DiagnosticSeverity.Information]:xl.DiagnosticSeverity.Information,[wl.DiagnosticSeverity.Hint]:xl.DiagnosticSeverity.Hint};function nM(t){return qs.CodeAction.is(t)}function iM(t){let e=t.kind!==void 0&&Ki.CodeActionKind.Empty.append(t.kind)||void 0,n=new Ki.CodeAction(t.title,e);return n.command=t.command&&t.command,n}function rM(t){return qs.Diagnostic.create(iw(t.range),t.message,eM[t.severity],void 0,t.source)}function iw(t){let{start:e,end:n}=t;return qs.Range.create(tM(e),tM(n))}function tM(t){let{line:e,character:n}=t;return qs.Position.create(e,n)}function Lh(t){return t instanceof Ki.Position?t:Array.isArray(t)?new Ki.Position(t[0],t[1]):new Ki.Position(t.line,t.character)}function sM(t){return t instanceof Ki.Range?t:Array.isArray(t)?new Ki.Range(Lh(t[0]),Lh(t[1])):new Ki.Range(Lh(t.start),Lh(t.end))}var oM=["al","asciidoc","bat","c","clojure","coffeescript","cpp","csharp","css","dart","diff","dockerfile","elixir","erlang","fsharp","git-commit","git-rebase","github-actions-workflow","go","graphql","groovy","handlebars","haskell","html","ini","jade","java","javascript","javascriptreact","json","jsonc","julia","jupyter","latex","less","lua","makefile","markdown","objective-c","perl","perl6","php","plaintext","powershell","properties","pug","python","r","razor","restructuredtext","ruby","rust","scala","scminput","scss","shaderlab","shellscript","sql","swift","text","typescript","typescriptreact","vb","vue","xml","xsl","yaml"];var aM=require("vscode"),rw=class{listeners=new Set;send(e){for(let n of this.listeners)n(e)}listen(e){return this.listeners.add(e),new aM.Disposable(()=>this.listeners.delete(e))}};function Oh(){return new rw}var cM=Fe(require("assert"));var Mh=class{_attached=void 0;_resolve=()=>{};_reject=()=>{};_promise;constructor(){this._promise=new Promise((e,n)=>{this._resolve=e,this._reject=n})}get promise(){return this._promise}attach(e){this._attached!==e&&((0,cM.default)(this._attached===void 0,"Already Resolved"),this._attached=e,this._attached.then(this._resolve,this._reject).catch(()=>{}))}isPending(){return!this._attached}isResolved(){return!this.isPending()}};var $6={serverRequests:"sr_",serverNotifications:"sn_",clientRequests:"cr_",clientNotifications:"cn_"};function sw(t,e,n,i=$6){let r=[],s=J6(e.clientRequests,n),o=X6(e.clientNotifications,n);H6(t,i.clientRequests,s,r,n),V6(t,i.clientNotifications,o,r,n);let a=z6(t,i.serverRequests,e.serverRequests,n),c=G6(t,i.serverNotifications,e.serverNotifications,n);return uo({serverRequest:a,serverNotification:c,clientRequest:s,clientNotification:o},aa(r))}function H6(t,e,n,i,r){for(let[s,o]of Object.entries(n)){if(r?.log("bindRequest %o",{name:s,fn:typeof o}),!o)continue;let a=o,c=e+s;i.push(t.onRequest(c,l=>(r?.log(`handle request "${s}" %o`,l),a.publish(...l))))}}function V6(t,e,n,i,r){for(let[s,o]of Object.entries(n)){if(r?.log("bindNotifications %o",{name:s,fn:typeof o}),!o)continue;let a=e+s,c=o;i.push(t.onNotification(a,l=>(r?.log(`handle notification "${s}" %o`,l),c.publish(...l))))}}function z6(t,e,n,i){let r=1;return Object.fromEntries(Object.entries(n).map(([s])=>{let o=e+s;return[s,(...c)=>{let l=++r;return i?.log(`send request "${s}" %o: Params: %o`,l,c),t.sendRequest(o,c).then(f=>(i?.log(`send request "${s}" %o: Response: %o`,l,f),f))}]}))}function G6(t,e,n,i){return Object.fromEntries(Object.entries(n).map(([r])=>{let s=e+r;return[r,(...a)=>(i?.log(`send notification "${r}" %o`,a),t.sendNotification(s,a))]}))}function J6(t,e){function n([i,r]){if(!r)return;let s=Q6(i,e);return typeof r=="function"&&s.subscribe(r),[i,s]}return Object.fromEntries(Object.entries(t).map(n).filter(uM))}function X6(t,e){function n([i,r]){if(!r)return;let s=Y6(i,e);return typeof r=="function"&&s.subscribe(r),[i,s]}return Object.fromEntries(Object.entries(t).map(n).filter(uM))}function Y6(t,e){let n=new Set;async function i(...s){for(let o of n)e?.log(`notify ${t} %s`,typeof o),await o(...arguments)}function r(s){return e?.log(`subscribe to ${t} %s`,typeof s),n.add(s),Kn(()=>n.delete(s))}return{publish:i,subscribe:r}}function Q6(t,e){let n;async function i(...s){return e?.log(`notify ${t} %o`,n),await n?.(...arguments)}function r(s){return n=s,e?.log(`subscribe to ${t} %s`,typeof s),Kn(()=>{n===s&&(n=void 0)})}return{publish:i,subscribe:r}}function uM(t){return t!==void 0}var lM=(t=>(t[t.Unknown=0]="Unknown",t[t.File=1]="File",t[t.Directory=2]="Directory",t[t.SymbolicLink=64]="SymbolicLink",t))(lM||{}),qh="_",e5={serverNotifications:qh,serverRequests:qh,clientNotifications:qh,clientRequests:qh};function ow(t,e,n){return sw(t,e,n,e5)}var An=Fe(rc());var Us=require("vscode");async function dM(t){let e=Us.Uri.parse(t);return await Us.workspace.fs.stat(e)}async function fM(t){let e=Us.Uri.parse(t);return await Us.workspace.fs.readDirectory(e)}async function pM(t){let e=Us.Uri.parse(t),n=await Us.workspace.fs.readFile(e);return{uri:t,encoding:"base64",content:Buffer.from(n).toString("base64")}}async function gM(t,e){let n=An.CodeActionRequest.type;return await t.sendRequest(n,e)}function mM(t){let n=ow(t,{serverRequests:{isSpellCheckEnabled:!0,getConfigurationForDocument:!0,getConfigurationTargets:!0,getSpellCheckingOffsets:!0,spellingSuggestions:!0,splitTextIntoWords:!0,traceWord:!0,checkDocument:!0},serverNotifications:{notifyConfigChange:!0,registerConfigurationFile:!0},clientNotifications:{onSpellCheckDocument:!0,onDocumentConfigChange:!0,onBlockFile:!0},clientRequests:{onWorkspaceConfigForDocumentRequest:!0,vfsReadDirectory:fM,vfsReadFile:pM,vfsStat:dM}},{log:()=>{}}),{serverNotification:i,serverRequest:r,clientNotification:s,clientRequest:o}=n;return{isSpellCheckEnabled:Qr(r.isSpellCheckEnabled,"isSpellCheckEnabled"),getConfigurationForDocument:Qr(r.getConfigurationForDocument,"getConfigurationForDocument"),getConfigurationTargets:Qr(r.getConfigurationTargets,"getConfigurationTargets"),getSpellCheckingOffsets:Qr(r.getSpellCheckingOffsets,"getSpellCheckingOffsets"),spellingSuggestions:Qr(r.spellingSuggestions,"spellingSuggestions"),notifyConfigChange:Qr(i.notifyConfigChange,"notifyConfigChange"),registerConfigurationFile:Qr(i.registerConfigurationFile,"registerConfigurationFile"),traceWord:Qr(r.traceWord,"traceWord"),checkDocument:Qr(r.checkDocument,"checkDocument"),onSpellCheckDocument:c=>s.onSpellCheckDocument.subscribe(Uh(c,"onSpellCheckDocument")),onDocumentConfigChange:c=>s.onDocumentConfigChange.subscribe(Uh(c,"onDocumentConfigChange")),onBlockFile:c=>s.onBlockFile.subscribe(Uh(c,"onBlockFile")),onWorkspaceConfigForDocumentRequest:c=>o.onWorkspaceConfigForDocumentRequest.subscribe(Uh(c,"onWorkspaceConfigForDocumentRequest")),dispose:n.dispose}}var t5=0,hM=!1,n5=!0,i5=!0;function Qr(t,e){return(...n)=>r5(n,t(...n),e)}function r5(t,e,n){return yM("Server R/N",t,e,n,n5)}function Uh(t,e){return(...n)=>s5(n,t(...n),e)}function s5(t,e,n){return yM("Client R/N",t,e,n,i5)}async function yM(t,e,n,i,r){let s=++t5,o;r&&hM&&console.log("%s %i Start %s: %s(%o)",new Date().toISOString(),s,t,i,e);try{return o=await n,o}finally{r&&hM&&console.log("%s %i End   %s: %s, %o",new Date().toISOString(),s,t,i,o)}}var FM=Fe(kM(),1);function Wh(t=""){return Array.isArray(t)&&(t=t.join(",")),v5(t).join(",")}function v5(t=""){return t.replace(/[|;\s]/g,",").replace(/[*]/g,"").split(",").map(e=>(0,FM.normalizeCode)(e)).map(e=>e.trim()).filter(e=>!!e).filter(co())}var S5=["--nolazy","--inspect=60048"],b5=Uu+"Server",PM="||",Kh=class t{client;import=new Set;languageIds;allowedSchemas;serverApi;disposables=tt();broadcasterOnSpellCheckDocument=Oh();broadcasterOnDocumentConfigChange=Oh();broadcasterOnBlockFile=Oh();ready=new Mh;diagEmitter=new _r.EventEmitter;constructor(e,n){let i=e.asAbsolutePath("packages/_server/dist/main.cjs"),r={enabledLanguageIds:Mo(Be.enabledLanguageIds,js.Workspace),enableFiletypes:Mo(Be.enableFiletypes,js.Workspace),enabledFileTypes:Mo(Be.enabledFileTypes,js.Workspace),allowedSchemas:Mo(Be.allowedSchemas,js.Workspace)||Wm,enabledSchemes:Mo(Be.enabledSchemes,js.Workspace)};this.allowedSchemas=new Set(Vm(r)),Km.clear(),this.allowedSchemas.forEach(u=>Km.add(u)),this.languageIds=new Set([...n,...oM,...zm(r)]);let s=(u,d)=>{this.diagEmitter.fire({uri:u,diagnostics:d})},o=[...this.languageIds],c={documentSelector:[...this.allowedSchemas].flatMap(u=>o.map(d=>({language:d,scheme:u}))),diagnosticCollectionName:b5,synchronize:{configurationSection:[wi,"search"]},middleware:{handleDiagnostics:s}},l=this.calcServerArgs(),f={execArgv:l},g={execArgv:[...l,...S5]},p={run:{module:i,transport:An.TransportKind.ipc,options:f},debug:{module:i,transport:An.TransportKind.ipc,options:g}};this.registerDisposable(this.broadcasterOnDocumentConfigChange.listen(u=>this.clearCacheGetConfigurationForDocument(u.uris))),this.client=new An.LanguageClient("cspell","Code Spell Checker Server",p,c),this.client.registerProposedFeatures(),this.serverApi=mM(this.client),e.subscriptions.push(this.serverApi),this.initWhenReady()}start(){return this.ready.isPending()&&this.ready.attach(this.client.start()),this.ready.promise}async restart(){try{gi.log("Restarting the server"),await this.client.restart(),gi.log("Server restarted")}catch(e){gi.error(`Failed to restart the server: ${la(e).message}`)}}async isSpellCheckEnabled(e){let{uri:n,languageId:i=""}=e;return!n||!i?{uri:n}:{...await this.serverApi.isSpellCheckEnabled({uri:n.toString(),languageId:i}),uri:n}}async getConfigurationTargets(e){let{uri:n,languageId:i}=e||{},r={configTargets:[]};try{let s=fw(n);return!n||!s.uri?await this.serverApi.getConfigurationTargets({workspaceConfig:s}):await this.serverApi.getConfigurationTargets({uri:n.toString(),languageId:i,workspaceConfig:s})}catch(s){return console.error(`Failed to get configuration for document: ${n} ${i} ${s}`),r}}#e=this.factoryGetConfigurationForDocument();getConfigurationForDocument(e,n){return this.#e(e,n)}async _getConfigurationForDocument(e,n){let{uri:i,languageId:r}=e||{},s={enabled:void 0,enabledVSCode:void 0,configFiles:[],configTargets:[],fileEnabled:!1,fileIsIncluded:!1,fileIsExcluded:!1};try{let o=fw(i);return!i||!o.uri?await this.serverApi.getConfigurationForDocument({workspaceConfig:o,fields:n}):await this.serverApi.getConfigurationForDocument({uri:i.toString(),languageId:r,workspaceConfig:o,fields:n})}catch(o){return console.error(`Failed to get configuration for document: ${i} ${r} ${o}`),s}}cacheGetConfigurationForDocument=new Map;factoryGetConfigurationForDocument(){return(e,n)=>{let i=e?.uri?.toString()+PM+Object.keys(n).sort().join(","),r=this.cacheGetConfigurationForDocument.get(i);if(r)return r;let s=this._getConfigurationForDocument(e,n);return this.cacheGetConfigurationForDocument.set(i,s),s}}clearCacheGetConfigurationForDocument(e){if(!e){this.cacheGetConfigurationForDocument.clear();return}let n=new Set(e.map(i=>_r.Uri.parse(i).toString()));for(let i of this.cacheGetConfigurationForDocument.keys()){if(!i)continue;let r=i?.split(PM)[0];n.has(r)&&this.cacheGetConfigurationForDocument.delete(i)}}notifySettingsChanged(){return this.clearCacheGetConfigurationForDocument(),setTimeout(()=>this.clearCacheGetConfigurationForDocument(),250),po(this.whenReady(()=>this.serverApi.notifyConfigChange()),"notifySettingsChanged")}registerConfiguration(e){return dn(this.whenReady(()=>this.serverApi.registerConfigurationFile(e)),"registerConfiguration")}get diagnostics(){return this.client&&this.client.diagnostics||void 0}triggerSettingsRefresh(){return this.notifySettingsChanged()}async whenReady(e){return await this.onReady(),await e()}onReady(){return this.ready.promise}static create(e){return Promise.resolve(_r.languages.getLanguages().then(n=>new t(e,n)))}registerDisposable(...e){this.disposables.push(...e)}dispose(){this.client.stop(),this.disposables.dispose()}calcServerArgs(){return[]}onSpellCheckDocumentNotification(e){return this.broadcasterOnSpellCheckDocument.listen(e)}onDocumentConfigChangeNotification(e){return this.broadcasterOnDocumentConfigChange.listen(e)}onBlockFile(e){return this.broadcasterOnBlockFile.listen(e)}async requestSpellingSuggestionsCodeActions(e,n,i){let r={textDocument:An.TextDocumentIdentifier.create(e.uri.toString()),range:iw(n),context:An.CodeActionContext.create(i.map(rM))},s=await gM(this.client,r);return s?s.filter(nM).map(iM):[]}async requestSpellingSuggestions(e,n){let i={uri:n.uri.toString()};return this.serverApi.spellingSuggestions(e,i)}onDiagnostics(e){return ss(this.diagEmitter.event(e))}async initWhenReady(){await this.onReady(),this.registerHandleNotificationsFromServer(),this.registerHandleOnWorkspaceConfigForDocumentRequest()}registerHandleOnWorkspaceConfigForDocumentRequest(){this.registerDisposable(this.serverApi.onWorkspaceConfigForDocumentRequest(D5))}registerHandleNotificationsFromServer(){this.registerDisposable(this.serverApi.onSpellCheckDocument(e=>this.broadcasterOnSpellCheckDocument.send(e)),this.serverApi.onDocumentConfigChange(e=>this.broadcasterOnDocumentConfigChange.send(e)),this.serverApi.onBlockFile(e=>this.broadcasterOnBlockFile.send(e)))}};function D5(t){let{uri:e}=t,n=_r.Uri.parse(e);return fw(n)}function fw(t){let e=$f(t),n=MA(e),i=$h(e,["words","userWords","ignoreWords"]),r=_r.workspace.workspaceFile?.toString(),s=n&&_r.workspace.getWorkspaceFolder(n)?.uri.toString(),o=r!==void 0,a=dw(i.userWords,o),c=dw(i.words,o),l=dw(i.ignoreWords,o);return c.user=a.user,{uri:n?.toString(),workspaceFile:r,workspaceFolder:s,words:c,ignoreWords:l}}function dw(t,e){if(!t)return{};let{globalValue:n,workspaceValue:i,workspaceFolderValue:r}=t;return{user:n!==void 0||void 0,workspace:i!==void 0||void 0,folder:e&&(r!==void 0||void 0)}}var kl=class{constructor(e,n=1e3,i=5e3){this.getConfigurationForDocument=e;this.staleTimeMs=n;this.maxAgeMs=i;this.configs=new Map}configs=new Map;get(e){let n=this.configs.get(e.toString());if(!n||!n.config||this.isTooOld(n)){this.fetch(e);return}return this.isState(n)||this.fetch(e),n.config}set(e,n){let i=e.toString(),r=this.configs.get(i)||{config:n,timestamp:performance.now(),pending:void 0};r.config=n,this.configs.set(i,r)}delete(e){let n=e.toString();return this.configs.delete(n)}clear(){this.configs.clear()}async fetchAsync(e,n){try{let i=await this.getConfigurationForDocument(e);return n.config=i,n.timestamp=performance.now(),n.pending=void 0,i}finally{n.pending=void 0,this.cleanup()}}fetch(e){let n=e.toString(),i=this.configs.get(n)||{config:void 0,timestamp:performance.now(),pending:void 0};if(i.pending)return i.pending;this.configs.set(n,i);let r=this.fetchAsync(e,i);return i.pending=r,r}isState(e){return e.timestamp+this.staleTimeMs>performance.now()}isTooOld(e){return e.timestamp+this.maxAgeMs<performance.now()}cleanup(){for(let[e,n]of this.configs)!n.pending&&this.isTooOld(n)&&this.configs.delete(e)}};var an=require("vscode"),wi=$t,Goe=tn.ConfigurationTarget.Global,js={Default:"defaultValue",Global:"globalValue",Workspace:"workspaceValue",Folder:"workspaceFolderValue"},AM=["defaultValue","globalValue","workspaceValue","workspaceFolderValue"],T5=new Map(AM.map((t,e)=>[t,e]));function IM(t){return[wi,t].filter(e=>!!e).join(".")}function Zr(t,e){return Fl(e).get(wi,{})[t]}function Mo(t,e){return w5(t,e).value}function w5(t,e){e=R5(e);let n=x5(t,e.resource);return I5(n,e.scope)}function x5(t,e){return E5(e,t)}function gw(t){return Fl(t).inspect(wi)||{key:wi}}function E5(t,e){let n=Fl(t),i=[wi,e].join(".");return n.inspect(i)||{key:i}}function k5(t,e){let n=[wi,e].join(".");return t.inspect(n)||{key:n}}function $h(t,e){let n=Fl(t),i={};for(let r of e){let s={[r]:k5(n,r)};Object.assign(i,s)}return i}function F5(t){return typeof t=="object"&&t.target!==void 0}var Joe={[tn.ConfigurationTarget.Global]:"globalValue",[tn.ConfigurationTarget.Workspace]:"workspaceValue",[tn.ConfigurationTarget.WorkspaceFolder]:"workspaceFolderValue"},Xoe={[tn.ConfigurationTarget.Global]:"user",[tn.ConfigurationTarget.Workspace]:"workspace",[tn.ConfigurationTarget.WorkspaceFolder]:"folder"};function P5(t){return typeof t=="object"}function R5(t){return P5(t)?{scope:t.scope,resource:t.scope===js.Folder?A5(t.resource):void 0}:{scope:t,resource:void 0}}function A5(t){if(t)return tn.workspace.getWorkspaceFolder(t)?.uri}function I5(t,e){for(let n=T5.get(e);n!==void 0&&n>=0;n-=1){let i=AM[n],r=t[i];if(r!==void 0)return{scope:i,value:r}}return{scope:"defaultValue",value:void 0}}function Fl(t){return tn.workspace.getConfiguration(void 0,M5(t))}function mw(t){return F5(t)?t:{target:t,uri:void 0}}function yw(t,e,n,i){let r={},s=$h(e,n),o=i?_5:N5;for(let a of n)o(r,t,a,s);return r}function _5(t,e,n,i){let r=i[n],s=O5(e,r);s!==void 0&&(t[n]=s)}function N5(t,e,n,i){let r=i[n],s=L5(e,r);s!==void 0&&(t[n]=s)}function L5(t,e){if(e!==void 0)switch(t){case tn.ConfigurationTarget.Global:return e.globalLanguageValue??e.globalValue;case tn.ConfigurationTarget.Workspace:return e.workspaceLanguageValue??e.workspaceValue;case tn.ConfigurationTarget.WorkspaceFolder:return e.workspaceFolderLanguageValue??e.workspaceFolderValue}}function O5(t,e){if(e===void 0)return;let n=hw(e.defaultValue,e.defaultLanguageValue,e.globalValue,e.globalLanguageValue);if(t===tn.ConfigurationTarget.Global||(n=hw(n,e.workspaceValue,e.workspaceLanguageValue),t===tn.ConfigurationTarget.Workspace))return n;if(n=hw(n,e.workspaceFolderValue,e.workspaceFolderLanguageValue),t!==tn.ConfigurationTarget.WorkspaceFolder)throw new Error(`Unknown Config Target "${t}"`);return n}function hw(...t){let e;for(let n of t)if(n!==void 0){if(typeof e!="object"||typeof n!="object"||Array.isArray(n)||Array.isArray(e)){e=n;continue}e=Object.assign({},e,n)}return e}async function Cw(t,e,n,i,r){let s=yw(t,e,n,r),o=i(s),a=Fl(e);await Object.entries(o).map(([c,l])=>a.update(`${$t}.${c}`,l,t))}function M5(t){return q5(t)?$f(RM(t)):U5(t)?_M(t.uri)?t:{...t,uri:RM(t.uri)}:t}function RM(t){return _M(t)?t:tn.Uri.parse(t.toString())}function q5(t){if(!t||typeof t!="object")return!1;let e=t;return e.authority!==void 0&&e.fragment!==void 0&&e.path!=null&&e.query!=null&&e.scheme!=null}function _M(t){return t instanceof tn.Uri}function U5(t){return!t||typeof t!="object"?!1:t.uri!==void 0}function NM(t,e,n){return new vw(t,e,n)}var vw=class{constructor(e,n,i){this.target=e;this.scope=n;this.useMerge=i;this.name=_i(e)}name;async read(e){return yw(this.target,this.scope,e,this.useMerge)}async write(e){await Cw(this.target,this.scope,[],()=>e,!1)}async update(e,n){await Cw(this.target,this.scope,n,e,this.useMerge)}};var Hh=class{setValue(e,n){return this.update(Ss(e,n))}updateValue(e,n){return this.update(Ss(e,n))}};function Pl(t,e){let n=B5(t)?t:Wf(t),i=!!Zr(Be.autoFormatConfigFile,n.uri);return new qo(n,e,i)}function Vh(t,e,n){let i=j5(t)?t:NM(t,e,!!n);return new sc(i)}function j5(t){return typeof t=="object"&&!!t.read&&!!t.write}function B5(t){let e=t;return!!e.update&&!!e.uri}var qo=class t extends Hh{constructor(n,i,r){super();this.configRW=n;this.formatConfig=r;this.name=i||Ai(n.uri),this.kind="cspell",this.configFileUri=n.uri}name;kind;defaultDictionaryScope;configFileUri;getValue(n){return this.configRW.read([n])}async update(n){let i=this.formatConfig,r=this.configFileUri,s=gv(r);if(s&&s.isDirty){let o=LM.posix.basename(r.path),a=await Xt.window.showInformationMessage(`Save "${o}"?`,"Yes","No","Open");if(a==="Open"){await Xt.window.showTextDocument(s);return}if(a!=="Yes")return;await s.save(),await Xt.workspace.save(s.uri)}await this.configRW.update($5(n),n.keys),i&&await W5(r)}static isCSpellConfigRepository(n){return n instanceof t}};async function W5(t){let e=await Xt.workspace.openTextDocument(t),n=await Xt.commands.executeCommand("vscode.executeFormatDocumentProvider",t);if(!n||!n.length)return;let i=new Xt.WorkspaceEdit;i.set(t,n),await Xt.workspace.applyEdit(i),await Xt.workspace.save(e.uri),await V5(1e3),e.isDirty&&await Xt.workspace.save(e.uri)}var sc=class t extends Hh{constructor(n){super();this.rw=n;this.name=n.name,this.defaultDictionaryScope=_i(n.target),this.kind="vscode"}name;kind;defaultDictionaryScope;get target(){return this.rw.target}get scope(){return this.rw.scope}getWorkspaceFolder(){if(this.defaultDictionaryScope==="user")return;if(this.defaultDictionaryScope==="workspace")return Xt.workspace.workspaceFolders?.[0];let n=this.scope;if(n)return K5(n)?n:Sw(n)?Xt.workspace.getWorkspaceFolder(n):H5(n)?Xt.workspace.getWorkspaceFolder(n.uri):Xt.workspace.workspaceFolders?.[0]}update(n){let{fn:i,keys:r}=this.mappers(n.keys,n.updateFn);return this.rw.update(i,r)}getValue(n){return this.rw.read([n])}mappers(n,i){if(this.target!==Xt.ConfigurationTarget.Global)return{fn:i,keys:n};let r=new Set(n);r.has(Be.words)&&r.add(Be.userWords);function s(c){let{userWords:l,words:f,...g}=c,p={...g};return(r.has(Be.userWords)||l||f)&&(p.words=l?.concat(f??[])??f),p}function o(c){let{words:l,userWords:f,...g}=c,p={...g};return Object.keys(c).includes(Be.words)&&(p.words=void 0,p.userWords=l?.concat(f||[])),p}return{fn:c=>o(i(s(c))),keys:[...r]}}static isVSCodeRepository(n){return n instanceof t}};function K5(t){if(!t)return!1;let e=t;return Sw(e.uri)&&typeof e.name=="string"&&typeof e.index=="number"}function $5(t){return e=>t.updateFn(ik(e,t.keys))}function H5(t){return typeof t!="object"?!1:Sw(t.uri)}function Sw(t){if(typeof t!="object")return!1;if(t instanceof Xt.Uri)return!0;let e=t;return e.scheme!==void 0&&e.authority!==void 0&&e.path!==void 0}function V5(t){return new Promise(e=>setTimeout(e,t))}var z5=new Set(["dictionary","cspell","vscode"]);function Rl(t){if(!z5.has(t.kind))throw new Error(`Unknown target ${t.kind}`);switch(t.kind){case"dictionary":return;case"cspell":return Pl(Xe(t.configUri),t.name);case"vscode":return Vh(wd(t.scope),t.configScope||t.docUri,!!t.useMerge)}}function OM(t,e){let i=e.map(qM).map(r=>r.update(t));return Promise.all(i).then(()=>{})}function MM(t,e){let n=e.map(async i=>{let s=await qM(i).getValue(t);return[i,s]});return Promise.all(n)}function qM(t){let e=Rl(t);if(e===void 0)throw new bw(t);return e}var bw=class extends Error{constructor(n){super(`Cannot find appropriate config repository for ${n.kind}:${n.name}`);this.target=n}};function zh(t,e){return MM(e,t)}function Al(t,e,n,i){t=i?Pd(t,i):t;let r=Ss(e,n);return OM(r,t)}function Dw(t){let e=t.map(r=>r.scope),n=zc(e,!0),i=[];return n.map(r=>t.filter(s=>s.scope===r)).forEach(r=>r.forEach(s=>i.push(s))),i}async function oc(t,e,n){t=Dk(t,e);let i=await kd(t);if(!(!i||!i.length))return Al(i,e,n)}function UM(t,e,n){let i;for(let[r,s]of[...t].reverse()){if(r===e)break;i??=s[n]}return i}function Tw(t){let{targets:e,scopes:n}=t,i=new Set(zc(n)),r=Dw(e),s=r.filter(o=>i.has(o.scope));return{targets:e,possibleScopes:n,orderedTargets:r,possibleTargets:s}}var Bs=require("vscode");var Gh=Fe(require("vscode"),1);function G5(t){let e=t.toString();return Gh.window.visibleTextEditors.map(i=>i.document).filter(i=>!!i).filter(i=>i.uri.toString()===e)[0]}function jM(t){let e=t.toString();return((Gh.workspace||{}).textDocuments||[]).filter(r=>r.uri.toString()===e)[0]||G5(t)}function Jh(t){switch(t.kind){case"vscode":return J5(t);case"cspell":return X5(t);case"dictionary":return Y5(t)}}function J5(t){let{name:e,kind:n,scope:i,docUri:r}=t;return{name:e,kind:n,scope:i,docUri:Xe(r),configScope:void 0}}function X5(t){let{name:e,kind:n,scope:i,configUri:r,docUri:s}=t;return{name:e,kind:n,scope:i,docUri:Xe(s),configUri:Xe(r)}}function Y5(t){let{name:e,kind:n,scope:i,dictionaryUri:r,docUri:s}=t;return{name:e,kind:n,scope:i,docUri:Xe(s),dictionaryUri:Xe(r)}}async function Xh(t,e,n,i){let r=i?[Zm(t)]:dk(t),s=Jc(fo,Gc,{dictionary:!1});return e=Xe(e),{targets:(await(e?Uo(e,s):Yh(Bs.window.activeTextEditor?.document,s))).map(a=>a.kind==="vscode"?{...a,configScope:n}:a),scopes:r}}async function BM(t,e,n){let i=await Xh(t,e,n),{targets:r,scopes:s}=i,o=new Set(s);return r.filter(a=>o.has(a.scope))}async function Yh(t,e=Ed){let{uri:n,languageId:i}=t||{},s=(await it("client").getConfigurationForDocument({uri:n,languageId:i},{})).configTargets.map(Jh);return Pd(s,e)}async function Uo(t,e=Ed){t=Xe(t);let n=t?await Q5(t):Bs.window.activeTextEditor?.document;return Yh(n,e)}async function Q5(t){let e=jM(t);return e||((await Bs.workspace.fs.stat(t)).type!==Bs.FileType.File?{uri:t}:await Bs.workspace.openTextDocument(t))}var ac="enabled";function jo(t,e){let{possibleTargets:n}=Tw(t);return oc(n,ac,e)}async function cc(t){let{possibleTargets:e,orderedTargets:n}=Tw(t),i=new Map(await zh(n,ac)),r=e.filter(g=>i.get(g)?.[ac]!==void 0);if(!e.length)return;let s=r[r.length-1]??e[e.length-1],o=i.get(s)?.[ac],c=UM(i,s,ac)??!0,l=o??c,f=c!==l?void 0:!l;return Al([s],ac,()=>f)}async function Qh(t,e,n,i){n=n.map(g=>({...g,useMerge:g.useMerge??g.kind==="vscode"}));let r=new Set(zc(i)),s=new Set(Dw(n)),o=new Map(await zh([...s],"language")),a=new Set([...s].filter(g=>r.has(g.scope)));if(!e)[...o].filter(([g,p])=>!t7(t,p.language)).forEach(([g])=>a.delete(g));else{let g=[...a],p=new Set([...o].filter(([d,h])=>n7(t,h.language)).map(([d])=>d)),u=!1;for(let d of a)u=u||p.has(d),u&&a.delete(d);a.size||g.filter(d=>!p.has(d)).forEach(d=>a.add(d))}let c=a.size>1?await Fd([...a]):[...a][0];if(!c)return;let l=i7("language",c,o);return Al([c],"language",e?g=>Z5(t,g||l):g=>e7(t,g))}function Ws(t){return Wh(t).split(",").filter(e=>!!e)}function Z5(t,e){let n=Ws(t),i=new Set(Ws(e||""));return n.forEach(r=>i.add(r)),[...i].join(",")||void 0}function e7(t,e){let n=Ws(t),i=new Set(Ws(e||""));return n.forEach(r=>i.delete(r)),[...i].join(",")||void 0}function t7(t,e){if(!t||!e)return!1;let n=new Set(Ws(t)),i=Ws(e);for(let r of i)if(n.has(r))return!0;return!1}function n7(t,e){if(!t||!e)return!1;let n=new Set(Ws(e)),i=Ws(t);for(let r of i)if(!n.has(r))return!1;return!0}function i7(t,e,n){let i=[...n].reverse(),r;for(let[s,o]of i)if(r??=o[t],s===e)break;return r}function r7(t){return t&&Ks.workspace.getWorkspaceFolder(t)||uc.workspace.workspaceFolders?.[0]}function ww(t,e){let n=$r(e);return oc(t,"ignoreWords",i=>$m(n.concat(i||[]).sort()))}function WM(t,e){return{...e,...t}}function Zh(t,e){return oc(e,"enabledFileTypes",i=>WM(t,i))}var s7={version:"0.2",ignorePaths:[],dictionaryDefinitions:[],dictionaries:[],words:[],ignoreWords:[],import:[]};async function o7(t,e){let n=await Tv(t);if(!e&&n&&Object.keys(n).length>1){let i="Overwrite",r="Open";switch(await Ks.window.showWarningMessage("Configuration file already exists.",{modal:!0},i,r)){case i:break;case r:await Ks.window.showTextDocument(t);return;default:return}}return await wv(t,s7),t}async function a7(t){let e=uc.Uri.joinPath(t,"package.json");try{return(await uc.workspace.fs.stat(e)).type===Ks.FileType.File}catch{return!1}}function c7(t){return a7(t.uri)}var u7="Unable to determine location for configuration file.";async function xw(t,e){let n=r7(t);if(!n)throw new Error(u7);let i=new Set(LA);await c7(n)||i.delete("package.json");let r=await Ks.window.showQuickPick([...i],{title:"Choose config file"});if(!r)return;let s=uc.Uri.joinPath(n.uri,r);return await o7(s,e),s}async function $s(t,e){let n=await Uo(e);return Zh(t,n)}function l7(t,e){return oc(e,"enabledSchemes",i=>WM(t,i))}async function KM(t,e){let n=await Uo(e);return l7(t,n)}function eg(t,e){if(d7(t))return t;let n=t.match(/^\/(.*)\/([gimsuy]*)$/);return n?new RegExp(n[1],n[2]||void 0):new RegExp(t,e)}function d7(t){return t instanceof RegExp}var Ew=require("vscode");function Hs(t,e,n=ry){let i=Promise.resolve(t).then(()=>{});return rt(i,e,n)}function tg(t){return Hs(Ew.window.showErrorMessage(t),"showErrorMessage helper")}function f7(...t){return po(Ew.window.showInformationMessage(...t),"pvShowInformationMessage")}function kw(t){return Hs(f7(t),"pvShowInformationMessage")}var p7=Be.fixSpellingWithRenameProvider,h7=Be["advanced.feature.useReferenceProviderWithRename"],g7=Be["advanced.feature.useReferenceProviderRemove"];function m7(t,e,n){let i=e.toString();return t.filter(r=>(!n||r.range.contains(n))&&r.uri.toString()===i)}async function y7(t,e){try{let n=await In.commands.executeCommand("vscode.executeReferenceProvider",t,e.start);return!Array.isArray(n)||!n.length?void 0:n}catch{return}}async function C7(t,e,n){if(n){let r=await y7(t.uri,e);if(r!==void 0)return{locations:r,refUsed:!0}}let i=t.getWordRangeAtPosition(e.start);if(!(!i||!i.contains(e)))return{locations:[new In.Location(t.uri,i)],refUsed:!1}}async function v7(t,e,n){let i=await C7(t,e,n);if(!i)return;let r=m7(i.locations,t.uri,e)[0];if(r)return{range:r.range,referenced:i.refUsed}}function S7(t,e){function n(i){return t.asTextEdit(i)}return e.map(n)}function b7(t,e){let n=new In.WorkspaceEdit;return n.set(t,e),n}async function D7(t,e,n){let{range:i,newText:r}=e;if(i.start.line!==i.end.line)return;let{useReference:s,removeRegExp:o}=n,a=await v7(t,i,s);if(!a||!a.range.contains(i)||!a.referenced)return;let c=a.range,l=c.start.character,f=i.start.character-l,g=i.end.character-l,p=t.getText(c),u=[p.slice(0,f),r,p.slice(g)].join(""),d=o?u.replace(o,""):u,h=await dn(In.commands.executeCommand("vscode.executeDocumentRenameProvider",t.uri,i.start,d),"attemptRename");return h?.size&&h||void 0}async function $M(t,e,n){let i=it("client").client.protocol2CodeConverter;return w7(t,S7(i,n),e)}function Fw(t){let e=In.workspace.getConfiguration(wi,t),n=!!e.get(p7),i=!!e.get(h7),r=E7(e.get(g7));return{useRename:n,useReference:i,removeRegExp:r}}async function T7(t,e,n){if(e.length===1&&n.useRename){let i=e[0],r=await D7(t,i,n);if(r)return r}return b7(t.uri,e)}async function w7(t,e,n){let i=kr(t);if(!i)return tg(`Unable to find document: ${t}`);if(n&&i.version!==n)return tg("Spelling changes are outdated and cannot be applied to the document.");let r=Fw(i),s=await Pw(i,e,r);await zM(s,"Failed to apply spelling changes to the document.")}async function x7(t,e){return await Ek(In.workspace.applyEdit(t),e)}function E7(t,e="g"){if(t)try{return eg(t,e)}catch{console.log("Invalid Regular Expression: %s",t)}}async function HM(t,e,n,i){let r=kr(t);if(!r)return ng("Unable to find document.");for(let a of i)if(r.getText(a)!==e)return ng();let s=i.map(a=>new In.TextEdit(a,n));return await Pw(r,s,Fw(r))?void 0:ng()}async function ig(t){t??=In.window.activeTextEditor?.document.uri;let e=bs(t)?.document||kr(t);if(!t||!e)return kw("Unable to fix spelling issues in current document, document not found.");let i=it("issueTracker").getSpellingIssues(t)?.map(s=>({issue:s,suggestions:s.providedSuggestions()})).filter(({issue:s,suggestions:o})=>o?.[0]?.isPreferred&&!o?.[1]?.isPreferred&&s.word&&s.isIssueTypeSpelling()&&!s.isSuggestion()).filter(({issue:s})=>e.getText(s.range)===s.word).map(({issue:s})=>{let o=s.providedSuggestions()?.[0].word;return VM(o!==void 0),new In.TextEdit(s.range,o)});if(!i?.length){let s=Ai(t);return kw(`No auto fixable spelling issues found in ${s}.`)}let r=await Pw(e,i,Fw(e));await zM(r,"Failed to apply spelling changes to the document.")}function VM(t,e="A truthy value is expected."){if(!t)throw Error(e)}function k7(t){return t.sort((e,n)=>e.range.start.line-n.range.start.line||e.range.start.character-n.range.start.character)}function F7(t,e){let n=[];for(let i of e)i.range.intersection(t)&&n.push(i);return n}function P7(t,e,n){let i=t.get(e.uri);if(!i)return[];let r=new Set(n),s=new Set;for(let o of i){let a=F7(o.range,r);for(let c of a)s.add(c),r.delete(c)}return[...s]}function R7(t,e){for(let[n,i]of e)t.set(n,i)}async function A7(t,e,n){let i=new Set(k7(e)),r=new In.WorkspaceEdit;for(;i.size;){let s=i.size,o=i.values().next();if(o.done)break;let a=o.value,c=await T7(t,[a],n);R7(r,c.entries());let l=P7(c,t,e);for(let f of l)i.delete(f);VM(s>i.size,"No progress was made.")}return r}async function Pw(t,e,n){let i=it("eventLogger");for(let s of e){let o=t.getText(s.range);o!==s.newText&&o&&s.newText&&i.logReplace(o,s.newText)}let r=await A7(t,e,n);return x7(r,"applyTextEditsToDocumentWithRename")}async function zM(t,e){return t||await ng(e),t}function ng(t){return tg(t||"Failed to apply spelling changes to the document.")}var es=require("vscode");var lc=Fe(require("vscode"),1);var XM=require("vscode");var GM=require("vscode");var I7=require("vscode");function Rw(){let t=[];for(let e of GM.window.tabGroups.all)for(let n of e.tabs){let{label:i,input:r}=n;_7(r)&&t.push({tab:n,label:i,uri:r.uri})}return t}function _7(t){return!t||typeof t!="object"?!1:"uri"in t}function JM(t){let e=t.toString();return Rw().some(i=>i.uri.toString()===e)}var N7=new Set(["vscode-scm"]);function rg(t){if(!t)return()=>!0;let e=Rw(),n=new Set([...e.map(i=>i.uri.toString()),...XM.window.visibleTextEditors.map(i=>i.document.uri.toString())]);return i=>n.has(i.toString())||N7.has(i.scheme)}function Hi(t,e){let n=$c().issueTracker;if(!t)return[];let i=n.rawIssues(t);return(e!==void 0?i?.filter(s=>s.isIssueType(e)):i)?.map(s=>s.diag)||[]}function YM(t,e=Uu){return t.filter(n=>n.source===e)}function QM(t,e,n){return!t||!n?void 0:Aw(t,e,n)?.map(r=>t.getText(r))}function Aw(t,e,n){if(!t||!n)return;let i=e&&t.getText(e);return n.map(s=>s.range).map(s=>L7(i,e,s)).filter(vn)}function L7(t,e,n){if(!e||t===void 0||n.contains(e))return n;let i=e.intersection(n);if(!(!i||i.isEmpty))return OA(t)?e:n}function ZM(t,e){let n=tt(),i=$c().issueTracker,r=lc.default.languages.createDiagnosticCollection(Uu),s,o=!0;function a(){let g=lc.default.workspace.getConfiguration($t);o=!g.get(Be.useCustomDecorations),s=g.get(Be.doNotUseCustomDecorationForScheme)}function c(g){let p=g.scheme,u=s?.[p];return u?!!u:o}function l(g){if(!t){r.clear();return}g||(r.clear(),g=i.getUrisWithIssues()),r.forEach(u=>{c(u)||r.delete(u)});let p=rg(!0);for(let u of g){if(!c(u)){r.set(u,void 0);continue}let d=p(u)&&i.getSpellingIssues(u)||void 0;r.set(u,d?.map(h=>h.diag))}for(let[u]of r)c(u)||p(u)||r.set(u,void 0)}function f(g){l()}return n.push(r,e(g=>{t=g,l()}),lc.default.workspace.onDidChangeConfiguration(a),lc.default.window.onDidChangeVisibleTextEditors(f),lc.default.window.tabGroups.onDidChangeTabs(f),i.onDidChangeDiagnostics(({uris:g})=>l(g))),a(),n}async function Iw(t,e,n){let i=bs(t),r=i?.document,s=i?.selection,o=e&&sM(e),a=o||s&&r?.getWordRangeAtPosition(s.active),c=r?Hi(r.uri):void 0,l=Aw(r,s,c),f=o||l?.[0]||a,g=f&&c?.filter(m=>!!m.range.intersection(f));if(!r||!s||!f||!g)return Hs(es.window.showInformationMessage("Nothing to suggest."),"actionSuggestSpellingCorrections");if(Zr(Be.suggestionMenuType,r)==="quickFix"&&i)return o&&(i.selection=new es.Selection(o.start,o.end)),await es.commands.executeCommand("editor.action.quickFix");let u=await _w(r,f,g);if(!u||!u.length)return Hs(es.window.showInformationMessage(`No Suggestions Found for ${r.getText(f)}`),"actionSuggestSpellingCorrections");let d=u.map(m=>({label:m.title,_action:m})),h=await es.window.showQuickPick(d);if(h&&h._action.command){let{command:m,arguments:C=[]}=h._action.command;es.commands.executeCommand(m,...C)}}function _w(t,e,n){return it("client").requestSpellingSuggestionsCodeActions(t,e,n)}var Nr=require("vscode");var eq=new Intl.Collator().compare;function nq(t,e){return async function(n,i){let r=await O7(t,n,i);if(!r)return;let s=Nr.window.activeTextEditor;await e(r.text,r.uri),await(s?.document&&Nr.window.showTextDocument(s.document))}}async function O7(t,e,n){if(n=n?Xe(n):e instanceof Nr.Uri?e:void 0,typeof e=="string"&&e)return{text:e,uri:n||Nr.window.activeTextEditor?.document.uri};let i=bs(n),r=i?.document,s=i?.selection,o=s&&r?.getWordRangeAtPosition(s.active),a=r?Hi(r.uri):void 0,c=$r(QM(r,s,a)||[]);if(c.length){let p=s?.anchor.isEqual(s.active)&&c.length===1?c:await tq(c.sort(eq),{title:t,placeHolder:"Choose words"});return p?{text:p.join(" "),uri:r?.uri}:void 0}if(!o||!s||!r||!r.getText(o)){let p=await Nr.window.showInputBox({title:t,prompt:t});return p?{text:p,uri:r?.uri}:void 0}let l=s.contains(o)?r.getText(s):r.getText(o),f=$r(l),g=f.length>1?await tq(f.sort(eq),{title:t,placeHolder:"Choose words"}):[await Nr.window.showInputBox({title:t,prompt:t,value:f[0]})];if(g)return{text:g.join(" "),uri:r.uri}}async function tq(t,e){if(t.length<=1){let r=await Nr.window.showInputBox({...e,value:t[0]});return r?[r]:void 0}let n=t.map(r=>({label:r,picked:!0}));return(await Nr.window.showQuickPick(n,{...e,canPickMany:!0}))?.map(r=>r.label)}var oq=require("util"),sg=require("vscode");function iq(t){return Ss("words",Nw(t))}function rq(t){return Ss("words",Lw(t))}function Nw(t=[]){return e=>{let n=kv(e||[]);return n.addWords(t),n.sort(),n.toString().split(`
`).slice(0,-1)}}function Lw(t){return e=>{let n=kv(e||[]);return n.removeWords(t),n.sort(),n.toString().split(`
`).slice(0,-1)}}var Vs=require("vscode");async function sq(t,e){let n=new Vs.WorkspaceEdit,i=new Vs.Range(t.positionAt(0),t.positionAt(t.getText().length)),r=Vs.TextEdit.replace(i,e);n.set(t.uri,[r]);let s=await Vs.workspace.applyEdit(n);return s&&await t.save(),s}var M7=/(\.((gz|jsonc?|yaml|yml|c?js)$|trie\b)|^$|[/\\]$)/i,Ow=class{constructor(e,n){this.uri=e;this.name=n??Ai(e)}name;addWords(e){return U7(e,this)}removeWords(e){return aq(Lw(e),this)}},Mw=class{constructor(e){this.rep=e;this.name=e.name}name;addWords(e){return this.rep.update(iq(e))}removeWords(e){return this.rep.update(rq(e))}};function og(t,e){let{uri:n,name:i}=q7(t)?t:{uri:t,name:e};return new Ow(n,i)}function q7(t){let e=t;return typeof e.name=="string"&&typeof e.uri=="object"}function Il(t){return new Mw(t)}async function U7(t,e){return aq(Nw(t),e)}async function aq(t,e){if(M7.test(e.uri.path))return Promise.reject(new Error(`Failed to add words to dictionary "${e.name}", unsupported format: "${nk(e.uri)}".`));try{await j7(e.uri);let n=await sg.workspace.openTextDocument(e.uri),i=n.getText(),s=t(i.split(/\r?\n/g)).join(`
`).trim()+`
`;await sq(n,s)||await sg.window.showInformationMessage(`Unable to add words to dictionary "${e.name}"`)}catch(n){let i=BE(n)?n.message:(0,oq.format)(n);return Promise.reject(new Error(`Failed to add words to dictionary "${e.name}", ${i}`))}}async function j7(t){await Jt.fileExists(t)||(await Jt.createDirectory(Cr.dirname(t)),await Jt.writeFile(t,""))}var uq=Fe(require("node:assert"),1),ag=require("vscode");var B7=$t;function*lq(t,e){typeof e!="object"&&(yield[t,e]);for(let[n,i]of Object.entries(e))yield*lq(`${t}.${n}`,i)}var cq=new Map,dq=Object.freeze({usesConfigFile:!1,usesCustomDictionary:!1,hasIssues:!1,showCreateConfig:!1,showCreateDictionary:!1}),fq=Object.freeze({addWordToFolderDictionary:!1,addWordToWorkspaceDictionary:!1,addWordToUserDictionary:!1,addWordToFolderSettings:!1,addWordToWorkspaceSettings:!1,addWordToUserSettings:!1,addWordToDictionary:!1,addWordToCSpellConfig:!1,addIssuesToDictionary:!1,showSuggestions:!1,createCustomDictionary:!1,createCSpellConfig:!1,addIgnoreWord:!1}),W7={output:!1};async function pq(t){return Bo(t,B7)}async function Bo(t,e="cSpell.context"){(0,uq.default)(e.startsWith($t));let i=[...lq(e,t)].filter(([s,o])=>o!==cq.get(s)),r=i.map(([s,o])=>ag.commands.executeCommand("setContext",s,o));i.forEach(([s,o])=>cq.set(s,o)),await Promise.all(r)}var qw=new WeakMap,K7=1e3;async function dc(t,e){let n={documentConfigContext:{...dq},editorMenuContext:{...fq}};if(!e){await pq(n);return}if(W7[e.uri.scheme]===!1)return;let i=e,r=qw.get(i);if(r)return r.stale=!r.pending,r.value;let s={value:$7(t,i),pending:!0,stale:!1};s.value.finally(()=>{s.pending=!1,setTimeout(o,K7)});function o(){qw.delete(i),s.stale&&dc(t,i)}return qw.set(i,s),s.value}async function $7(t,e){let n={documentConfigContext:{...dq},editorMenuContext:{...fq}},i=t.getConfigurationForDocument(e,{showCommandsInEditorContextMenu:!0,showSuggestionsLinkInEditorContextMenu:!0}),r=Hi(e.uri),s=await i,{agg:o,matrix:a,configFoundInWorkspace:c}=H7(s.configTargets),l=(o.dictionary||0)-(a.dictionary.user||0),f=!!o.cspell,g=l>0,p=r.length>0,u=r.length>1,d=!c||!o.cspell,h=!g,m=!!a.vscode.workspace,C=!!a.vscode.folder;n.documentConfigContext={usesConfigFile:f,usesCustomDictionary:g,hasIssues:p,showCreateConfig:d,showCreateDictionary:h};let D=!!s.settings?.showCommandsInEditorContextMenu;n.editorMenuContext.addWordToFolderDictionary=D&&p&&!!a.dictionary.folder,n.editorMenuContext.addWordToWorkspaceDictionary=D&&p&&!!a.dictionary.workspace,n.editorMenuContext.addWordToUserDictionary=D&&p&&!!a.dictionary.user,n.editorMenuContext.addWordToFolderSettings=D&&p&&C,n.editorMenuContext.addWordToWorkspaceSettings=D&&p&&m,n.editorMenuContext.addWordToUserSettings=D&&p&&!a.dictionary.user,n.editorMenuContext.addWordToDictionary=D&&p&&!!a.dictionary.unknown,n.editorMenuContext.addWordToCSpellConfig=D&&p&&f&&!g,n.editorMenuContext.addIssuesToDictionary=D&&p&&u,n.editorMenuContext.createCustomDictionary=D&&h,n.editorMenuContext.createCSpellConfig=D&&d,n.editorMenuContext.addIgnoreWord=D&&p,n.editorMenuContext.hasIssues=p,n.editorMenuContext.hasMultipleIssues=u,n.editorMenuContext.showSuggestions=(D||s.settings?.showSuggestionsLinkInEditorContextMenu||!1)&&p,await pq(n)}function H7(t){let e={},n={vscode:{},cspell:{},dictionary:{}},i=!1;for(let r of t)e[r.kind]=(e[r.kind]||0)+1,e[r.scope]=(e[r.scope]||0)+1,n[r.kind][r.scope]=(n[r.kind][r.scope]||0)+1,i=i||r.kind==="cspell"&&!!ag.workspace.getWorkspaceFolder(Xe(r.configUri));return{agg:e,matrix:n,configFoundInWorkspace:i}}var ug=require("vscode");var hq=Fe(require("node:assert"),1);var Lr=require("vscode"),cg=class t{constructor(e,n){this.uri=e;this.#e=n?.data,this.#n=n?.signature,(0,hq.default)(!n||n.id==="memento","Invalid memento data"),this.#t=oo(),this.#i=V7(e,this.#r.bind(this))}#e;#t;#n;#i;keys(){return this.#e?Object.keys(this.#e):[]}get(e,n){return(this.#e?this.#e[e]:void 0)??n}async update(e,n){let i=[];if(typeof e=="string"){let r=e;this.#e=this.#e??{},n===void 0?delete this.#e[r]:this.#e[r]=n,i.push(r)}else{let r=e;i.push(...Object.keys(r)),this.#e={...this.#e,...r}}this.#n=`s${performance.now()}/${performance.now()}`,await t.#l(this.uri,{id:"memento",v:"v1",ts:Date.now(),signature:this.#n,data:this.#e}),this.#t.fire(i)}onDidChange(e){return this.#t.event(e)}dispose=()=>{this.#i.dispose()};#r(e){this.#s().catch(()=>{})}async#s(){let e=await t.#d(this.uri);if(!e){this.#e=void 0;return}e.signature!==this.#n&&(this.#e=e.data,this.#n=e.signature,this.#t.fire(void 0))}static async#l(e,n){let i=JSON.stringify(n,null,2);await Lr.workspace.fs.createDirectory(Lr.Uri.joinPath(e,"..")),await Lr.workspace.fs.writeFile(e,Buffer.from(i))}static async#d(e){try{let n=await Lr.workspace.fs.readFile(e),r=new TextDecoder().decode(n);return JSON.parse(r)}catch{return}}static async createMemento(e){let n=await t.#d(e);return new t(e,n)}};function V7(t,e){let n=Lr.Uri.joinPath(t,".."),i=t.path.split("/").slice(-1).join(""),r=Lr.workspace.createFileSystemWatcher(new Lr.RelativePattern(n,i));return r.onDidChange(e),r.onDidCreate(e),r.onDidDelete(e),r}function gq(t,e){return[Date.now(),0,"replace",1,t,e]}function mq(){return[Date.now(),0,"activate",1]}var Uw=class{constructor(e){this.uriStorageDir=e;this.#t=cg.createMemento(ug.Uri.joinPath(e,"eventLog.json")),this.#t.then(n=>this.#e=n)}#e;#t;#n=[];#i=void 0;#r=void 0;log(e){this.#n.push(e),this.queueFlush()}logActivate(){this.log(mq())}logReplace(e,n){this.log(gq(e,n))}get eventLog(){return this.#e?this.#e.get("log",[]):[]}queueFlush(){this.#r||(this.#r=setTimeout(()=>{this.#r=void 0,dn(this.flush(),"EventLogger.flush")},10))}flush(){let e=async()=>{if(!this.#n.length)return;let i=this.#e??await this.#t,r=i.get("machineId",ug.env.machineId),s=Date.now(),o=[...i.get("log",[]),...this.#n];this.#n=[],await i.update({machineId:r,ts:s,log:o})},n=this.#i?this.#i.then(e):e();return this.#i=n,n.finally(()=>{this.#i===n&&(this.#i=void 0)}),n}dispose(){this.#e?this.#e.dispose():this.#t.then(e=>e.dispose())}};function jw(t){return new Uw(t)}var fc=require("vscode");var yq=require("vscode");async function lg(t){return yq.env.openExternal(t.toString())}async function Bw(){let t=fc.Uri.joinPath(Gm().extensionUri,"resources/pages/About the Spell Checker.md");return fc.commands.executeCommand("markdown.showPreview",null,[t],{lock:!0})}function Ww(){return Hw("resources/pages/Spell Checker Support Request.md")}function Kw(){return Hw("resources/pages/Spell Checker Report Issue.md")}function _l(){return lg("https://streetsidesoftware.com/sponsor/")}function $w(){return Hw("resources/pages/Spell Checker Release Notes.md")}async function Hw(t){return typeof t=="string"&&(t=fc.Uri.joinPath(Gm().extensionUri,t)),fc.commands.executeCommand("markdown.showPreview",null,[t],{lock:!0})}var Vi=require("vscode");var z7=`# Feedback

Thank you for providing feedback on the Spell Checker. Your feedback is important to us.

## How can the Spell Checker be improved?

<!-- Please provide details on how the Spell Checker can be improved. -->

## What issues are you experiencing?

<!-- Please provide details on the issues you are experiencing. -->

`;async function Vw(){await lg(G7())}function G7(){return J7({title:"Feedback",body:z7,labels:["feedback"]})}function J7(t){let e=new URL("https://github.com/streetsidesoftware/vscode-spell-checker/issues/new"),n=e.searchParams;return t?.title&&n.set("title",t.title),t?.body&&n.set("body",t.body),t?.labels&&n.set("labels",t.labels.join(",")),e}async function zw(){let t=["\u2B50\uFE0F\u2B50\uFE0F\u2B50\uFE0F\u2B50\uFE0F","\u2B50\uFE0F\u2B50\uFE0F\u2B50\uFE0F","\u2B50\uFE0F\u2B50\uFE0F","\u2B50\uFE0F"],e=await Vi.window.showInformationMessage("How would you rate the Spell Checker?",...t);if(!e)return;let i=4-t.indexOf(e);if(i===1)return await Vi.window.showInformationMessage("Thank you for your feedback. Would you provide more detail on how the Spell Checker can be improved by opening an issue on GitHub?","Open Issue","Not Now")==="Open Issue"?Vw():void 0;if(i===2){await Vi.window.showInformationMessage("Thank you for your feedback.","Close");return}switch(await Vi.window.showInformationMessage("Does the Spell Checker help you avoid spelling mistakes and get things done?","Yes","No")){case"Yes":{switch(await Vi.window.showInformationMessage("Thank you for your feedback. The Spell Checker needs your support to continue to improve. Would you consider sponsoring the Spell Checker?","Open Sponsor Page","Ask me Later","No")){case"Open Sponsor Page":await _l();return;case"Ask me Later":await Vi.window.showInformationMessage("Thank you. We will ask again in about a month.","Close");return;case"No":{if(await Vi.window.showInformationMessage("Are you already a sponsor?","Yes","No")==="Yes"){await Vi.window.showInformationMessage("Thank you for your support!","Close");return}await Vi.window.showInformationMessage("Thank you for your feedback. Would you provide more detail on how the Spell Checker can be improved by opening an issue on GitHub?","Open Issue","Not Now");return}}return}case"No":return await Vi.window.showInformationMessage("Thank you for your feedback. Would you provide more detail on how the Spell Checker can be improved by opening an issue on GitHub?","Open Issue","Not Now")==="Open Issue"?Vw():void 0}await Vi.window.showInformationMessage("Thank you for your feedback.","Close")}var ex=require("vscode");var Wo=require("vscode");async function Gw(t){try{return await Wo.commands.executeCommand("vscode.executeDocumentSymbolProvider",t)||void 0}catch{return}}async function Jw(t){try{return await Wo.commands.executeCommand("vscode.executeWorkspaceSymbolProvider",`query=${t}`)||void 0}catch{return}}async function Xw(t,e){try{return await Wo.commands.executeCommand("vscode.executeReferenceProvider",t,e)||void 0}catch{return}}async function Yw(t,e){try{return await Wo.commands.executeCommand("vscode.executeDefinitionProvider",t,e)||void 0}catch{return}}async function Qw(t,e){try{return await Wo.commands.executeCommand("vscode.executeTypeDefinitionProvider",t,e)||void 0}catch{return}}async function Zw(t,e){try{return await Wo.commands.executeCommand("vscode.executeImplementationProvider",t,e)||void 0}catch{return}}async function tx(){let t=ex.window.activeTextEditor?.document,e=t?.uri,n=ex.window.activeTextEditor?.selection.active,i=await Gw(e);if(console.log("docSym %o",i),t&&n){let r=t.getWordRangeAtPosition(n),s=t.getText(r),o=s&&await Jw(s);console.log("workspaceSym %s %o",s,o)}if(e&&n){let r={fetchReferences:Xw,fetchDefinitions:Yw,fetchTypeDefinitions:Qw,fetchImplementation:Zw};await Promise.all(Object.entries(r).map(async([s,o])=>{let a=await o(e,n);console.log(`${s} %o`,a)}))}}var X7="timeline_start",Cq=process.hrtime(),nx=class{timeLine=[];timeLineEvents=new Map;startEvent;constructor(){this.startEvent=this.createEvent(X7),this.addEvent(this.startEvent)}mark(e){let n=this.createEvent(e);this.addEvent(n)}measure(e,n,i){let r=this.timeLineEvents.get(n)||this.startEvent,s=this.timeLineEvents.get(i)||this.startEvent,o=Y7(r.startTime,s.startTime),a={name:e,startTime:process.hrtime(Cq),duration:o};this.addEvent(a)}getLastEvent(){return this.timeLine[this.timeLine.length-1]}getLastEventName(){return this.getLastEvent().name||""}addEvent(e){this.timeLine.push(e),this.timeLineEvents.set(e.name,e)}getEntries(){return this.timeLine}getLatestEntryByName(e){return this.timeLineEvents.get(e)}getEntriesByName(e){return this.timeLine.filter(n=>n.name===e)}createEvent(e){return{name:e,startTime:process.hrtime(Cq),duration:0}}};function Y7(t,e){return dg(e)-dg(t)}function dg(t){return(t[0]+t[1]*1e-9)*1e3}var Yt=new nx;var fg=Fe(require("vscode"));function pg(t,e){let n=t.document,i=n.getText().indexOf(e);if(i<0)return!1;let r=n.positionAt(i),s=new fg.Range(r.line,r.character,r.line,r.character+e.length);return s&&t.revealRange(s,fg.TextEditorRevealType.InCenterIfOutsideViewport),!0}var Q7={"cSpell.addWordsToConfigFileFromServer":(t,e,n)=>vq(t,Pl(Xe(n.uri),n.name)),"cSpell.addWordsToDictionaryFileFromServer":(t,e,n)=>hJ(t,og(Xe(n.uri),n.name)),"cSpell.addWordsToVSCodeSettingsFromServer":(t,e,n)=>{let i=wd(n),r=Vh(i,Xe(e),!1);return vq(t,r)}},zn=nq,Ko=(t,e=!1)=>Xh(t,void 0,void 0,e),Z7=zn("Add Words to Folder Dictionary",Fk),eJ=zn("Add Words to Workspace Dictionaries",Rd),tJ=zn("Add Words to User Dictionary",Ad),nJ=zn("Add Words to Folder Settings",br(jr,bk)),iJ=zn("Add Words to Workspace Settings",br(jr,Sk)),rJ=zn("Add Words to User Settings",br(jr,vk)),sJ=zn("Remove Words from Folder Dictionary",CJ),oJ=zn("Remove Words from Workspace Dictionaries",vJ),aJ=zn("Remove Words from Global Dictionary",SJ),cJ=zn("Ignore Words",br(gg,void 0)),uJ=zn("Ignore Words in Folder Settings",br(gg,an.ConfigurationTarget.WorkspaceFolder)),lJ=zn("Ignore Words in Workspace Settings",br(gg,an.ConfigurationTarget.Workspace)),dJ=zn("Ignore Words in User Settings",br(gg,an.ConfigurationTarget.Global)),fJ=zn("Add Words to cSpell Configuration",br(jr,Ck)),pJ=zn("Add Words to Dictionary",br(jr,xd)),pc={"cSpell.addWordToDictionary":pJ,"cSpell.addWordToFolderDictionary":Z7,"cSpell.addWordToWorkspaceDictionary":eJ,"cSpell.addWordToUserDictionary":tJ,"cSpell.addWordToFolderSettings":nJ,"cSpell.addWordToWorkspaceSettings":iJ,"cSpell.addWordToUserSettings":rJ,"cSpell.removeWordFromFolderDictionary":sJ,"cSpell.removeWordFromWorkspaceDictionary":oJ,"cSpell.removeWordFromUserDictionary":aJ,"cSpell.addIgnoreWord":cJ,"cSpell.addIgnoreWordsToFolder":uJ,"cSpell.addIgnoreWordsToWorkspace":lJ,"cSpell.addIgnoreWordsToUser":dJ,"cSpell.suggestSpellingCorrections":Iw,"cSpell.goToNextSpellingIssue":()=>hg("next",!1),"cSpell.goToPreviousSpellingIssue":()=>hg("previous",!1),"cSpell.goToNextSpellingIssueAndSuggest":()=>hg("next",!0),"cSpell.goToPreviousSpellingIssueAndSuggest":()=>hg("previous",!0),"cSpell.enableForGlobal":async()=>jo(await Ko(an.ConfigurationTarget.Global),!0),"cSpell.disableForGlobal":async()=>jo(await Ko(an.ConfigurationTarget.Global),!1),"cSpell.toggleEnableForGlobal":async()=>cc(await Ko(an.ConfigurationTarget.Global,!0)),"cSpell.enableForWorkspace":async()=>jo(await Ko(an.ConfigurationTarget.Workspace),!0),"cSpell.disableForWorkspace":async()=>jo(await Ko(an.ConfigurationTarget.Workspace),!1),"cSpell.toggleEnableForWorkspace":async()=>cc(await Ko(an.ConfigurationTarget.Workspace)),"cSpell.toggleEnableSpellChecker":async()=>cc(await Ko(an.ConfigurationTarget.Global)),"cSpell.enableCurrentFileType":Nl,"cSpell.disableCurrentFileType":Ll,"cSpell.editText":$M,"cSpell.logPerfTimeline":wJ,"cSpell.openSettings":Dq("workbench.action.openSettings",()=>[{query:"@ext:streetsidesoftware.code-spell-checker"}]),"cSpell.addWordToCSpellConfig":fJ,"cSpell.addIssuesToDictionary":mJ,"cSpell.createCustomDictionary":TJ,"cSpell.createCSpellConfig":xJ,"cSpell.openFileAtLine":FJ,"cSpell.selectRange":IJ,"cSpell.fixSpellingIssue":HM,"cSpell.autoFixSpellingIssues":ig,"cSpell.issueViewer.item.openSuggestionsForIssue":zi,"cSpell.issueViewer.item.autoFixSpellingIssues":zi,"cSpell.issueViewer.item.addWordToDictionary":zi,"cSpell.issuesViewByFile.item.autoFixSpellingIssues":zi,"cSpell.issuesViewByFile.item.addWordToDictionary":zi,"cSpell.insertDisableNextLineDirective":_J,"cSpell.insertDisableLineDirective":NJ,"cSpell.insertIgnoreWordsDirective":LJ,"cSpell.insertWordsDirective":OJ,"cSpell.toggleTraceMode":zi,"cSpell.toggleVisible":zi,"cSpell.show":zi,"cSpell.hide":zi,"cSpell.createCSpellTerminal":zi,"cspell.showActionsMenu":zi,"cSpell.openIssuesPanel":Dq("cSpellIssuesViewByFile.focus"),"cSpell.openFileInfoView":Tq,"cSpell.displayCSpellInfo":Tq,"cSpell.hideCSpellInfo":MJ,"cSpell.experimental.executeDocumentSymbolProvider":jJ,"cSpell.restart":qJ,"cSpell.reload":UJ,"cSpell.supportRequest":Ww,"cSpell.reportIssue":Kw,"cSpell.about":Bw,"cSpell.sponsor":_l,"cSpell.rateTheSpellChecker":zw,"cSpell.releaseNotes":$w,"cSpell.enableLanguage":rx,"cSpell.disableLanguage":sx,"cSpell.enableCurrentLanguage":Nl,"cSpell.disableCurrentLanguage":Ll},di=Object.fromEntries(Object.keys(pc).map(t=>[t,t]));function xq(t){let e=new Set,n=Object.entries({...pc,...t}).filter(([r])=>!e.has(r)).map(([r,s])=>Sq(r,s)),i=Object.entries(Q7).map(([r,s])=>Sq(r,s));return[...n,...i]}function zi(){}function vq(t,e){return rt(it("dictionaryHelper").addWordsToConfigRep(t,e),"addWordsToConfig")}function hJ(t,e){return rt(it("dictionaryHelper").addWordToDictionary(t,e),"addWordsToDictionaryTarget")}function gJ(){}function Sq(t,e){return e===zi?{dispose:gJ}:Ue.commands.registerCommand(t,Zc(e,`Register command: ${t}`))}function mJ(){return rt(it("dictionaryHelper").addIssuesToDictionary(),"addAllIssuesFromDocument")}function gg(t,e,n){return rt(yJ(t,e,n),mg("addIgnoreWordsToTarget",void 0,n))}async function yJ(t,e,n){n=Xe(n);let i=await Uo(n),r=e?i.filter(s=>s.scope===_i(e)):i;return ww(r,t)}function CJ(t,e){return ix(t,an.ConfigurationTarget.WorkspaceFolder,e)}function vJ(t,e){return ix(t,an.ConfigurationTarget.Workspace,e)}function SJ(t){return ix(t,an.ConfigurationTarget.Global,void 0)}function ix(t,e,n){return rt(bJ(t,e,n),mg("removeWordFromTarget",e,n))}function bJ(t,e,n){n=Xe(n);let i=Tk(e,n,void 0);return it("dictionaryHelper").removeWordsFromTargets(t,[i],n)}function rx(t,e){return Eq(t,Xe(e),void 0,!0)}function sx(t,e){return Eq(t,Xe(e),void 0,!1)}function Eq(t,e,n,i){return rt(async()=>{let r=await(n?BM(n,e):Uo(e));return Zh({[t]:i},r)},mg(`enableDisableLanguageId enable: ${i}`,n,e))}function DJ(t,e,n,i,r){return rt(async()=>{let{targets:s,scopes:o}=await Xh(n||an.ConfigurationTarget.Global,e,i);return Qh(t,r,s,o)},mg(`enableDisableLocale enable: ${r}`,n,e))}function ox(t,e,n){let i=typeof t=="boolean"?t?an.ConfigurationTarget.Global:an.ConfigurationTarget.Workspace:t,r=mw(i);return DJ(e,r.uri,r.target,r.configScope,n)}function Nl(t,e){let n=kq(t,e);return rt(async()=>{let{languageId:i,uri:r}=n;if(!(!r||!i))return $s({[i]:!0},r)},"enableCurrentFileType")}function Ll(t,e){let n=kq(t,e);return rt(async()=>{let{languageId:i,uri:r}=n;if(!(!r||!i))return $s({[i]:!1},r)},"disableCurrentFileType")}function kq(t,e){t=typeof t=="string"?t:void 0,e=typeof e=="string"||e instanceof Ue.Uri?e:void 0;let n=Ue.window.activeTextEditor?.document;return e??=n?.uri,t??=n?.languageId,{languageId:t,uri:e}}function mg(t,e,n){let i=e?_i(e):"";return i?`${t} ${i} ${Xe(n)}`:`${t} ${Xe(n)}`}async function TJ(){let t=await Yh(Ue.window.activeTextEditor?.document),e=await Fd(t);if(!e)return;let n=Rl(e);n&&await it("dictionaryHelper").createCustomDictionary(n)}function wJ(){Yt.getEntries().forEach(t=>{console.log(t.name,dg(t.startTime),t.duration)})}async function xJ(){let t=await xw(Ue.window.activeTextEditor?.document.uri);if(t){let e=await Ue.window.showTextDocument(t);pg(e,'"cspell":')}}function EJ(t,e){return t.filter(n=>n.range?.start.isAfter(e.end)).concat(t[0])[0]}function kJ(t,e){return[t[t.length-1]].concat(t.filter(n=>n.range?.end.isBefore(e.start))).pop()}async function hg(t,e){let n=Ue.window.activeTextEditor;if(!n)return;let i=n.document,r=n.selection,s=i?Hi(i.uri):void 0,o=s?t==="next"?EJ(s,r):kJ(s,r):void 0,a=o?.range;if(!i||!r||!a||!o)return Hs(Ue.window.showInformationMessage("No issues found in this document."),"actionJumpToSpellingError");if(n.revealRange(a,Ue.TextEditorRevealType.InCenterIfOutsideViewport),n.selection=new Ue.Selection(a.start,a.end),e)return Iw()}async function FJ(t,e){t=Xe(t);let n=e&&{selection:PJ(e)}||void 0;await Ue.window.showTextDocument(t,n)}function PJ(t){if(t===void 0)return;t=typeof t=="string"?Number.parseInt(t):t;let e=new Ue.Position(t-1,0);return new Ue.Range(e,e)}function yg(t,e,n,i){let r=i.map(AJ);return{title:t,command:"cSpell.editText",arguments:[e.toString(),n,r]}}function ax(t,...e){return typeof t=="string"?`command:${t}?${encodeURIComponent(JSON.stringify(e))}`:`command:${t.command}?${t.arguments?encodeURIComponent(JSON.stringify(t.arguments)):""}`}function bq(t){let{line:e,character:n}=t;return{line:e,character:n}}function RJ(t){return{start:bq(t.start),end:bq(t.end)}}function AJ(t){let{range:e,newText:n}=t;return{range:RJ(e),newText:n}}async function IJ(t,e,n){if(!(!t||!e))try{let i=Hf(t);if(i){let s=i.notebook;if(i.index<0)return;let o=new Ue.NotebookRange(i.index,i.index+1);await Ue.window.showNotebookDocument(s,{selections:[o]})}let r=await Ue.window.showTextDocument(t,{selection:e});r.selection=n?new Ue.Selection(e.end,e.start):new Ue.Selection(e.start,e.end)}catch(i){qc((0,wq.format)("Error: handleSelectRange",i),t.toString())}}var Cg="${BLOCK_COMMENT_START/^(<!--)$/$1-/}",vg="${BLOCK_COMMENT_END/^(-->)$/-$1/}";function _J(t,e){return rt(async()=>{let n=t||Ue.window.activeTextEditor;if(!n)return;let{document:i,selection:r}=n,{line:s}=r.active,o=i.lineAt(s),a=o.text.slice(0,o.firstNonWhitespaceCharacterIndex),c=o.text.length>o.firstNonWhitespaceCharacterIndex?`
`:"";return await n.insertSnippet(new Ue.SnippetString(`${a}${Cg} cspell:disable-next-line ${vg}`+c),new Ue.Range(o.range.start,o.range.start))},"handleInsertDisableNextLineDirective")}function NJ(t,e){return rt(async()=>{let n=t||Ue.window.activeTextEditor;if(!n)return;let{document:i,selection:r}=n,{line:s}=r.active,o=i.lineAt(s),a=o.text.endsWith(" ")?"":" ";return await n.insertSnippet(new Ue.SnippetString(`${a}${Cg} cspell:disable-line ${vg}
`),new Ue.Range(o.range.end,o.range.end))},"handleInsertDisableLineDirective")}function LJ(t,e){return rt(async()=>{let n=t||Ue.window.activeTextEditor;if(!n)return;let{document:i,selection:r}=n,{line:s}=r.active,o=i.lineAt(s),a=o.text.slice(0,o.firstNonWhitespaceCharacterIndex),c=o.text.length>o.firstNonWhitespaceCharacterIndex?`
`:"";return await n.insertSnippet(new Ue.SnippetString(`${a}${Cg} cspell:ignore \${0:$TM_CURRENT_WORD} ${vg}`+c),new Ue.Range(o.range.start,o.range.start))},"handleInsertIgnoreWordsDirective")}function OJ(t,e){return rt(async()=>{let n=t||Ue.window.activeTextEditor;if(!n)return;let{document:i,selection:r}=n,{line:s}=r.active,o=i.lineAt(s),a=o.text.slice(0,o.firstNonWhitespaceCharacterIndex),c=o.text.length>o.firstNonWhitespaceCharacterIndex?`
`:"";return await n.insertSnippet(new Ue.SnippetString(`${a}${Cg} cspell:words \${0:$TM_CURRENT_WORD} ${vg}`+c),new Ue.Range(o.range.start,o.range.start))},"handleInsertWordsDirective")}function Dq(t,e){return async()=>{let n=e?.()||[];return Ue.commands.executeCommand(t,...n)}}async function Tq(){await Bo({displayCSpellInfo:!0}),await Ue.commands.executeCommand("cSpellInfoView.focus")}async function MJ(){await Bo({displayCSpellInfo:!1})}function qJ(){return rt(lo().restart(),"handle restart server")}function UJ(){return rt(lo().notifySettingsChanged(),"handle restart server")}function jJ(){return rt(tx(),"handleCmdExperimentalExecuteDocumentSymbolProvider")}var WJ=!1,ar=WJ?console.log:()=>{};function Fq(t){let e=tt();return e.push(_n.default.commands.registerCommand("cspell.showActionsMenu",()=>KJ(t))),e}async function KJ(t){let e=_n.default.window.activeTextEditor?.document,n=await rt(e?lo().getConfigurationForDocument(e,{}):Promise.resolve(void 0),"Language Status"),i=[GJ(e?.uri,n?.languageId,n?.languageIdEnabled),JJ(e?.uri,n?.schemeIsAllowed),...XJ(n?.configFiles.map(r=>_n.default.Uri.parse(r))),{label:"",kind:_n.default.QuickPickItemKind.Separator},zJ(t),$o({title:"$(file) Show File Info...",command:di["cSpell.openFileInfoView"]}),$o({title:"$(console) Open Spell Checker REPL Console.",command:di["cSpell.createCSpellTerminal"]}),$o({title:"$(issues) Open Spelling Issues Panel.",command:"cSpell.openIssuesPanel"}),VJ(),$o({title:"$(keyboard) Edit Keyboard Shortcuts...",command:"workbench.action.openGlobalKeybindings",arguments:["Spell:"]}),$o({title:"$(gear) Edit Settings...",command:"workbench.action.openSettings",arguments:[$t]})].filter(vn);return $J({items:i,title:"Spell Checker Actions Menu"}).catch(()=>{})}async function $J(t){t={...t};let e=!0;for(;e;)try{e=!1;let n=await HJ(t);if(n instanceof hc){t.selected=n,await n.action();continue}if(typeof n=="function"){await n();continue}return}catch(n){if(n===zs.back)throw ar("Going back",t.title),zs.redraw;if(n===zs.cancel){ar("Cancel",t.title);return}if(n===zs.redraw){ar("Redraw",t.title),e=!0;continue}throw n}}async function HJ(t){let e=performance.now(),n=tt();try{return await new Promise((i,r)=>{let s=_n.default.window.createQuickPick();n.push(s),s.title=t.title,s.items=t.items,t.enableBackButton&&(s.buttons=[_n.default.QuickInputButtons.Back]),t.selected&&(s.activeItems=[t.selected]),t.matchOnDescription!==void 0&&(s.matchOnDescription=t.matchOnDescription),t.matchOnDetail!==void 0&&(s.matchOnDetail=t.matchOnDetail),n.push(s.onDidChangeSelection(o=>{ar("onDidChangeSelection",o)}),s.onDidChangeActive(o=>{ar("onDidChangeActive",o)}),s.onDidTriggerButton(o=>{ar("onDidTriggerButton",o),o===_n.default.QuickInputButtons.Back&&r(zs.back)}),s.onDidTriggerItemButton(o=>{ar("onDidTriggerItemButton",o);let a=o.button;a instanceof Sg&&a.action&&i(a.action)}),s.onDidAccept(()=>{ar("onDidAccept",s.selectedItems);let o=s.selectedItems[0];i(o)}),s.onDidHide(()=>{ar(`onDidHide: ${t.title} - ${e}`),r(zs.cancel)})),ar(`Showing menu: ${t.title} - ${e}`),s.show()})}finally{ar(`Disposing of menu: ${t.title} - ${e}`),n.dispose()}}var zs=class t{static back=new t;static cancel=new t;static redraw=new t},Sg=class{constructor(e,n,i){this.iconPath=e;this.tooltip=n;this.action=i}},bg=class extends Sg{constructor(n,i){super(new _n.default.ThemeIcon("gear"),i.tooltip??i.title,Pq(i));this.iconPath=n;this.command=i}},hc=class{constructor(e,n,i){this.label=e;this.description=n;this.#e=i||(()=>Promise.resolve(void 0))}#e;kind;detail;picked;iconPath;alwaysShow;buttons;resourceUri;get action(){return this.#e}set action(e){this.#e=e}},Ol=class extends hc{constructor(n,i){super(n.title,i,Pq(n));this.command=n;this.description=i}};function $o(t,e){return new Ol(t,e)}function VJ(){return{label:"",kind:_n.default.QuickPickItemKind.Separator}}function zJ(t){let e=t.areIssuesVisible();return $o(e?{title:"$(eye-closed) Hide Spelling Issues",command:"cSpell.hide"}:{title:"$(eye) Show Spelling Issues",command:"cSpell.show"})}function GJ(t,e,n){if(!e||n===void 0)return;let i="$(code)",r=()=>$s({[e]:!n},t),s=new hc(`${i} ${n?"Disable":"Enable"} File Type:`,e,r);return s.detail=`File Type: "${e}" is currently ${n?"enabled":"disabled"}.`,s.buttons=[new bg(new _n.default.ThemeIcon("gear"),{title:"Edit Enable File Type in Settings",command:"workbench.action.openSettings",arguments:[Be.enabledFileTypes]})],s}function JJ(t,e){if(!t)return;let n=new hc(`$(code) ${e?"Exclude":"Allow"} Scheme:`,t.scheme);return n.detail=`Scheme: "${t.scheme}" is currently ${e?"allowed":"excluded"}.`,n.action=()=>KM({[t.scheme]:!e},t),n.buttons=[new bg(new _n.default.ThemeIcon("gear"),{title:"Edit Enable Scheme in Settings",command:"workbench.action.openSettings",arguments:[Be.enabledSchemes]})],n}function XJ(t){return t?.length?t.map(e=>{let n=new Ol({title:"Open Config File:",command:"vscode.open",arguments:[e]},_n.default.workspace.asRelativePath(e));return n.iconPath=_n.default.ThemeIcon.File,n.detail=_n.default.workspace.asRelativePath(e,!0),n.resourceUri=e,n}):[new Ol({title:"$(new-file) Create Config...",command:di["cSpell.createCSpellConfig"]})]}async function YJ(t){await _n.default.commands.executeCommand(t.command,...t.arguments||[])}function Pq(t){return()=>YJ(t)}async function Dg(t,e){return it("client").serverApi.checkDocument(t,e)}var Ho=Fe(require("vscode"),1),Nn=require("vscode");var QJ=/\b(?:spell-?checker|c?spell|LocalWords)::?(.*)/gi,ux=/(?<=\b(?:spell-?checker|c?spell)::?)(?!:)\s*(.*)/i,ZJ=[{pfx:"cspell:",min:3},{pfx:"cSpell:",min:2},{pfx:"spell:",min:5},{pfx:"spell-checker:",min:5},{pfx:"spellchecker:",min:5},{pfx:"LocalWords:",min:6}];async function Aq(t){t.push(Ho.languages.registerInlineCompletionItemProvider({pattern:"**"},cX))}var eX=[{label:"words",insertText:"words",description:"Words to be allowed in the document",sortText:"1"},{label:"ignore words",insertText:"ignore",description:"Words to be ignored in the document",sortText:"2"},{label:"ignoreRegExp",insertText:"ignoreRegExp",snippetText:"ignoreRegExp /${1:expression}/g",description:"Ignore text matching the regular expression.",kind:Ho.CompletionItemKind.Snippet},{label:"disable-next-line",insertText:"disable-next-line",description:"Do not spell check the next line",sortText:"3"},{label:"disable-line",insertText:"disable-line",description:"Do not spell check the current line"},{label:"disable spell checker",insertText:"disable",description:"Disable spell checking from this point further."},{label:"enable spell checker",insertText:"enable",description:"Enable spell checking from this point further."},{label:"dictionaries",insertText:"dictionaries",commitCharacters:[" "],description:"Add dictionaries to be used in this document."},{label:"locale",insertText:"locale",snippetText:"locale ${1:en}",description:"Set the language locale to be used in this document. (i.e. fr,en)",kind:Ho.CompletionItemKind.Snippet},{label:"disable compound words",insertText:"disableCompoundWords",description:"Turn OFF Allow Compound Words."},{label:"enable compound words",insertText:"enableCompoundWords",description:"Turn ON Allow Compound Words."}];function tX(t){let e="showAutocompleteDirectiveSuggestions";try{return Zr(e,t)??!0}catch{return!1}}var nX={dictionaryDefinitions:!0,dictionaries:!0},cx=class{cacheConfig;cacheDocDictionaries=Nm();constructor(){this.cacheConfig=new kl(e=>it("client").getConfigurationForDocument({uri:e},nX))}provideInlineCompletionItems(e,n,i,r){if(!tX(e.uri)||!this.getConfigForDocument(e))return;let a=e.lineAt(n.line).text,c=a.slice(0,n.character),l=c.match(QJ);if(!l)return iX(c,n);let f={items:[]},g=new RegExp(ux),p=l.index||0;g.lastIndex=p;let u=g.exec(c);if(!u){let w="LocalWords:";return l[0].startsWith(w)?Rq(e,n,a,p+w.length):void 0}let d=u[1],h=(u.index||0)+u[0].length-d.length;if(d.startsWith("dictionaries")||d.startsWith("dictionary"))return sX(e,n,a,h,w=>this.getListOfDictionaries(w));if(d.startsWith("words")||d.startsWith("ignore"))return Rq(e,n,a,oX(a,h));let m=d.split(/\s+/);if(m.length>1)return;let C=new Ho.Range(n.line,h,n.line,n.character),D=eX.filter(w=>w.insertText.startsWith(m[0])).map(w=>rX(w,C));return f.items.push(...D),f}getConfigForDocument(e){return this.cacheConfig.get(e.uri)}getListOfDictionaries(e){let n=this.getConfigForDocument(e),i=e.uri.toString(),r=this.cacheDocDictionaries.get(i,()=>({available:void 0,enabled:void 0}));if(!n||!(n.docSettings||n.settings))return r;let o=uX(n);return this.cacheDocDictionaries.set(i,o),o}};function iX(t,e){let n={items:[]},r=t.lastIndexOf(" ")+1,s=t.slice(r),o=s.length,a=ZJ.filter(f=>f.pfx.startsWith(s)&&o>=f.min).map(f=>f.pfx);if(!a.length)return;let c=new Nn.Range(e.line,r,e.line,e.character),l=a.map(f=>new Nn.InlineCompletionItem(f,c));return n.items.push(...l),n}function rX(t,e){if(t.snippetText){let i=new Nn.SnippetString(t.snippetText),r=new Nn.InlineCompletionItem(i,e);r.filterText=t.insertText}return new Nn.InlineCompletionItem(t.insertText,e)}function sX(t,e,n,i,r){let s=new RegExp(ux,"s");s.lastIndex=i;let o=s.exec(n);if(!o)return;let a=o[1],c=(o.index||0)+o[0].length-a.length,l=e.character,f=Iq(n,c);if(f<l)return;let g=r(t);if(!g.available)return;let p=/\s|$/ms;p.lastIndex=l;let u=p.exec(n)?"":" ",d=n.lastIndexOf(" ",l-1)+1,h=d<=c?" ":"",m=/[\s,]+/g,C=n.slice(c,d).split(m),D=n.slice(l,f).split(m),w=new Set([...g.enabled||[],...C,...D]),k=g.available.filter(B=>!w.has(B));if(!k.length)return;let I=new Nn.Range(e.line,d,e.line,l);return new Nn.InlineCompletionList(k.map(B=>new Nn.InlineCompletionItem(h+B+u,I)))}function Rq(t,e,n,i){let r=e.character;if(Iq(n,i)<r)return;let o=lX(t);if(!o.length)return;let a=/\s|$/ms;a.lastIndex=r;let c=a.exec(n)?"":" ",l=n.lastIndexOf(" ",r-1)+1,f=l<=i?" ":"",g=n.slice(f?r:l,r),p=aX(t,e,o,g),u=new Nn.Range(e.line,l,e.line,r);return new Nn.InlineCompletionList(p.map(d=>new Nn.InlineCompletionItem(f+d+c,u)))}function oX(t,e){let n=new RegExp(ux,"s");n.lastIndex=e;let i=n.exec(t);if(!i)return 0;let r=i[1];return(i.index||0)+i[0].length-r.length}function aX(t,e,n,i){let s=e.line,o=new Nn.Range(Math.max(s-3,0),0,s+3,0),a=n.filter(l=>o.contains(l.range)).filter(l=>t.getText(l.range).startsWith(i));if(a.length)return a.sort((f,g)=>Math.abs(f.range.start.line-s)-Math.abs(g.range.start.line-s)),[...new Set(a.map(f=>t.getText(f.range)))];let c=[...new Set(n.map(l=>t.getText(l.range)))];return c.sort(),c}function Iq(t,e){let n=/[^a-z0-9_\s,\p{L}-]/giu;n.lastIndex=e;let i=n.exec(t);return i?i.index:t.length}var cX=new cx;function uX(t){try{let e=(t.docSettings?.dictionaryDefinitions||[]).filter(i=>!!i).map(i=>i.name).filter(i=>!!i),n=t.docSettings?.dictionaries||[];return{available:e,enabled:n}}catch{return{available:void 0,enabled:void 0}}}function lX(t){return Hi(t.uri).filter(e=>!e.data?.issueType)}var Vo=require("vscode");var Tg=class{constructor(e){this.issueTracker=e}static providedCodeActionKinds=[Vo.CodeActionKind.QuickFix];async provideCodeActions(e,n,i){if(YM(i.diagnostics).length)return[];let s=this.issueTracker.getSpellingIssues(e.uri)?.filter(a=>a.range.contains(n));if(s?.length!==1)return[];let o=s.map(a=>this.diagToAction(e,a));return(await Promise.all(o)).flatMap(a=>a)}async diagToAction(e,n){let i=n.providedSuggestions();return i?.length?i.map(r=>dX(e,n.range,r)):await _w(e,n.range,[n.diag])}};function dX(t,e,n){let i=`Replace with: ${n.word}`,r=new Vo.CodeAction(i,Vo.CodeActionKind.QuickFix);return r.isPreferred=n.isPreferred,r.command=yg(i,t.uri,t.version,[{range:e,newText:n.word}]),r}function _q(t){return Vo.languages.registerCodeActionsProvider("*",new Tg(t),{providedCodeActionKinds:Tg.providedCodeActionKinds})}function wg(...t){function e(n){for(let i of t)n=i(n);return n}return e}function xg(t){function e(n){function i(){let r=n[Symbol.iterator]();function s(){let{done:o,value:a}=r.next();return o?{done:o,value:void 0}:{value:t(a)}}return{next:s}}return{[Symbol.iterator]:i}}return e}function Eg(t,...e){return wg(...e)(t)}var gc=Fe(require("vscode"),1);var Nq=["package.json",".cspell.json","cspell.json",".cSpell.json","cSpell.json",".cspell.jsonc","cspell.jsonc",".vscode/cspell.json",".vscode/cSpell.json",".vscode/.cspell.json",".cspell.config.json",".cspell.config.jsonc",".cspell.config.yaml",".cspell.config.yml","cspell.config.json","cspell.config.jsonc","cspell.config.yaml","cspell.config.yml","cspell.config.mjs","cspell.config.cjs","cspell.config.js",".cspell.config.mjs",".cspell.config.cjs",".cspell.config.js",".cspell.yaml",".cspell.yml","cspell.yaml","cspell.yml",".config/.cspell.json",".config/cspell.json",".config/.cSpell.json",".config/cSpell.json",".config/.cspell.jsonc",".config/cspell.jsonc",".config/cspell.config.json",".config/cspell.config.jsonc",".config/cspell.config.yaml",".config/cspell.config.yml",".config/cspell.config.mjs",".config/cspell.config.cjs",".config/cspell.config.js",".config/.cspell.config.json",".config/.cspell.config.jsonc",".config/.cspell.config.yaml",".config/.cspell.config.yml",".config/.cspell.config.mjs",".config/.cspell.config.cjs",".config/.cspell.config.js",".config/cspell.yaml",".config/cspell.yml"];function Lq(){return new lx}var pX=new Set(["cspell.yml","cspell.yaml",".cspell.yml",".cspell.yaml"]),lx=class{#e=tt(void 0,"ConfigWatcher");#t;#n=new gc.EventEmitter;#i=mX();constructor(){this.#e.push(this.#n)}dispose(){this.#e.dispose(),this.#t=void 0}get on(){return this.onDidChangeConfig}get onDidChangeConfig(){return this.#r(),this.#n.event}#r(){if(this.#t)return this.#t;let e=gc.workspace.createFileSystemWatcher(`**/{${this.#i.join(",")}}`);return this.#e.push(e,e.onDidChange(this.#s),e.onDidCreate(this.#s),e.onDidDelete(this.#s)),this.#t=e,e}#s=e=>{this.#n.fire(e)};async scanWorkspaceForConfigFiles(e){let n=await gc.workspace.findFiles(`**/{${this.#i.join(",")}}`,"**/node_modules/**",void 0,e),i=n.filter(o=>o.path.endsWith("/package.json")),r=n.filter(o=>!o.path.endsWith("/package.json")),s=Eg(i,gX(3),xg(o=>({uri:o,hasConfig:hX(o)})));for(let{uri:o,hasConfig:a}of s)await a&&r.push(o);return r}};async function hX(t){if(!t.path.endsWith("/package.json"))return!0;try{let n=new TextDecoder().decode(await gc.workspace.fs.readFile(t));return"cspell"in JSON.parse(n)}catch{return!1}}function gX(t){function*e(n){let i=[];for(let r of n)if(i.push(r),i.length>=t-1){let s=i[0];i.shift(),yield s}yield*i}return e}function mX(){let t=new Set;for(let e of Nq){let n=e.split("/");if(n.length===1){pX.has(e)||t.add(e);continue}let i=n[n.length-1];t.has(i)||t.add(e)}return[...t]}var ze=Fe(require("vscode"),1);var Oq="Word",Mq=1e3,yX=!1,kg=yX?console.log:()=>{},Ml=class t{constructor(e,n){this.context=e;this.issueTracker=n;this.getConfiguration();let i=this.createDecorators();this._visible=e.globalState.get(t.globalStateKey,!0),this.decorationTypeForIssues=i?.decoratorIssues,this.decorationTypeForFlagged=i?.decoratorFlagged,this.decorationTypeForSuggestions=i?.decoratorSuggestions,this.decorationTypeForDebug=i?.decoratorDebug,this.disposables.push(()=>this.clearDecoration(),ze.workspace.onDidChangeConfiguration(r=>this.#s(r)),ze.window.onDidChangeActiveColorTheme(()=>this.resetDecorator()),n.onDidChangeDiagnostics(r=>this.handleOnDidChangeDiagnostics(r)),ze.window.onDidChangeActiveTextEditor(r=>this.refreshEditor(r)),ze.window.onDidChangeVisibleTextEditors(r=>this.handleOnDidChangeVisibleTextEditors(r)),ze.window.onDidChangeTextEditorSelection(r=>this.#n(r)),ze.workspace.onDidChangeTextDocument(r=>this.#i(r)),ze.workspace.onDidCloseTextDocument(r=>this.docChanges.delete(r.uri.toString()))),this.setContext(this._visible)}decorationTypeForIssues;decorationTypeForFlagged;decorationTypeForSuggestions;decorationTypeForDebug;disposables=tt();visibleEditors=new Set;_visible=!0;dispose=this.disposables.dispose;docChanges=new Map;refreshTimeout;urisToRefresh=new Set;hideIssuesWhileTyping=Oq;revealIssuesAfterDelayMS=Mq;emitterVisibility=new ze.default.EventEmitter;overrides={};handleOnDidChangeDiagnostics(e){this.refreshDiagnostics(e.uris)}handleOnDidChangeVisibleTextEditors(e){let n=e.filter(i=>!this.visibleEditors.has(i));this.visibleEditors.clear(),this.visibleEditors=new Set(e),this.refreshDiagnostics([...n].map(i=>i.document.uri))}refreshEditor(e){if(e??=ze.window.activeTextEditor,!!e)return this.refreshDiagnostics([e.document.uri])}refreshDiagnostics(e){e??=ze.window.visibleTextEditors.map(r=>r.document.uri);let n=new Set(e.map(r=>r.toString()));ze.window.visibleTextEditors.filter(r=>n.has(r.document.uri.toString())).forEach(r=>this.refreshDiagnosticsInEditor(r))}refreshDiagnosticsInEditor(e){if(!this.decorationTypeForIssues||!this.decorationTypeForFlagged||!this.decorationTypeForDebug||!this.decorationTypeForSuggestions)return;let n=e.document;if(!this.#r(n.uri)){e.setDecorations(this.decorationTypeForIssues,[]),e.setDecorations(this.decorationTypeForFlagged,[]),e.setDecorations(this.decorationTypeForSuggestions,[]);return}let i=this.revealIssuesAfterDelayMS,r=this.hideIssuesWhileTyping,s=n.validateRange(new ze.Range(n.positionAt(0),n.positionAt(n.getText().length))),o=r==="Word"?C=>Uq(C,n.getWordRangeAtPosition(C.start),n.getWordRangeAtPosition(C.end)):r==="Line"?C=>n.lineAt(C.start.line).range:C=>s,a=performance.now(),c=this.docChanges.get(n.uri.toString()),l=c&&i-(a-c.timestamp);kg("refreshDiagnosticsInEditor %o",{t:performance.now().toFixed(2),version:c?.version,delay:i,mode:r,delta:a-(c?.timestamp||a),toDelay:l});let f=(r!=="Off"&&c&&a-c.timestamp<i&&c.ranges||[]).map(o),g=e.selections.map(C=>{let D=f.filter(w=>w.intersection(C));if(D.length)return Uq(C,...D)}).filter(vn),p=!1,u=(this.issueTracker.getSpellingIssues(n.uri)||[]).filter(C=>{let D=C.range,w=g.some(k=>k.intersection(D));return p||=w,!w});p&&this.#t(n.uri);let d=u.filter(C=>!C.isFlagged()&&!C.treatAsSuggestion()).map(C=>fx(C)).filter(vn);e.setDecorations(this.decorationTypeForIssues,d);let h=u.filter(C=>C.treatAsSuggestion()).map(C=>fx(C)).filter(vn);e.setDecorations(this.decorationTypeForSuggestions,h);let m=u.filter(C=>C.isFlagged()&&C.isIssueTypeSpelling()).map(C=>fx(C)).filter(vn);e.setDecorations(this.decorationTypeForFlagged,m)}get visible(){return this.context.globalState.get(t.globalStateKey,this._visible)}set visible(e){this.setContext(e),this._visible!==e&&(this._visible=e,this.resetDecorator())}toggleVisible(){this.visible=!this.visible}onDidChangeVisibility=this.emitterVisibility.event;setContext(e){this.context.globalState.update(t.globalStateKey,e),this.emitterVisibility.fire(e),Promise.resolve(Bo({showDecorations:e})).catch(()=>{})}clearDecoration(){this.visibleEditors.clear(),this.decorationTypeForIssues?.dispose(),this.decorationTypeForIssues=void 0,this.decorationTypeForFlagged?.dispose(),this.decorationTypeForFlagged=void 0,this.decorationTypeForSuggestions?.dispose(),this.decorationTypeForSuggestions=void 0,this.decorationTypeForDebug?.dispose(),this.decorationTypeForDebug=void 0}getConfiguration(){let e=ze.workspace.getConfiguration($t);this.hideIssuesWhileTyping=e.hideIssuesWhileTyping??Oq,this.revealIssuesAfterDelayMS=e.revealIssuesAfterDelayMS??Mq,this.overrides=e[Be.doNotUseCustomDecorationForScheme]??this.overrides}resetDecorator(){this.docChanges.clear(),this.getConfiguration();let e=this.createDecorators();this.decorationTypeForIssues=e?.decoratorIssues,this.decorationTypeForFlagged=e?.decoratorFlagged,this.decorationTypeForSuggestions=e?.decoratorSuggestions,this.decorationTypeForDebug=e?.decoratorDebug,this.refreshDiagnostics()}createDecorators(){if(this.clearDecoration(),!(this.visible&&(ze.workspace.getConfiguration($t).get("useCustomDecorations")??!0)))return;let n=CX(ze.window.activeColorTheme.kind),i=ze.workspace.getConfiguration($t),r=i.showInRuler??!0,s=r&&(i[n]?.overviewRulerColor||i.overviewRulerColor)||void 0,o=r?ze.default.OverviewRulerLane.Right:void 0,a=ze.window.createTextEditorDecorationType({isWholeLine:!1,rangeBehavior:ze.default.DecorationRangeBehavior.ClosedClosed,overviewRulerLane:o,overviewRulerColor:s,textDecoration:dx(i,n,"textDecorationColor")}),c=ze.window.createTextEditorDecorationType({isWholeLine:!1,rangeBehavior:ze.default.DecorationRangeBehavior.ClosedClosed,overviewRulerLane:o,overviewRulerColor:s,textDecoration:dx(i,n,"textDecorationColorFlagged")}),l=ze.window.createTextEditorDecorationType({isWholeLine:!1,rangeBehavior:ze.default.DecorationRangeBehavior.ClosedClosed,overviewRulerLane:o,overviewRulerColor:s,textDecoration:dx(i,n,"textDecorationColorSuggestion")}),f=ze.window.createTextEditorDecorationType({isWholeLine:!1,rangeBehavior:ze.default.DecorationRangeBehavior.ClosedClosed,backgroundColor:"rgba(255, 0, 0, 0.5)"});return{decoratorIssues:a,decoratorFlagged:c,decoratorSuggestions:l,decoratorDebug:f}}#e(){this.refreshTimeout||this.urisToRefresh.size<1||(this.refreshTimeout=setTimeout(()=>{this.refreshTimeout=void 0;let e=[...this.urisToRefresh];this.urisToRefresh.clear();let n=performance.now();e.forEach(r=>{let s=this.docChanges.get(r.toString());!s||n-s.timestamp>=this.revealIssuesAfterDelayMS||this.urisToRefresh.add(r)});let i=e.filter(r=>!this.urisToRefresh.has(r));this.refreshDiagnostics(i),this.#e()},100))}#t(e){this.urisToRefresh.add(e),this.#e()}#n(e){kg("onSelectionChange %o",{t:performance.now().toFixed(2),kind:e.kind,v:e.textEditor.document.version,sel:JSON.stringify(e.selections.map(n=>n.active)),uri:e.textEditor.document.uri.toString()})}#i(e){let{document:n,contentChanges:i}=e,r=n.uri.toString(),s=bs(n.uri);if(!s){this.docChanges.delete(r);return}kg("onDocumentChange %o",{t:performance.now().toFixed(2),v:n.version,sel:JSON.stringify(s.selections.map(a=>a.active)),c:JSON.stringify(i.map(a=>({r:a.range,t:a.text}))),uri:n.uri.toString()});let o=SX(i);if(!o.length){this.docChanges.delete(r);return}this.docChanges.set(r,{uri:n.uri,version:n.version,ranges:o,timestamp:performance.now()})}#r(e){return!this.overrides[e.scheme]}#s(e){e.affectsConfiguration($t)&&this.resetDecorator()}clearActiveChanges(){this.docChanges.clear()}static globalStateKey="showDecorations"};function dx(t,e,n){let i=t[e]?.textDecoration||t.textDecoration||"",r=t[e]?.textDecorationLine||t.textDecorationLine||"underline",s=t[e]?.textDecorationStyle||t.textDecorationStyle||"wavy",o=t[e]?.textDecorationThickness||t.textDecorationThickness||"auto",a=t[e]?.[n]||t[n]||"#fc4";return i||`${r} ${s} ${a} ${o}`}function fx(t){let{range:e}=t,n=t.providedSuggestions(),i=t.isFlagged(),r=t.isKnown(),s=t.treatAsSuggestion(),o=t.word,a=t.document,c=ax("cSpell.suggestSpellingCorrections",a.uri,e,o),l=qq("Suggestions $(chevron-right)",c,"Show suggestions."),f=i?"$(error)":s?"$(info)":r?"$(warning)":"$(issues)",g=new ze.MarkdownString(f+" ",!0);g.appendMarkdown("***").appendText(o).appendMarkdown("***: ");let p=i?"Forbidden word.":r?"Misspelled word.":"Unknown word.";if(t.isIssueTypeSpelling())t.isSuggestion()?(g.appendText("Has Suggestions."),n?.length||g.appendText(" ").appendMarkdown(l)):(g.appendText(p),g.appendText(" ").appendMarkdown(l));else if(t.isIssueTypeDirective())g.appendText("Unknown directive."),g.appendText(" ").appendMarkdown(l);else{kg("Unknown issue type: %o",t);return}if(n?.length)for(let u of n){let{word:d}=u,h=yg("fix",a.uri,a.version,[{range:e,newText:d}]);g.appendMarkdown(`
- `+qq(d,ax(h),`Fix with ${d}`)+`
`)}return g.isTrusted=!0,{range:e,hoverMessage:g}}function qq(t,e,n){let i=n?` "${n}"`:"";return`[${t}](${e}${i})`}function CX(t){switch(t){case ze.ColorThemeKind.Dark:case ze.ColorThemeKind.HighContrast:return"dark";case ze.ColorThemeKind.HighContrastLight:case ze.ColorThemeKind.Light:return"light"}}function vX(t){return t.range.with(void 0,t.range.start.with(void 0,t.text.length+t.range.start.character))}function SX(t){return t.map(vX)}function Uq(t,...e){return e.filter(vn).reduce((n,i)=>n.union(i),t)}var xi=Fe(require("vscode"),1);var Gs=class extends ca{_subscriptions=new Set;_eventListeners=new Set;_isRunning=!1;_isNotifyBusy=!1;constructor(){super([()=>this.done(),()=>this._eventListeners.clear()],"AbstractSubscribable")}_hasSubscribers(){return!!this._subscriptions.size}_stop(){this._isRunning=!1,this.sendEvents({name:"onStop"})}_tryToStop(){this._hasSubscribers()||this._stop()}_markAsDone(e){typeof e!="function"&&e.done?.()}_markAllSubscriptionsAsDone(){for(let e of this._subscriptions)this._subscriptions.delete(e),this._markAsDone(e)}_unSub(e){this._subscriptions.delete(e),this._tryToStop()}_start(){this._isRunning||(this.sendEvents({name:"onStart"}),this._isRunning=!0)}_notifySubscriber(e,n){return typeof e=="function"?e(n):e.notify(n)}_notify(e){if(!this._isNotifyBusy)try{this._isNotifyBusy=!0;for(let n of this._subscriptions)this._notifySubscriber(n,e)}finally{this._isNotifyBusy=!1}}subscribe(e){return this._subscriptions.add(e),this._start(),Kn(()=>this._unSub(e),void 0,"subscribe")}notify(e){this.sendEvents({name:"onNotify",value:e}),this._notify(e)}done(){this.sendEvents({name:"onDone"}),this._markAllSubscriptionsAsDone(),this._subscriptions.clear(),this._stop()}sendEvents(e){for(let n of this._eventListeners)n(e)}onEvent(e,n){if(typeof e=="function")return this._eventListeners.add(e),Kn(()=>this._eventListeners.delete(e),void 0,"onEvent");let i=e,r=s=>{s.name===i&&n?.(s)};return this._eventListeners.add(r),Kn(()=>this._eventListeners.delete(r),void 0,`onEvent ${i}`)}};var Fg=class extends Gs{notify(e){super.notify(e)}done(){super.done()}};function jq(t,e){return(typeof t=="function"?t:i=>t.subscribe(i))(e)??(()=>{})}var zo=class extends Gs{_source;_dispose;constructor(e){super(),this._source=e}_stop(){super._stop(),ln(this._dispose),this._dispose=void 0}_start(){super._start(),this._isRunning&&!this._dispose&&(this._dispose=jq(this._source,{notify:e=>this.notify(e),done:()=>this.done()}))}};function cr(){return new Fg}function Pg(t){return new zo(t)}function Bq(t){return typeof t!="function"?t:{notify:t}}function mc(t){return typeof t=="function"?t:e=>t.notify(e)}function Go(t,e){function n(i){let r=Bq(i),s=o=>r.notify(o);return t.subscribe({notify:o=>{e(o,s)},done:()=>r.done?.()})}return Pg(n)}var px=Symbol("not set");function hx(t){let e=px,n;return i=>{let r=Go(i,(s,o)=>{e=s,clearTimeout(n),n=setTimeout(a,t);function a(){let c=e;e=px,n=void 0,c!==px&&o(c)}});return r.onEvent("onStop",()=>clearTimeout(n)),r}}function gx(t){return e=>Go(e,(n,i)=>i(t(n)))}var mx=Symbol("not set");function ql(t){let e=mx,n;return i=>{let r=Go(i,(s,o)=>{if(e=s,n)return;function a(){let c=e;e=mx,n=void 0,c!==mx&&(n=setTimeout(a,t),o(c))}a()});return r.onEvent("onStop",()=>clearTimeout(n)),r}}function Jo(t,...e){let n=t;for(let i of e)n=i(n);return n}function Wq(t){let e=cr(),n=!1,i=e.onEvent(r);function r(o){o.name==="onStart"&&setTimeout(s),(o.name==="onStop"||o.name==="onDone")&&(n=!0)}async function s(){try{for await(let o of t){if(n)break;e.notify(o)}}finally{ln(i),e.done()}}return e}function Kq(t){let e=cr(),n=!1,i=e.onEvent(r);function r(o){o.name==="onStart"&&setTimeout(s),(o.name==="onStop"||o.name==="onDone")&&(n=!0)}function s(){try{for(let o of t){if(n)break;e.notify(o)}}finally{ln(i),e.done()}}return e}function $q(t){return typeof t=="function"?Pg(t):t}function Ul(t,...e){return Jo(bX(t),...e)}function bX(t){return Symbol.iterator in t?Kq(t):Symbol.asyncIterator in t?Wq(t):$q(t)}var Rg=Symbol("has been set"),yx=class extends zo{_value=Rg;constructor(e,n=!0){if(super(e),n){let i=this.subscribe({notify:()=>{},done:()=>(ln(i),i=void 0)})}}get value(){return this._value===Rg?void 0:this._value}notify(e){this._value=e,super.notify(e)}subscribe(e){let n=super.subscribe(e);return this._value!==Rg&&mc(e)(this._value),n}hasValue(){return this._value!==Rg}};function Cx(t,e){return new yx(t,e)}var Hq={output:!0},jl=class t{constructor(e,n){this.context=e;this.client=n;this._visible=e.globalState.get(t.globalStateKey,!1),this.disposables.push(()=>this.clearDecoration(),xi.default.window.onDidChangeActiveTextEditor(i=>this.refreshEditor(i)),xi.default.workspace.onDidChangeConfiguration(i=>i.affectsConfiguration($t)&&this.refreshEditor(void 0)),xi.default.workspace.onDidChangeTextDocument(i=>this.refreshDocument(i.document)),xi.default.languages.registerHoverProvider("*",this.getHoverProvider()),Jo(this.eventEmitter,gx(i=>(i&&this._pendingUpdates.add(i),i)),ql(100)).subscribe(()=>this.handlePendingUpdates()))}decorationType;disposables=tt();dispose=this.disposables.dispose;eventEmitter=cr();_visible=!1;_pendingUpdates=new Set;get visible(){return this._visible}set visible(e){this.context.globalState.update(t.globalStateKey,e),this._visible!==e&&(this._visible=e,this.resetDecorator())}toggleVisible(){this.visible=!this.visible}refreshEditor(e){e??=xi.default.window.activeTextEditor,e&&this.eventEmitter.notify(e)}refreshDocument(e){if(!this.visible)return;let n=xi.default.window.visibleTextEditors.find(i=>i.document===e);n&&this.refreshEditor(n)}clearDecoration(){this.decorationType?.dispose(),this.decorationType=void 0}resetDecorator(){this.clearDecoration(),this.visible&&(this.createDecorator(),this.refreshEditor())}createDecorator(){this.decorationType?.dispose(),this.decorationType=xi.default.window.createTextEditorDecorationType({opacity:"0.5"})}async getOffsets(e){let n=e?.document;return n?n.uri.scheme in Hq?[]:(await this.client.serverApi.getSpellCheckingOffsets({uri:n.uri.toString()})).offsets:[]}handlePendingUpdates(){let e=[...this._pendingUpdates];this._pendingUpdates.clear();for(let n of e)this.updateDecorations(n)}async updateDecorations(e){if(!this.decorationType||!e)return;let n=new xi.default.MarkdownString("Excluded from spell checking");try{let i=e.document,r=[],s=await this.getOffsets(e);if(s.length<2)return;let o=0;for(let c=0;c<s.length-1;c+=2){let l=s[c];if(l<=o){o=s[c+1];continue}let f=new xi.default.Range(i.positionAt(o),i.positionAt(l));r.push({range:f,hoverMessage:n}),o=s[c+1]}let a=i.getText().length;if(o<a){let c=new xi.default.Range(i.positionAt(o),i.positionAt(a));r.push({range:c})}e.setDecorations(this.decorationType,r)}catch(i){e.setDecorations(this.decorationType,[]),Qc(i,"Failed to update decorations")}}getHoverProvider(){return{provideHover:async(e,n)=>{if(!this.visible||e.uri.scheme in Hq)return;let i=e.getWordRangeAtPosition(n);if(!i)return;let r=e.getText(i),s=await this.client.serverApi.traceWord({uri:e.uri.toString(),word:r}),o=new xi.default.MarkdownString;if(o.appendMarkdown(`### Trace:
`),o.isTrusted=!0,o.baseUri=e.uri,o.supportThemeIcons=!0,s.errors&&o.appendMarkdown("**Errors:** ").appendText(s.errors+`
`),s.traces)for(let c of s.traces){let l=c.traces.filter(g=>g.found),f=c.word;o.appendMarkdown(`**\`${f.replace(/`/g,"'")}\`:** ${c.found?"Found":"Not Found"}
`);for(let g of l)TX(g.dictSource||"")&&!g.dictSource.includes("node_modules")?o.appendMarkdown("- $(book) [").appendText(g.dictName).appendMarkdown("](").appendText(g.dictSource).appendMarkdown(")"):o.appendMarkdown("- $(book) _").appendText(g.dictName).appendMarkdown("_"),g.forbidden&&o.appendMarkdown(" _(Forbidden)_"),g.foundWord&&g.foundWord!==f&&o.appendMarkdown(" **").appendText(g.foundWord.trim()).appendMarkdown("**"),o.appendMarkdown(`
`);o.appendMarkdown(`
`)}return o.appendMarkdown(`
[Disable Trace Mode](command:cSpell.toggleTraceMode)`),new xi.default.Hover(o,i)}}}static globalStateKey="showTrace"},DX=/^([a-z-]{2,}):\/\//i;function TX(t){return DX.test(t)}var Jq=require("util"),At=Fe(require("vscode"),1);var Bl=Fe(rc(),1);var vx=Fe(rc(),1);function Vq(t){async function e(i,r){let s=new vx.RequestType(i);return await t.sendRequest(s,r)}return{matchPatternsInDocument:i=>e("matchPatternsInDocument",i)}}var wX=["--nolazy","--inspect=60148"],xX=!1,Ag=class t{client;serverApi;static create(e){return new t(e)}constructor(e){let n=e.asAbsolutePath("packages/_serverPatternMatcher/dist/main.cjs"),i={documentSelector:[{scheme:"file"},{scheme:"vscode-vfs"},{scheme:"untitled"}],diagnosticCollectionName:"cspell-pattern-matcher",initializationFailedHandler:c=>(console.error("Server initialization failed. %o",c),!1)},r=[],s={execArgv:r},o={execArgv:[...r,...wX]},a={run:{module:n,transport:Bl.TransportKind.ipc,options:s},debug:{module:n,transport:Bl.TransportKind.ipc,options:o}};this.client=new Bl.LanguageClient("cspell-pattern-matcher",a,i),this.client.registerProposedFeatures(),this.serverApi=Vq(this.client),dn(this.initWhenReady(),"Init Pattern Matcher Server")}async matchPatternsInDocument(e,n,i){return this.serverApi.matchPatternsInDocument({uri:e.uri.toString(),patterns:n,settings:i})}dispose(){Sx("Dispose: Pattern Matcher Client"),this.client.stop()}onReady(){return this.client.start()}async initWhenReady(){Sx("waiting initWhenReady"),await this.onReady(),Sx("done initWhenReady")}},Sx=(...t)=>{xX&&console.log(...t)};var ur=Fe(require("vscode"),1),Ig=class{_onDidChangeTreeData=new ur.EventEmitter;onDidChangeTreeData=this._onDidChangeTreeData.event;outline;refresh(e){this.outline=e?EX(e):void 0,this._onDidChangeTreeData.fire(void 0)}getChildren(e){return e?Promise.resolve(e.children):Promise.resolve(this.outline?.children)}getTreeItem(e){return e.treeItem}getParent(e){return e.parent}};function EX(t){let e={treeItem:new ur.TreeItem("root",ur.TreeItemCollapsibleState.Expanded)};return e.children=[...t.entries()].map(n=>kX(e,...n)),e}function kX(t,e,n){return{parent:t,treeItem:new ur.TreeItem(e,ur.TreeItemCollapsibleState.Expanded),children:n.map(zq)}}function zq(t){let n={treeItem:new bx(t)};return n.children=PX(n),n}function FX(t){return t.length<=50?t:t.substr(0,49)+"\u2026"}function PX(t){let e=t.treeItem.pattern;if(e.defs.length<2)return;let n=e.name;return e.defs.map((i,r)=>({name:`${n}.${r}`,defs:[i]})).map(zq)}var bx=class extends ur.TreeItem{constructor(n){super(FX(n.name),n.defs.length>1?ur.TreeItemCollapsibleState.Expanded:ur.TreeItemCollapsibleState.None);this.pattern=n;this.pattern=n;let{timeMs:i,errorMsg:r,toolTip:s,count:o}=RX(n),a=r?" "+r:"",c=[`${i}ms`,`(${o})`,a].filter(l=>!!l);this.description=c.join(" "),this.tooltip=s,this.command={command:"cSpellRegExpTester.selectRegExp",arguments:[n.defs[0]?.regexp],title:"Select RegExp"},this.contextValue="regexp"}};function RX(t){let e=t.defs.map(o=>o.elapsedTime).reduce((o,a)=>o+a,0).toFixed(2),n=t.defs.map(o=>o.errorMessage).filter(o=>!!o).join(", "),i=t.defs.map(o=>o.regexp.toString()),r=i.length>1?"Multi Pattern":i.join(""),s=t.defs.map(o=>o.matches.length).reduce((o,a)=>o+a,0);return{timeMs:e,errorMsg:n,toolTip:r,count:s}}var AX=5;function Xq(t,e){let n=new Set,i=new Ig,r;n.add(At.window.registerTreeDataProvider("cSpellRegExpView",i));let s,o=At.window.createTextEditorDecorationType({overviewRulerColor:"green",overviewRulerLane:At.OverviewRulerLane.Center,light:{backgroundColor:"#C0C0FFCC"},dark:{backgroundColor:"#347890CC"}}),a=Gq(),c=a?At.window.activeTextEditor:void 0,l,f=[],g=Zc(p,"updateDecorations",Yc);async function p(){if(!a||!c){d();return}let ne=c.document,H=ne.version,N=await e.getConfigurationForDocument(ne,{includeRegExpList:!0,ignoreRegExpList:!0,patterns:!0}),$=IX(N.docSettings,f),te=$.map(ae=>ae.pattern),K=l?0:-1,G=await j(),Q={patterns:N.docSettings?.patterns||N.settings?.patterns||[]};await G.matchPatternsInDocument(ne,te,Q).then(ae=>{if(!At.window.activeTextEditor||ne.version!==H||At.window.activeTextEditor?.document!=ne||ae.message)return;let se=ae&&new Map;ae?.patternMatches.forEach(($e,ke)=>{let ht=$[ke].category,wt=se?.get(ht)||[];wt.push($e),se?.set(ht,wt)}),i.refresh(se);let re=At.window.activeTextEditor,ve=ae.patternMatches.filter(($e,ke)=>ke===K).map(u).reduce(($e,ke)=>$e.concat(ke),[]).map($e=>{let{range:ke,message:ht}=$e,wt=re.document.positionAt(ke[0]),Jn=re.document.positionAt(ke[1]);return{range:new At.Range(wt,Jn),hoverMessage:ht}});re.setDecorations(o,ve)})}function u(ne){let{name:H,defs:N}=ne;return N.map($=>$.matches.map(te=>({range:te,elapsedTime:$.elapsedTime})).map(({range:te,elapsedTime:K})=>({range:te,message:h(H,K)}))).reduce(($,te)=>$.concat(te),[])}function d(){c?.setDecorations(o,[])}function h(ne,H){return new At.MarkdownString().appendText(ne+" "+H.toFixed(2)+"ms")}function m(){s&&(clearTimeout(s),s=void 0),s=setTimeout(g,100)}c&&m(),At.window.onDidChangeActiveTextEditor(ne=>{a&&(c=ne,ne&&m())},null,t.subscriptions),At.workspace.onDidChangeTextDocument(ne=>{a&&c&&ne.document===c.document&&m()},null,t.subscriptions);function C(){}function D(ne){function H($){try{eg($,"g")}catch(te){return Xc(te)?te.message:(0,Jq.format)(te)}}l=ne||l;let N=At.window.showInputBox({prompt:"Enter a Regular Expression",placeHolder:"Example: /\bw+/g",value:l?.toString(),validateInput:H}).then($=>{l=$||void 0,k(l),m()});return dn(N,"userTestRegExp")}function w(ne){return typeof ne=="string"&&!!ne}function k(ne){f=[...new Set([ne].concat(f))].filter(w),f.length=Math.min(f.length,AX)}function I(ne){l===ne?l=void 0:l=ne,k(l),m()}function B(ne){if(ne?.treeItem?.pattern){m();let{defs:H,name:N}=ne.treeItem.pattern;D(H[0]?.regexp||N)}}function W(){let ne=a;a=Gq(),ne!=a&&(a?(c=At.window.activeTextEditor,m()):d())}function j(){r||(r=Ag.create(t));let ne=r;return ne.onReady().then(()=>ne)}function ie(){for(let ne of n)ne.dispose();n.clear()}t.subscriptions.push({dispose:ie},At.commands.registerCommand("cSpellRegExpTester.testRegExp",Zc(D,"testRegExp",Qc)),At.commands.registerCommand("cSpellRegExpTester.selectRegExp",I),At.commands.registerCommand("cSpellRegExpTester.editRegExp",B),At.workspace.onDidChangeConfiguration(W))}function IX(t,e){let n=[];return e.forEach(i=>n.push({category:"User Patterns",pattern:i})),t?.includeRegExpList?.forEach(i=>n.push({category:"Include Regexp List",pattern:i.toString()})),t?.ignoreRegExpList?.forEach(i=>n.push({category:"Exclude Regexp List",pattern:i.toString()})),t?.patterns?.forEach(i=>n.push({category:"Patterns",pattern:_X(i)})),n}function _X(t){let{name:e,pattern:n}=t;function i(s){return s.toString()}function r(s){return Array.isArray(s)?s.map(i):i(s)}return{name:e,pattern:r(n)}}function Gq(){return!!At.workspace.getConfiguration($t)?.get("experimental.enableRegexpView")}var Yq=require("vscode");var _g=class{constructor(e){this.client=e;this.disposables.push(e.onDiagnostics(n=>this.handleDiagsFromServer(n))),this.disposables.push(Yq.workspace.onDidCloseTextDocument(n=>this.handleDocClose(n)))}disposables=tt();issues=new Map;subscribable=cr();cachedSuggestions=new Map;getSpellingIssues(e){return this.getIssues(e,n=>n.isIssueTypeSpelling())}getDirectiveIssues(e){return this.getIssues(e,n=>n.isIssueTypeDirective())}getIssues(e,n){let i=this.rawIssues(e);if(i)return n?new Ng(i.filter(n)):new Ng(i)}getSpellingIssueByFile(){return[...this.issues.values()].map(e=>({...e,issues:e.issues.filter(n=>n.isIssueTypeSpelling())}))}getIssuesByIssueType(e,n){return this.getIssues(n,i=>i.isIssueType(e))}getIssueCount(e,n=i=>i.isIssueTypeSpelling()){return e?this.issues.get(e.toString())?.issues.filter(n).length||0:[...this.issues.values()].reduce((i,r)=>i+r.issues.filter(n).length,0)}getUrisWithIssues(){return[...this.issues.values()].filter(e=>e.issues.length).map(e=>e.uri)}onDidChangeDiagnostics(e){return this.subscribable.subscribe(e)}getSuggestionsForIssue(e){let n=e.document.uri.toString(),i=so(this.cachedSuggestions,n,()=>new Map);return so(i,e.word,()=>this.fetchSuggestionsForIssue(e))}async fetchSuggestionsForIssue(e){return(await this.client.requestSpellingSuggestions(e.word,e.document)).suggestions}dispose=this.disposables.dispose;handleDiagsFromServer(e){let n=this.mapToFileIssues(e);if(!n)return;let i=n.uri.toString();this.cachedSuggestions.delete(i),this.issues.set(i,n),this.subscribable.notify({uris:[e.uri]})}handleDocClose(e){let n=e.uri.toString();this.cachedSuggestions.delete(n),this.issues.delete(n)}mapToFileIssues(e){let n=kr(e.uri);if(!n){qc(`Failed to find document for ${e.uri.toString()}`);return}return{uri:n.uri,document:n,issues:e.diagnostics.map(i=>Dx.fromDiagnostic(n,i,e.version||n.version))}}rawIssues(e){return e?this.issues.get(e.toString())?.issues:[...this.issues.values()].flatMap(n=>n.issues)}getConfigurationTargets(e){return this.client.getConfigurationTargets({uri:e})}},Dx=class t{constructor(e,n,i){this.document=e;this.diag=n;this.version=i;this.document=e}get uri(){return this.document.uri}isFlagged(){return this.diag.data?.isFlagged||!1}isKnown(){return this.diag.data?.isKnown||!1}isSuggestion(){return this.diag.data?.isSuggestion||!1}treatAsSuggestion(){return this.isSuggestion()||!this.applyStrictRules()&&!this.isFlagged()&&!this.isKnown()}applyStrictRules(){return this.diag.data?.strict??!0}hasPreferredSuggestions(){let e=this.providedSuggestions();return e?e.filter(n=>n.isPreferred).length===1:!1}getPreferredSuggestions(){let e=this.providedSuggestions();if(!e)return;let n=e.filter(i=>i.isPreferred);if(n.length===1)return n.map(i=>i.word)}get word(){let e=this.diag.data?.text;return e!==void 0?e:this.document.getText(this.diag.range)}isIssueTypeSpelling(){return!this.diag.data?.issueType}isIssueTypeDirective(){return this.diag.data?.issueType===Hm.directive}isIssueType(e){return this.diag.data?.issueType===e}isStale(){return this.version!==this.document.version}get severity(){return this.diag.severity}get range(){return this.diag.range}providedSuggestions(){return this.diag.data?.suggestions}static fromDiagnostic(e,n,i){return new t(e,n,i)}},Ng=class{constructor(e){this.issues=e;this.map=e.map.bind(e),this.filter=e.filter.bind(e),this.forEach=e.forEach.bind(e)}map;filter;forEach;get length(){return this.issues.length}getSpellingIssues(){return this.issues.filter(e=>e.isIssueTypeSpelling())}getDirectiveIssues(){return this.issues.filter(e=>e.isIssueTypeDirective())}getStats(){let e={spelling:0,directive:0,flagged:0,suggestions:0,haveSuggestions:0};for(let n of this.issues)n.isIssueTypeSpelling()?(e.spelling++,n.isFlagged()&&e.flagged++,n.isSuggestion()&&e.suggestions++,n.providedSuggestions()?.length&&e.haveSuggestions++):n.isIssueTypeDirective()&&e.directive++;return e}[Symbol.iterator](){return this.issues[Symbol.iterator]()}};var at=Fe(require("vscode"),1),Kl=require("vscode");var gn=()=>{};var Ei=Fe(require("vscode"),1),lr={issue:new Ei.ThemeIcon("issues",new Ei.ThemeColor("list.warningForeground")),info:new Ei.ThemeIcon("info"),warning:new Ei.ThemeIcon("warning",new Ei.ThemeColor("list.warningForeground")),error:new Ei.ThemeIcon("error",new Ei.ThemeColor("list.errorForeground")),doc:new Ei.ThemeIcon("go-to-file"),applySuggestion:new Ei.ThemeIcon("pencil"),applySuggestionPreferred:new Ei.ThemeIcon("pencil"),gear:new Ei.ThemeIcon("gear")};function Qq(t){return Tx({isFlagged:()=>t.isFlagged(),isKnown:()=>t.isKnown(),isSuggestion:()=>t.treatAsSuggestion()})}function Tx(t){return t.isFlagged()?lr.error:t.isKnown()?lr.warning:t.isSuggestion()?lr.info:lr.issue}function Wl(t){let e=rg(t);return n=>e(n.uri)}var Ln=class{};function Lg(t){return Xo(t).replace(/^`+/g,"").replace(/`+$/g,"")}function Xo(t){let e=[...t.matchAll(/`+/g)].map(i=>i[0].length).reduce((i,r)=>Math.max(i,r),0),n="`".repeat(e+1);return t=t.replace(/\t/g,"\u21E5").replace(/\r?\n/g,"\u23CE").replace(/\r/g,"\u23CE").replace(/\s/g," ").replace("`$","` ").replace("^`"," `"),n+t+n}var LX=!1,ts=LX?console.log:gn,OX=200;function kx(t,e){t.subscriptions.push(wx.register(e)),t.subscriptions.push(at.commands.registerCommand(di["cSpell.issuesViewByFile.item.autoFixSpellingIssues"],qX),at.commands.registerCommand(di["cSpell.issuesViewByFile.item.addWordToDictionary"],UX),at.commands.registerCommand("cSpell.issuesViewByFile.item.addWordToTarget",jX))}var wx=class t{disposeList=tt();treeView;treeDataProvider;uiEventFnEmitter=oo();constructor(e){let n=new xx({issueTracker:e,setDescription:i=>{this.treeView.description=i},setMessage:i=>{this.treeView.message=i},onDidUpdate:()=>this.onDidUpdate()});this.treeDataProvider=n,this.treeView=at.window.createTreeView(t.viewID,{treeDataProvider:n,showCollapseAll:!0}),this.disposeList.push(this.treeView,this.uiEventFnEmitter,Um(this.uiEventFnEmitter,qm(OX))(i=>i()),at.window.onDidChangeActiveTextEditor(i=>this._emitUIEvent(()=>this.onDidChangeActiveTextEditor(i))),at.window.onDidChangeActiveNotebookEditor(i=>this._emitUIEvent(()=>this.onDidChangeActiveNotebookEditor(i))),n.onDidChangeTreeData(i=>this.onDidChangeTreeData(i)),this.treeView.onDidChangeSelection(i=>this.onDidChangeSelection(i)),this.treeView.onDidChangeVisibility(i=>(ts("onDidChangeVisibility",i),this._emitUIEvent(()=>this.onDidChangeActiveTextEditor(at.window.activeTextEditor))))),this.treeView.title="Spelling Issues",this.treeView.message="No open documents."}_emitUIEvent(e){this.uiEventFnEmitter.fire(e)}onDidChangeActiveTextEditor(e){e&&(ts("onDidChangeActiveTextEditor",e.document.uri.toString()),dn(this.adjustRevel(e.document,e.visibleRanges),"onDidChangeActiveTextEditor"))}onDidChangeActiveNotebookEditor(e,n){if(!e)return;let i=e.notebook;n??=e.visibleRanges;let r=at.window.visibleTextEditors,s=jm(r,"document"),o=[];for(let l of n)for(let f=l.start;f<l.end;f++){let g=i.cellAt(f);if(!s.get(g.document))continue;let u=void 0;u&&o.push(u)}if(!o.length)return;let a=o.reduce((l,f)=>(l.top??=f.top,l.bottom=f.bottom??l.bottom,l.closest??=f.closest,l),{...o[0]}),c=o.map(l=>l.middle).filter(vn);a.middle=c[Math.floor(c.length/2)]}onDidUpdate(){ts("IssueExplorerByFile.onDidUpdate",at.window.activeTextEditor?.document.uri.toString()),this.onDidChangeActiveTextEditor(at.window.activeTextEditor)}onDidChangeTreeData(e){ts("onDidChangeTreeData");let n=this.treeDataProvider.getIssueCount();this.treeView.badge=n?{tooltip:`Issues found: ${n}`,value:n}:void 0}onDidChangeSelection(e){ts("onDidChangeSelection",e.selection.length);let n=e.selection[0];n instanceof yc&&ts("IssueExplorerByFile.onDidChangeSelection",n.issue.diag.message)}async adjustRevel(e,n){if(!this.treeView.visible)return;let i=this.treeDataProvider.findMatchingChild(e.uri);if(!i)return;let r=i.findMatchingIssues(n);return r?this.revealItems(r,!1):this.revealItems([i],!0)}async revealItems(e,n){if(ts("revealItems",e.length,this.treeView.visible),!this.treeView.visible||!e.length)return;let i=e[e.length-1],r=e[0];await this.treeView.reveal(i,{select:!1,focus:!1,expand:n}),await this.treeView.reveal(r,{select:!1,focus:!1,expand:n})}dispose=this.disposeList.dispose;static viewID="cSpellIssuesViewByFile";static register(e){return new t(e)}},xx=class{constructor(e){this.options=e;this.issueTracker=void 0,this.disposeList.push(this.emitOnDidChange,at.window.onDidChangeVisibleTextEditors(()=>this.updateChild()),at.window.tabGroups.onDidChangeTabs(()=>this.updateChild())),e.issueTracker.then(n=>{this.issueTracker=n,this.disposeList.push(this.issueTracker.onDidChangeDiagnostics(i=>this.handleOnDidChangeDiagnostics(i))),this.updateChild()})}emitOnDidChange=new at.EventEmitter;disposeList=tt();issueTracker;children;getTreeItem(e){return e.getTreeItem()}getChildren(e){if(!this.issueTracker)return;if(e)return e.getChildren();if(this.children)return this.children;let n={onlyVisible:!0,issueTracker:this.issueTracker,invalidate:i=>this.updateChild(i),requestSuggestions:i=>this.issueTracker?.getSuggestionsForIssue(i)||Promise.resolve([])};return this.children=MX(n),this.updateMessage(this.children.length?void 0:"No issues found."),setTimeout(()=>this.options.onDidUpdate(),10),this.children}getParent(e){if(e instanceof Ln)return e.getParent()}onDidChangeTreeData=this.emitOnDidChange.event;handleOnDidChangeDiagnostics(e){ts("IssuesTreeDataProvider.handleOnDidChangeDiagnostics",e.uris.map(n=>n.toString(!0))),this.updateChild()}updateChild(e=void 0){e||(this.children=void 0),this.emitOnDidChange.fire(e)}updateMessage(e,n){this.options.setDescription(n),this.options.setMessage(e)}getIssueCount(){if(!this.issueTracker)return 0;let e=Wl(!0);return this.issueTracker.getIssueCount(void 0,n=>n.isIssueTypeSpelling()&&e(n))}findMatchingChild(e){return this.children?.find(n=>n.document.uri.toString()===e.toString())}dispose=this.disposeList.dispose},Og=class extends Ln{constructor(n,i,r){super();this.context=n;this.document=i;this.issues=r}children;targets;getTreeItem(){let n=at.workspace.asRelativePath(this.document.uri,!0),i=new Kl.TreeItem(n);i.resourceUri=this.document.uri,i.iconPath=at.ThemeIcon.File,i.description=`${this.issues.length}`;let r=this.issues.some(a=>a.hasPreferredSuggestions());i.contextValue=r?"issue.FileWithIssuesTreeItem.hasPreferred":"issue.FileWithIssuesTreeItem";let o=[at.window.activeTextEditor?.document.uri,at.window.activeNotebookEditor?.notebook.uri,...at.window.activeNotebookEditor?.notebook.getCells().map(a=>a.document.uri)||[]].includes(this.document.uri);return i.collapsibleState=this.issues.length?o?at.TreeItemCollapsibleState.Expanded:at.TreeItemCollapsibleState.Collapsed:void 0,i}getChildren(){return this.children?this.children:(this.children=this.issues.map(n=>new yc(this.context,this,n,this.getTargets)).sort(yc.compare),this.children)}getParent(){}findMatchingIssues(n){if(!n)return this.children;let i=this.children?.filter(r=>r.findMatchingIssues(n));return i?.length?i:void 0}getTargets=()=>this.targets?this.targets:(this.targets=this.context.issueTracker.getConfigurationTargets(this.document.uri).then(n=>({targets:n.configTargets})),this.targets);toString(){return`FileWithIssuesTreeItem: ${this.document.uri.toString()}`}},yc=class extends Ln{constructor(n,i,r,s){super();this.context=n;this.file=i;this.issue=r;this.getTargets=s;this.cell=Bu(r.document),this.document=this.cell?.document??r.document,this.cellIndex=this.cell?this.cell.index:-1,this.range=r.range}children;pChildren;cell;document;cellIndex;range;getTreeItem(){let n=this.issue,i=new Kl.TreeItem(n.diag.message),r=n.range;i.id=[n.uri.toString(),r.start.line,r.start.character,r.end.line,r.end.character].join(":");let s=`${this.cellIndex>=0?`Cell ${this.cellIndex+1}, `:""}Ln ${this.range.start.line+1}, Col ${this.range.start.character+1}`,o=this.issue.getPreferredSuggestions(),a=o?` (fix with: ${o.join(", ")})`:"";i.description=s+a;let c=!!this.issue.diag.data?.isFlagged;return i.contextValue="issue.FileIssueTreeItem"+(c?".flagged":""),i.collapsibleState=!this.children||this.children.length?at.TreeItemCollapsibleState.Collapsed:at.TreeItemCollapsibleState.None,i.iconPath=Qq(this.issue),i.tooltip=this.tooltip(),i.command=this.getCommand(),i}getCommand(){return{title:"Goto Issue",command:"vscode.open",arguments:[this.issue.document.uri,{selection:this.range,preserveFocus:!0}]}}getChildren(){if(this.children)return this.children;this.pChildren??=this.#e()}async#e(){if(this.children)return this.children;let n=await this.context.requestSuggestions(this.issue),i=await this.getTargets(this.issue.uri),r=this.children=[...n.map(s=>new Ex(this,this.issue,s)),...i.targets.map(s=>new Mg(this,this.issue,s))];return this.pChildren=void 0,this.context.invalidate(this),r}getParent(){return this.file}findMatchingIssues(n){if(!n)return[this];for(let i of n)if(i.contains(this.range))return[this]}tooltip(){}toString(){return`FileIssueTreeItem: ${this.issue.diag.message}`}static compare(n,i){let r=n.cellIndex-i.cellIndex;if(r)return r;let s=n.range.start.line-i.range.start.line;return s||n.range.start.character-i.range.start.character}},Ex=class extends Ln{constructor(n,i,r){super();this.parent=n;this.issue=i;this.suggestion=r}getTreeItem(){let n=this.issue,{word:i,isPreferred:r}=this.suggestion,s=new Kl.TreeItem(i);s.id=Zq(n.uri,n.range,i),s.iconPath=r?lr.applySuggestionPreferred:lr.applySuggestion,s.description=r&&"(preferred)";let o=Xo(i),c="Replace Issue with: "+Lg(i);return s.command={title:c,command:di["cSpell.fixSpellingIssue"],arguments:[this.issue.uri,this.issue.word,i,[this.issue.range]]},s.tooltip=new at.MarkdownString().appendMarkdown(`Fix Issue with: ${o}`),s.accessibilityInformation={label:c},s.contextValue=r?"issue.suggestion-preferred":"issue.suggestion",s}getChildren(){}getParent(){return this.parent}isPreferred(){return this.suggestion.isPreferred||!1}toString(){return`IssueSuggestionTreeItem: ${this.issue.word} -> ${this.suggestion.word}`}},Mg=class extends Ln{constructor(n,i,r){super();this.parent=n;this.issue=i;this.target=r}getTreeItem(){let n=this.issue,i=new Kl.TreeItem("Add to "+this.target.name);i.id=Zq(n.uri,n.range,this.target.name),i.iconPath=lr.gear,i.description="";let r=Xo(n.word),s=this.target.kind==="dictionary"?"dictionary":"configuration",o=`Add ${r} to ${this.target.name} ${s}.`;return i.tooltip=new at.MarkdownString().appendMarkdown(o),i.accessibilityInformation={label:o},i.command={title:o,command:"cSpell.issuesViewByFile.item.addWordToTarget",arguments:[this]},i}getChildren(){}getParent(){return this.parent}isPreferred(){return!1}applyFix(){return rt(it("dictionaryHelper").addWordsToTargetServerConfigTarget(this.issue.word,this.target,this.issue.document.uri),"addWordsToConfig")}toString(){return`IssueAddToTargetTreeItem: ${this.issue.word} to ${this.target.name}`}};function MX(t){let e=Wl(!0),n=t.issueTracker.getSpellingIssueByFile().filter(e).map(a=>({...a,doc:kr(a.uri)})),i=o(n),r=new Intl.Collator().compare;return[...i].filter(([a,c])=>c.length).map(([a,c])=>new Og(t,a,c)).sort((a,c)=>r(a.document.uri.toString(!0),c.document.uri.toString(!0)));function o(a){let c=new Map;for(let f of a)l(f);return c;function l(f){if(!f.doc)return;let g=f.doc,p=Vf(g),u=c.get(p)||[];u.push(...f.issues),c.set(p,u)}}}function qX(t){if(t instanceof Og)return ig(t.document.uri)}function UX(t){if(!(t instanceof yc))return;let e=t.document;return pc["cSpell.addWordToDictionary"](t.issue.word,e.uri)}function jX(t){if(t instanceof Mg)return ts("handleAddWordToTarget %o",{word:t.issue.word,target:t.target}),t.applyFix()}function Zq(t,e,...n){return[t.toString(),e.start.line,e.start.character,e.end.line,e.end.character,...n].join(":")}var nn=Fe(require("vscode"),1),Cc=require("vscode");function _x(t,e){t.subscriptions.push(Fx.register(e)),t.subscriptions.push(nn.commands.registerCommand(di["cSpell.issueViewer.item.openSuggestionsForIssue"],$X),nn.commands.registerCommand(di["cSpell.issueViewer.item.autoFixSpellingIssues"],HX),nn.commands.registerCommand(di["cSpell.issueViewer.item.addWordToDictionary"],VX))}var BX=100,Fx=class t{disposeList=tt();treeView;uiEventFnEmitter=cr();treeDataProvider;constructor(e){this.treeDataProvider=new Px({issueTracker:void 0,setDescription:n=>{this.treeView.description=n},setMessage:n=>{this.treeView.message=n}}),e.then(n=>this.treeDataProvider.setIssuesTracker(n)),this.treeView=nn.window.createTreeView(t.viewID,{treeDataProvider:this.treeDataProvider,showCollapseAll:!0}),this.disposeList.push(this.treeView,Ul(this.uiEventFnEmitter,hx(BX)).subscribe(n=>n()),this.listenEvent(nn.window.onDidChangeTextEditorSelection,n=>this.handleOnDidChangeTextEditorSelection(n)),this.listenEvent(nn.window.onDidChangeActiveTextEditor,n=>this.handleTextEditorChange(n)),this.listenEvent(this.treeDataProvider.onDidChangeTreeData.bind(this.treeDataProvider),()=>this.handleTextEditorChange(nn.window.activeTextEditor))),this.treeView.title="Words with Issues",this.treeView.message="No open documents."}dispose=this.disposeList.dispose;handleOnDidChangeTextEditorSelection(e){this.handleTextEditorChange(e.textEditor)}handleTextEditorChange(e){if(!this.treeView.visible||!e)return;let n=this.treeDataProvider.findRelatedIssue(e);n&&this.treeView.reveal(n,{select:!0,focus:!1})}listenEvent(e,n){return e(i=>this.uiEventFnEmitter.notify(()=>n(i)))}static viewID="cSpellIssuesViewByIssue";static register(e){return new t(e)}},Px=class{constructor(e){this.options=e;this.issueTracker=void 0,this.disposeList.push(this.emitOnDidChange,nn.window.onDidChangeVisibleTextEditors(()=>this.refresh()),nn.window.tabGroups.onDidChangeTabs(()=>this.refresh())),this.options.issueTracker&&this.setIssuesTracker(this.options.issueTracker)}emitOnDidChange=cr();disposeList=tt();suggestions=new Map;issueTracker;children;setIssuesTracker(e){this.issueTracker=e,this.disposeList.push(this.issueTracker.onDidChangeDiagnostics(n=>this.handleOnDidChangeDiagnostics(n))),this.refresh()}getTreeItem(e){return e.getTreeItem()}getChildren(e){if(!this.issueTracker)return;if(e)return e.getChildren();let n={onlyVisible:!0,issueTracker:this.issueTracker,invalidate:r=>this.emitOnDidChange.notify(r),requestSuggestions:r=>(dn(this.fetchSuggestions(r),"IssuesTreeDataProvider requestSuggestions"),this.suggestions.get(r.word))},i=WX(n);return this.children=i,this.updateMessage(i.length?void 0:"No issues found."),i}getParent(e){if(e instanceof Ln)return e.getParent()}onDidChangeTreeData(e,n,i){this.children=void 0;let r=n?e.bind(n):e,s=this.emitOnDidChange.subscribe(o=>r(o));return i&&i.push(s),s}findRelatedIssue(e){return this.children?this.children.find(i=>i.intersectsActiveSelection(e)):void 0}handleOnDidChangeDiagnostics(e){this.refresh()}refresh(e){this.emitOnDidChange.notify(e)}async fetchSuggestions(e){if(!this.issueTracker)return;let{word:n}=e,i=await this.issueTracker.getSuggestionsForIssue(e);this.suggestions.set(n,i),e.onUpdate(i)}updateMessage(e){this.options.setMessage(e)}dispose=this.disposeList.dispose},$l=class extends Ln{constructor(n,i,r=[]){super();this.context=n;this.word=i;r.forEach(s=>this.addIssue(s))}suggestions;suggestionsByDocument=new Map;conicalDocuments=new Set;issues=[];addIssue(n){let i=n.document,r=this.context.requestSuggestions({word:this.word,document:i,onUpdate:s=>this.onUpdate(i,s)});return this.suggestionsByDocument.set(i,r||[]),this.conicalDocuments.add(Vf(i)),this.issues.push(n)}getTreeItem(){let n=new Cc.TreeItem(this.word),i=this.hasPreferred(),r=this.issues.some(c=>c.isFlagged()),s=this.issues.some(c=>c.isKnown());n.iconPath=Tx({isFlagged:()=>r,isKnown:()=>s,isSuggestion:()=>this.issues.some(c=>c.treatAsSuggestion())}),n.description=`${eU(this.issues.length,"issue","issues")} in ${eU(this.conicalDocuments.size,"file","files")}${i?"*":""}`;let o=`Number of occurrences: ${this.issues.length}, files: ${this.conicalDocuments.size}`+(i?" (auto fix)":""),a=Xo(this.word);return n.tooltip=new nn.MarkdownString().appendMarkdown((r?"Flagged":s?"Misspelled":"Unknown")+" word: "+a).appendText(`

`).appendText(o),n.collapsibleState=nn.TreeItemCollapsibleState.Collapsed,n.contextValue=i?"issue.hasPreferred":"issue",n}getParent(){}getChildren(){let{context:n,word:i,issues:r,suggestions:s}=this;return[new Rx(n,this,i,r),new Ax(this,i,r,s)]}getRange(){}hasPreferred(){return this.suggestions?.filter(i=>i.isPreferred)?.length===1}getPreferred(){let n=this.suggestions?.filter(r=>r.isPreferred);if(n?.length!==1)return;let{word:i}=n[0];return{text:this.word,newText:i,ranges:this.issues.map(r=>r.range)}}intersectsActiveSelection(n){let{document:i,selection:r}=n,{issues:s}=this;return!!s.filter(a=>a.document===i).find(a=>a.range.intersection(r))}async addToDictionary(){let n=this.issues[0]?.document;return pc["cSpell.addWordToDictionary"](this.word,n?.uri)}onUpdate(n,i){this.suggestionsByDocument.set(n,i),this.suggestions=zX(this.suggestionsByDocument),this.context.invalidate(this)}toString(){return`WordIssueTreeItem ${this.word}`}},Rx=class extends Ln{constructor(n,i,r,s){super();this.context=n;this.parent=i;this.word=r;this.issues=s}getTreeItem(){let n=new Cc.TreeItem("Locations:");return n.collapsibleState=nn.TreeItemCollapsibleState.Collapsed,n}getChildren(){return this.issues.map(n=>new qg(this,n)).sort(qg.compare)}getParent(){return this.parent}toString(){return`IssueLocationsTreeItem ${this.word}`}},Ax=class extends Ln{constructor(n,i,r,s){super();this.parent=n;this.word=i;this.issues=r;this.suggestions=s}suggestions;getTreeItem(){return new Cc.TreeItem("Fixes:",nn.TreeItemCollapsibleState.Expanded)}getChildren(){return this.suggestions?.map(n=>new Ix(this,this.word,n))}getParent(){return this.parent}toString(){return`IssueFixesTreeItem ${this.word}`}},qg=class extends Ln{constructor(n,i){super();this.parent=n;this.issue=i;this.cell=Bu(this.doc)}cell;get doc(){return this.issue.document}getTreeItem(){let n=this.issue.range,r=`${this.cell?`Cell ${this.cell.index+1} `:" "}Ln ${n.start.line+1} Col ${n.start.character+1}`,s=new Cc.TreeItem("");return s.resourceUri=this.doc.uri,s.label=void 0,s.iconPath=nn.ThemeIcon.File,s.description=r,s.command={title:"Goto Issue",command:"vscode.open",arguments:[this.issue.document.uri,{selection:this.issue.range}]},s.contextValue="issue.location",s}getChildren(){}getParent(){return this.parent}getRange(){return this.issue.range}toString(){return`IssueLocationTreeItem ${this.issue.word}`}static compare(n,i){let r=n.cell?.document.uri||n.doc.uri,s=i.cell?.document.uri||i.doc.uri,o=r.toString().localeCompare(s.toString());if(o!==0)return o;if(n.cell?.index!==i.cell?.index)return(n.cell?.index||0)-(i.cell?.index||0);let a=n.issue.range,c=i.issue.range;return a.start.line-c.start.line||a.start.character-c.start.character}},Ix=class extends Ln{constructor(n,i,r){super();this.parent=n;this.word=i;this.suggestion=r}getTreeItem(){let{word:n,isPreferred:i}=this.suggestion,r=new Cc.TreeItem(n);r.iconPath=i?lr.applySuggestionPreferred:lr.applySuggestion,r.description=i&&"(preferred)";let s=Xo(n),a="Find and Replace Issue with: "+Lg(n);return r.command={title:a,command:"workbench.action.findInFiles",arguments:[{query:this.word,replace:n,preserveCase:!0,triggerSearch:!0,isRegex:!1,isCaseSensitive:!1,onlyOpenEditors:!0}]},r.tooltip=new nn.MarkdownString().appendMarkdown(`Fix Issue with: ${s}`),r.accessibilityInformation={label:a},r.contextValue=i?"issue.suggestion-preferred":"issue.suggestion",r}getChildren(){}getParent(){return this.parent}isPreferred(){return this.suggestion.isPreferred||!1}toString(){return`IssueSuggestionTreeItem ${this.word}`}};function WX(t){let e=Wl(t.onlyVisible),n=(t.issueTracker.getSpellingIssues()||[]).filter(e),i=new Map,r=KX(i,c=>new $l(t,c));n.forEach(a);let s=new Intl.Collator().compare;return[...i.values()].sort((c,l)=>s(c.word,l.word));function a(c){r(c.word).addIssue(c)}}function KX(t,e){return n=>{let i=t.get(n);if(i!==void 0)return i;let r=e(n);return t.set(n,r),r}}function $X(t){t instanceof Ln}function HX(t){t instanceof $l}function VX(t){if(t instanceof $l)return t.addToDictionary()}function eU(t,e,n){return`${t} ${t===1?e:n}`}function zX(t){let e=new Map;for(let s of t.values())for(let o of s){let a=e.get(o.word)||o.isPreferred;e.set(o.word,a)}let n=[...e.entries()].map(([s,o])=>({word:s,isPreferred:o})),i=n.filter(s=>s.isPreferred),r=n.filter(s=>!s.isPreferred);return[...i,...r]}var nU=require("os"),Gi=Fe(require("vscode"),1),Or=require("vscode");function Nx(t){return t.map(GX)}function GX(t){let e=Rl(t);if(e)return Il(e);if(t.kind!=="dictionary")throw new Error(`Unknown config target ${t.kind}`);return og(t.dictionaryUri,t.name)}var tU="custom-dictionary",JX=`# Custom Dictionary Words
`,Ug=class{constructor(e){this.client=e}async addWordsToTargets(e,n,i){let r=await this.resolveTargets(n,i);if(r)return this.addWordToDictionaries(e,r)}addWordsToConfigRep(e,n){let i=Il(n);return this.addWordToDictionary(e,i)}addWordToDictionaries(e,n){return Promise.all(n.map(r=>this.addWordToDictionary(e,r))).then(()=>{})}async addWordToDictionary(e,n){e=$r(e);try{await n.addWords(e)}catch(i){throw new Mx(`Unable to add "${e}"`,n,e,i)}}async removeWordsFromTargets(e,n,i){e=$r(e);let r=await this.resolveTargets(n,i);if(r)return this.removeWordFromDictionaries(e,r)}removeWordsFromConfigRep(e,n){let i=Il(n);return this.removeWordFromDictionary(e,i)}removeWordFromDictionaries(e,n){return Promise.all(n.map(r=>this.removeWordFromDictionary(e,r))).then(()=>{})}async removeWordFromDictionary(e,n){e=$r(e);try{await n.removeWords(e)}catch(i){throw new jg(`Unable to remove "${e}" from "${n.name}"`,n,i)}}async addIssuesToDictionary(e){if(e=e||Gi.window.activeTextEditor?.document,!e)return;let n=XX(e)?e:await Gi.workspace.openTextDocument(e),i=Hi(n.uri);if(!i.length)return;let r=new Set(i.map(s=>n.getText(s.range)));return this.addWordsToTargets([...r],xd,n.uri)}async createCustomDictionary(e,n){let i=await YX(e);if(!i)throw new Error("Unable to determine location to create dictionary.");if(await this.addCustomDictionaryToConfig(e,i.relPath,n||i.name,i.scope),qo.isCSpellConfigRepository(e)){let r=await Gi.window.showTextDocument(e.configFileUri,{viewColumn:Gi.ViewColumn.Active});pg(r,"dictionaryDefinitions")}await Gi.window.showTextDocument(i.uri,{viewColumn:Gi.ViewColumn.Beside})}addCustomDictionaryToConfig(e,n,i,r){let s={name:i,path:n,addWords:!0,scope:r??e.defaultDictionaryScope};return iY(e,s)}async getDocConfig(e){if(e){let n=await Gi.workspace.openTextDocument(e);return this.client.getConfigurationForDocument(n,{})}return this.client.getConfigurationForDocument(void 0,{})}async resolveTargets(e,n){if(typeof e!="function")return Nx(e);let r=(await this.getDocConfig(n)).configTargets.map(Jh),s=await e(r);return s&&Nx(s)}addWordsToTargetServerConfigTarget(e,n,i){return i=i||n.docUri&&Or.Uri.parse(n.docUri)||void 0,this.addWordsToTargets(e,[uY(n,i)],i)}};function XX(t){return"uri"in t}async function YX(t){let e=QX(t);if(e)return await nY(e.uri),e}function QX(t){return qo.isCSpellConfigRepository(t)?ZX(t):sc.isVSCodeRepository(t)?eY(t):void 0}function ZX(t){let e=t.defaultDictionaryScope,n=Ox(e),i=Cr.dirname(t.configFileUri),r=`${Kf}/${n}.txt`,s=Or.Uri.joinPath(i,r),o="./"+r;return{uri:s,relPath:o,name:n,scope:e}}function eY(t){let e=_i(t.target);if(t.target===Gi.ConfigurationTarget.Global){let c=Ox(e),l=`${Kf}/${c}.txt`,f=Or.Uri.file((0,nU.homedir)()),g=Or.Uri.joinPath(f,l),p="~/"+l;return{uri:g,relPath:p,name:c,scope:e}}let n=t.getWorkspaceFolder();if(!n)return;let i=e==="folder"?"-"+tY(n.name):"",r=Ox(_i(t.target))+i,s=`${Kf}/${r}.txt`,o=Or.Uri.joinPath(n.uri,s),a=`\${workspaceFolder:${n.name}}/${s}`;return{uri:o,relPath:a,name:r,scope:e}}function Ox(t){return t?`${tU}-${t}`:tU}function tY(t){return t.toLowerCase().replace(/[^\w]/g,"-")}async function nY(t,e=!1){e=e||!await Jt.fileExists(t),e&&(await Jt.createDirectory(Cr.dirname(t)),await Jt.writeFile(t,JX,"utf8"))}async function iY(t,e){let n=qo.isCSpellConfigRepository(t)?rY(e):sc.isVSCodeRepository(t)?sY(e):void 0;if(!n)throw Error(`Unsupported config ${t.kind}`);return t.update(n)}function rY(t){let e=t.name;return Pv([Be.dictionaries,Be.dictionaryDefinitions],n=>{let{dictionaries:i=[],dictionaryDefinitions:r=[]}=n,s=new Map(r.map(a=>[a.name,a])),o=new Set(i);return s.set(e,t),o.add(e),{dictionaries:[...o],dictionaryDefinitions:[...s.values()]}})}function sY(t){let e=t.name;return Pv([Be.customDictionaries,Be.customFolderDictionaries,Be.customWorkspaceDictionaries,Be.customUserDictionaries],n=>{let{customDictionaries:i,...r}=oY(n);return i[e]=t,{...r,customDictionaries:i}})}function oY(t){let{customDictionaries:e={},customFolderDictionaries:n=[],customWorkspaceDictionaries:i=[],customUserDictionaries:r=[]}=t;return{customDictionaries:{...[r.map(Lx("user")),i.map(Lx("workspace")),n.map(Lx("folder"))].reduce(aY,e),...e},customFolderDictionaries:void 0,customWorkspaceDictionaries:void 0,customUserDictionaries:void 0}}function Lx(t){return e=>typeof e=="string"?e:{...e,scope:e.scope||t}}function aY(t,e){return e.reduce(cY,t)}function cY(t,e){let n={...t};return typeof e=="string"?n[e]=!0:n[e.name]=e,n}function uY(t,e){switch(t.kind){case"cspell":return{kind:t.kind,name:t.name,scope:"unknown",configUri:Or.Uri.parse(t.configUri)};case"vscode":return{kind:t.kind,name:t.name,scope:t.scope,docUri:t.docUri&&Or.Uri.parse(t.docUri)||e||void 0,configScope:e};case"dictionary":return{kind:t.kind,name:t.name,scope:"unknown",docUri:t.docUri&&Or.Uri.parse(t.docUri)||e||void 0,dictionaryUri:Or.Uri.parse(t.dictionaryUri)}}}var jg=class extends Error{constructor(n,i,r){super(n);this.dictTarget=i;this.cause=r}},Mx=class extends jg{constructor(n,i,r,s){super(n,i,s);this.words=r;this.cause=s}};function iU(){gi.setConnection({console,onExit:()=>{}}),uk("dictionaryHelper",()=>new Ug(it("client")))}var r0=Fe(require("node:assert"),1),a2=Fe(require("node:readline/promises"),1),s0=require("node:util"),c2=Fe(oU(),1),Nt=Fe(require("vscode"),1);var dr={};qE(dr,{beep:()=>KY,clearScreen:()=>UY,clearTerminal:()=>jY,cursorBackward:()=>wY,cursorDown:()=>DY,cursorForward:()=>TY,cursorGetPosition:()=>kY,cursorHide:()=>RY,cursorLeft:()=>uU,cursorMove:()=>bY,cursorNextLine:()=>FY,cursorPrevLine:()=>PY,cursorRestorePosition:()=>EY,cursorSavePosition:()=>xY,cursorShow:()=>AY,cursorTo:()=>SY,cursorUp:()=>cU,enterAlternativeScreen:()=>BY,eraseDown:()=>LY,eraseEndLine:()=>_Y,eraseLine:()=>lU,eraseLines:()=>IY,eraseScreen:()=>Ux,eraseStartLine:()=>NY,eraseUp:()=>OY,exitAlternativeScreen:()=>WY,iTerm:()=>VY,image:()=>HY,link:()=>$Y,scrollDown:()=>qY,scrollUp:()=>MY});var Wg=Fe(require("node:process"),1);var Bg=globalThis.window?.document!==void 0,qpe=globalThis.process?.versions?.node!==void 0,Upe=globalThis.process?.versions?.bun!==void 0,jpe=globalThis.Deno?.version?.deno!==void 0,Bpe=globalThis.process?.versions?.electron!==void 0,Wpe=globalThis.navigator?.userAgent?.includes("jsdom")===!0,Kpe=typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope,$pe=typeof DedicatedWorkerGlobalScope<"u"&&globalThis instanceof DedicatedWorkerGlobalScope,Hpe=typeof SharedWorkerGlobalScope<"u"&&globalThis instanceof SharedWorkerGlobalScope,Vpe=typeof ServiceWorkerGlobalScope<"u"&&globalThis instanceof ServiceWorkerGlobalScope,Hl=globalThis.navigator?.userAgentData?.platform,zpe=Hl==="macOS"||globalThis.navigator?.platform==="MacIntel"||globalThis.navigator?.userAgent?.includes(" Mac ")===!0||globalThis.process?.platform==="darwin",Gpe=Hl==="Windows"||globalThis.navigator?.platform==="Win32"||globalThis.process?.platform==="win32",Jpe=Hl==="Linux"||globalThis.navigator?.platform?.startsWith("Linux")===!0||globalThis.navigator?.userAgent?.includes(" Linux ")===!0||globalThis.process?.platform==="linux",Xpe=Hl==="iOS"||globalThis.navigator?.platform==="MacIntel"&&globalThis.navigator?.maxTouchPoints>1||/iPad|iPhone|iPod/.test(globalThis.navigator?.platform),Ype=Hl==="Android"||globalThis.navigator?.platform==="Android"||globalThis.navigator?.userAgent?.includes(" Android ")===!0||globalThis.process?.platform==="android";var ct="\x1B[",zl="\x1B]",vc="\x07",Vl=";",aU=!Bg&&Wg.default.env.TERM_PROGRAM==="Apple_Terminal",CY=!Bg&&Wg.default.platform==="win32",vY=Bg?()=>{throw new Error("`process.cwd()` only works in Node.js, not the browser.")}:Wg.default.cwd,SY=(t,e)=>{if(typeof t!="number")throw new TypeError("The `x` argument is required");return typeof e!="number"?ct+(t+1)+"G":ct+(e+1)+Vl+(t+1)+"H"},bY=(t,e)=>{if(typeof t!="number")throw new TypeError("The `x` argument is required");let n="";return t<0?n+=ct+-t+"D":t>0&&(n+=ct+t+"C"),e<0?n+=ct+-e+"A":e>0&&(n+=ct+e+"B"),n},cU=(t=1)=>ct+t+"A",DY=(t=1)=>ct+t+"B",TY=(t=1)=>ct+t+"C",wY=(t=1)=>ct+t+"D",uU=ct+"G",xY=aU?"\x1B7":ct+"s",EY=aU?"\x1B8":ct+"u",kY=ct+"6n",FY=ct+"E",PY=ct+"F",RY=ct+"?25l",AY=ct+"?25h",IY=t=>{let e="";for(let n=0;n<t;n++)e+=lU+(n<t-1?cU():"");return t&&(e+=uU),e},_Y=ct+"K",NY=ct+"1K",lU=ct+"2K",LY=ct+"J",OY=ct+"1J",Ux=ct+"2J",MY=ct+"S",qY=ct+"T",UY="\x1Bc",jY=CY?`${Ux}${ct}0f`:`${Ux}${ct}3J${ct}H`,BY=ct+"?1049h",WY=ct+"?1049l",KY=vc,$Y=(t,e)=>[zl,"8",Vl,Vl,e,vc,t,zl,"8",Vl,Vl,vc].join(""),HY=(t,e={})=>{let n=`${zl}1337;File=inline=1`;return e.width&&(n+=`;width=${e.width}`),e.height&&(n+=`;height=${e.height}`),e.preserveAspectRatio===!1&&(n+=";preserveAspectRatio=0"),n+":"+Buffer.from(t).toString("base64")+vc},VY={setCwd:(t=vY())=>`${zl}50;CurrentDir=${t}${vc}`,annotation(t,e={}){let n=`${zl}1337;`,i=e.x!==void 0,r=e.y!==void 0;if((i||r)&&!(i&&r&&e.length!==void 0))throw new Error("`x`, `y` and `length` must be defined when `x` or `y` is defined");return t=t.replaceAll("|",""),n+=e.isHidden?"AddHiddenAnnotation=":"AddAnnotation=",e.length>0?n+=(i?[t,e.length,e.x,e.y]:[e.length,t]).join("|"):n+=t,n+vc}};var dU=(t=0)=>e=>`\x1B[${e+t}m`,fU=(t=0)=>e=>`\x1B[${38+t};5;${e}m`,pU=(t=0)=>(e,n,i)=>`\x1B[${38+t};2;${e};${n};${i}m`,It={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],gray:[90,39],grey:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgGray:[100,49],bgGrey:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}},hU=Object.keys(It.modifier),zY=Object.keys(It.color),GY=Object.keys(It.bgColor),gU=[...zY,...GY];function JY(){let t=new Map;for(let[e,n]of Object.entries(It)){for(let[i,r]of Object.entries(n))It[i]={open:`\x1B[${r[0]}m`,close:`\x1B[${r[1]}m`},n[i]=It[i],t.set(r[0],r[1]);Object.defineProperty(It,e,{value:n,enumerable:!1})}return Object.defineProperty(It,"codes",{value:t,enumerable:!1}),It.color.close="\x1B[39m",It.bgColor.close="\x1B[49m",It.color.ansi=dU(),It.color.ansi256=fU(),It.color.ansi16m=pU(),It.bgColor.ansi=dU(10),It.bgColor.ansi256=fU(10),It.bgColor.ansi16m=pU(10),Object.defineProperties(It,{rgbToAnsi256:{value:(e,n,i)=>e===n&&n===i?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(n/255*5)+Math.round(i/255*5),enumerable:!1},hexToRgb:{value:e=>{let n=/[a-f\d]{6}|[a-f\d]{3}/i.exec(e.toString(16));if(!n)return[0,0,0];let[i]=n;i.length===3&&(i=[...i].map(s=>s+s).join(""));let r=Number.parseInt(i,16);return[r>>16&255,r>>8&255,r&255]},enumerable:!1},hexToAnsi256:{value:e=>It.rgbToAnsi256(...It.hexToRgb(e)),enumerable:!1},ansi256ToAnsi:{value:e=>{if(e<8)return 30+e;if(e<16)return 90+(e-8);let n,i,r;if(e>=232)n=((e-232)*10+8)/255,i=n,r=n;else{e-=16;let a=e%36;n=Math.floor(e/36)/5,i=Math.floor(a/6)/5,r=a%6/5}let s=Math.max(n,i,r)*2;if(s===0)return 30;let o=30+(Math.round(r)<<2|Math.round(i)<<1|Math.round(n));return s===2&&(o+=60),o},enumerable:!1},rgbToAnsi:{value:(e,n,i)=>It.ansi256ToAnsi(It.rgbToAnsi256(e,n,i)),enumerable:!1},hexToAnsi:{value:e=>It.ansi256ToAnsi(It.hexToAnsi256(e)),enumerable:!1}}),It}var XY=JY(),fr=XY;var YY=[...gU,...hU].map(t=>[t,e=>fr[t].open+e+fr[t].close]),_t=Object.fromEntries(YY);function Sc(t){return fr.green.open+t+fr.green.close}function Kg(t){return fr.red.open+t+fr.red.close}function Gl(t){return fr.yellow.open+t+fr.yellow.close}function jx(t){return t.replace(/\n/g,`\r
`).replace(/\r+\r/g,"\r")}function mU(t){return fr.dim.open+t+fr.dim.close}function yU(t,...e){return n=>e.reduce((i,r)=>r(i),t(n))}function CU(){return dr.clearScreen}function $g(t){return t>0?dr.eraseEndLine:t<0?dr.eraseStartLine:dr.eraseLine}function vU(){return dr.eraseDown}function SU(t,e){return dr.cursorMove(t,e)}function bU(t,e){return dr.cursorTo(t,e)}function Bx(){return dr.eraseLine+"\r"}var TU=require("node:util"),Hg=Fe(require("assert"),1);function Jl(t,e){let n=[],i=QY(t.replace(/\t/g,"    ")).flatMap(a=>a.split(/ /)),r=0,s="",o="";for(let a of i){if(a===`
`||a==="\r"){n.push(s),s="",o="",r=0;continue}s&&r+o.length+a.length>e&&(n.push(s),s="",o="",r=0),s+=o+a,r+=o.length+a.length,o=" "}return n.push(s),n.map(a=>a.trimEnd())}function QY(t){return t=t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.split(`
`).flatMap(n=>[n,`
`]).slice(0,-1)}var ZY=80,Gn=class{constructor(e,n,i,r,s){this.name=e;this.description=n;for(let[a,c]of Object.entries(i))this.#e.push(new Kx(a,c));for(let[a,c]of Object.entries(r))this.#t.push(new zg(a,c));this.#t.find(a=>a.name=="help")||this.#t.push(new zg("help",{type:"boolean",description:"Show help",short:"h"})),this.#n=s}#e=[];#t=[];#n;handler(e){return this.#n=e,this}handles(e){return e[0]==this.name}parse(e){let n=nQ(this);(0,Hg.default)(e[0]==this.name,`Command name mismatch: ${e[0]} != ${this.name}`);let i=n(e.slice(1)),r=[],s={_:r},o=s,a={},c=a,l=this.arguments,f=0;for(let g of i)switch(g.kind){case"option":{let p=!1,u=this.#t.find(m=>m.name==g.name);if(u||g.name.startsWith("no-")&&(u=this.#t.find(m=>m.name==g.name.slice(3)),p=!0),!u)throw new Error(`Unknown option: ${g.name}`);let d=u.name,h=iQ(g.value,u.baseType);p&&typeof h=="boolean"&&(h=!h),c[d]=u.multiple?DU(a[d],h):h}break;case"positional":{if(r.push(g.value),f>=l.length)throw new Error(`Unexpected argument: ${g.value}`);let p=l[f],u=g.value;o[p.name]=p.multiple?DU(s[p.name],u):u,f+=p.multiple?0:1}break;case"option-terminator":break}return{args:s,options:a,argv:e}}async exec(e){(0,Hg.default)(this.#n,"handler not set"),(0,Hg.default)(e[0]==this.name);let n=this.parse(e);await this.#n(n)}getArgString(){return this.#e.join(" ")}get options(){return this.#t}get arguments(){return this.#e}},Vg=class{constructor(e,n="",i=""){this.name=e;this.description=n;this.usage=i}#e=new Map;displayWidth=ZY;addCommand(...e){for(let n of e)this.#e.set(n.name,n);return this}addCommands(e){return this.addCommand(...e)}getHelp(e,n){let i=e?this.#e.get(e):void 0;if(e&&!i)throw new Error(`Unknown command: ${e}`);return n=n||this.displayWidth,i?this.#n(i,n):this.#t(n)}getApplicationHeader(e=this.displayWidth){return this.#i(e)}#t(e){let n=[];n.push(this.#i(e));let i=[...this.#e.values()].sort((o,a)=>o.name.localeCompare(a.name)),r="  ",s=i.map(o=>eQ(o)).map(o=>[r+o.cmd+" "+o.args,o.description.trim()]);return n.push("Commands:"),n.push(Wx(s,e,"  ")),n.join(`
`)}#n(e,n){let i=[],r=e.options.length?" [options]":"";i.push(`Usage: ${e.name}${r} ${e.getArgString()}`),i.push("",...Jl(e.description,n));let s="  ",o=e.arguments.map(c=>[s+c,c.description.trim()]);o.length&&(i.push(""),i.push("Arguments:"),i.push(Wx(o,n,"  ")));let a=e.options.map(c=>[s+c,c.description.trim()]);return a.length&&(i.push(""),i.push("Options:"),i.push(Wx(a,n,"  "))),i.join(`
`)}#i(e){let n=[];return n.push(this.name,""),this.description&&n.push(...Jl(this.description,e),""),this.usage&&n.push("Usage:",...Jl(this.usage,e),""),n.join(`
`)}getCommand(e){return this.#e.get(e)}parseArgs(e){let n=e[0],i=this.getCommand(n);if(!i)throw new Error(`Unknown command: ${n}`);return i.parse(e)}async exec(e,n){let i=e[0],r=this.getCommand(i);if(!r)throw new Error(`Unknown command: ${i}`);if(r.parse(e).options.help){n(this.#n(r,this.displayWidth));return}await r.exec(e)}getCommandNames(){return[...this.#e.keys()]}};function eQ(t){let e=t.getArgString();return{cmd:t.name,args:e,description:t.description}}var Kx=class{constructor(e,n){this.name=e;this.description=n.description,this.type=n.type,this.required=n.required||!1,this.multiple=this.type.endsWith("[]")}multiple;description;type;required;toString(){let e=this.multiple?"...":"",n=`${this.name}${e}`;return this.required?`<${n}>`:`[${n}]`}},zg=class{constructor(e,n){this.name=e;if(this.description=n.description,this.type=n.type,this.short=n.short||"",this.param=n.param||this.name,this.required=n.required??!0,this.baseType=tQ(this.type),this.multiple=this.type.endsWith("[]"),this.variadic=n.variadic||!1,this.variadic&&!this.multiple)throw new Error("variadic option must be multiple")}multiple;description;type;short;param;required;baseType;variadic;toString(){let e=this.short?`-${this.short}, `:"",n=this.param||this.name,i=this.variadic?"...":"",r=["boolean","boolean[]"].includes(this.type)?"":`${n}${i}`,s=r&&(this.required?` <${r}>`:` [${r}]`);return`${e}--${this.name}${s}`}};function Js(t,e,n,i){return{[t]:{type:e,description:n,required:i}}}function Yo(t,e,n,i){return{[t]:{type:e,description:n,short:i||void 0}}}function Wx(t,e,n="  "){let i=[],r=Math.max(...t.map(([s])=>s.length),0);for(let[s,o]of t){let a=Jl(o,e-r-n.length);i.push(`${s.padEnd(r)}${n}${a[0]||""}`);for(let c of a.slice(1))i.push(" ".repeat(r)+n+c)}return i.join(`
`)}function tQ(t){return t.replace("[]","")}function DU(...t){return t.flatMap(e=>e).filter(e=>e!==void 0)}function nQ(t){let e={};for(let n of t.options)e[n.name]={type:n.baseType!=="boolean"?"string":"boolean",multiple:n.multiple},n.short&&(e[n.name].short=n.short);return n=>(0,TU.parseArgs)({args:n,options:e,allowPositionals:!0,tokens:!0,strict:!1}).tokens||[]}function iQ(t,e){switch(e){case"boolean":return rQ(t??!0);case"number":return sQ(t);case"string":return typeof t=="string"?t:`${t}`}}function rQ(t){if(t!==void 0){if(typeof t=="boolean")return t;if(typeof t=="number")return!!t;if(typeof t=="string"){let e=t.toLowerCase().trim();if(["true","t","yes","y","1","ok"].includes(e))return!0;if(["false","f","no","n","0",""].includes(e))return!1}throw new Error(`Invalid boolean value: ${t}`)}}function sQ(t){let e=Number(t);if(!Number.isNaN(e))return e;throw new Error(`Invalid number value: ${t}`)}var wU=Fe(require("vscode"),1),oQ=/^.*:/;function $x(t){let e=wU.workspace.asRelativePath(t,!1);return oQ.test(e)?e:e.split("\\").join("/")}function xU(t,e){let n=typeof t=="string"?t:t.path;if(n.length>e){let i=n.split("/"),r=0,s=i.length,o="",a="",c="\u2026";n=c;let l=n.length;for(;r<s;){let f=i[r],g=i[s-1];if(o.length+f.length<=a.length+g.length){if(l+f.length+1>e)break;l+=f.length+1,o+=f+"/",r++}else{if(l+g.length+1>e)break;l+=g.length+1,a="/"+g+a,s--}}n=o+c+a,n===c&&(a=i[i.length-1],n=c+a.slice(-e+1))}return n}var aQ=60,cQ={checked:!1,issues:0},uQ={checked:!0,issues:0};async function lQ(t){let{uri:e,options:n,index:i,count:r,result:s,startTs:o,endTs:a}=t,{output:c,log:l,width:f}=n,g=dQ(i,r);c(`${g}${_t.gray(xU($x(e),Math.min(aQ,f-10-g.length)))}`);let p=await s,d=((a||performance.now())-o).toFixed(2)+"ms";if(p.skipped)return l(` ${d} Skipped`),cQ;let h=[],m=p.issues?.filter(D=>!D.isSuggestion),C=!!(p.errors||m?.length);if(h.push(` ${d}${C?_t.red(" X"):""}`),!C)return c(h.join("")+"\r"+$g(0)),uQ;if(p.errors&&h.push(`${_t.red("Errors: ")} ${p.errors}`),m)for(let D of m)h.push(fQ(e,D));return l("%s",h.join(`
`)),{checked:!0,issues:m?.length||0}}function dQ(t,e){if(typeof t>"u"||typeof e>"u")return"";let n=e.toString();return`${(t+1).toString().padStart(n.length," ")}/${n} `}function fQ(t,e){let{range:n,text:i,suggestions:r,isFlagged:s}=e,o=`:${n.start.line+1}:${n.start.character+1}`,a=s?"Flagged word":"Unknown word",c=$x(t),l=r?` fix: (${r.map(f=>_t.yellow(f.word)).join(", ")})`:"";return`  ${_t.green(c)}${_t.yellow(o)} - ${a} (${_t.red(i)})${l}`}function EU(t,e,n,i){let{forceCheck:r}=e,s=performance.now(),o=Dg({uri:t.toString()},{forceCheck:r}),a={index:n,count:i,uri:t,startTs:s,options:e,result:o};return o.finally(()=>a.endTs=performance.now()),a}var pQ=10;async function kU(t,e){let n=t.length;e.log(`Checking ${n} documents`);let i=[],r=0,s=0,o=0,a=0;try{let c=0;for(;c<pQ&&c<n;c++){let l=t[c];i.push(EU(l,e,c,n))}for(;!e.cancellationToken.isCancellationRequested;)try{let l=i.shift();if(!l)break;let f=await lQ(l);if(o+=f.issues,s+=f.issues?1:0,r+=f.checked?1:0,a+=f.checked?0:1,c<n){let g=t[c];i.push(EU(g,e,c,n)),c++}}catch(l){e.error(l);break}Promise.all(i.map(l=>l.result)).catch(l=>e.error(l)),e.log(`Checked ${r}/${n} files${a?`, skipped ${a},`:""} with ${o} issues in ${s} files.`)}catch{return}}var Xl=require("vscode");var IU=require("node:os"),_U=require("node:path/posix"),Dc=require("vscode"),Ji=Fe(require("vscode"),1);async function*FU(t,e=10){function*n(){let i=!1,r=[],s=t[Symbol.iterator]();function o(){for(;r.length<e;){let a=s.next();if(i=!!a.done,i||a.done)return;r.push(Promise.resolve(a.value()))}}for(o();!i&&r.length;)yield r[0],r.shift(),o();yield*r}for await(let i of n())yield i}var RU=require("node:os"),bc=require("vscode");function Hx(t,e){return new bc.RelativePattern(e||Qo(),t)}function Vx(t){if(t)return typeof t=="string"?t:t.length>1?`{${t.join(",")}}`:t[0]}function AU(t,e){if((t==="~"||t.startsWith("~/"))&&(e=bc.Uri.file((0,RU.homedir)()),t=t.slice(2)),!PU(t))return["",bc.Uri.joinPath(e,t)];let n=t.split("/"),i=0;for(;i<n.length&&!PU(n[i]);++i)e=bc.Uri.joinPath(e,n[i]);return[n.slice(i).join("/"),e]}function PU(t){return/[*?{}[\]]/.test(t)}function Qo(){return Ji.workspace.workspaceFolders?.[0].uri||gQ(hQ())||Dc.Uri.file(".")}function hQ(){return Ji.window.activeTextEditor?.document.uri}function gQ(t){return t&&Dc.Uri.joinPath(t,"..")}async function*NU(t,e){if(e?.isCancellationRequested)return[];let n=t.map(i=>async()=>[i,await Ji.workspace.fs.stat(i)]);for await(let i of FU(n,10)){if(e?.isCancellationRequested)break;yield i}}async function Gg(t,e,n,i,r){let s=Hx(t,e),o=await Ji.workspace.findFiles(s,n&&Hx(n,e),i,r);return r?.isCancellationRequested&&gn("globSearch cancelled"),o}function zx(t,e){return typeof t=="string"&&t.startsWith("~")&&(e=Dc.Uri.file((0,IU.homedir)()),t=t.slice(2)),typeof t=="string"?Dc.Uri.joinPath(e||Qo(),t):t||Qo()}async function LU(t,e){let n=zx(t,e);return await Ji.workspace.fs.readDirectory(n)}async function*Gx(t,e=!1,n){if(!n?.isCancellationRequested)for await(let[i,r]of await Ji.workspace.fs.readDirectory(t)){if(n?.isCancellationRequested)return;let s=e?await Ji.workspace.fs.stat(Dc.Uri.joinPath(t,i)):{type:r};yield[i,s]}}function OU(t){if(!t)return;let e=t.toString().replace(/\/$/,""),n=Ji.workspace.workspaceFolders?.find(i=>i.uri.toString()===e);return n?n.name+"/":Ji.workspace.asRelativePath(t,!0)}function MU(t,e){return(0,_U.relative)(t.path,e.path)}async function qU(t){try{return await Ji.workspace.fs.stat(t)}catch(e){return la(e)}}var mQ=t=>t;async function UU(t,e){let{log:n,dirSuffix:i="/"}=e;for await(let r of yQ(t,e.cwd,e.cancellationToken)){let[s,o]=r;if(o instanceof Error){n(Kg("Error: ")+`${Gl(s)}: No such file or directory`);continue}let c=o.type,l=c&Xl.FileType.Directory?i:"",f=c&Xl.FileType.SymbolicLink?Gl:c&Xl.FileType.Directory?Sc:mQ;s.startsWith(".")&&(f=yU(f,mU)),n(f(s+l))}}async function*yQ(t,e,n){let i=new Intl.Collator(void 0,{numeric:!0,sensitivity:"variant"});if(!t?.length){yield*Gx(e,!1,n);return}for(let r of t){if(n?.isCancellationRequested)return;let[s,o]=AU(r,e);if(!s){let a=await qU(o);if(a instanceof Error){yield[r,a];continue}if(a.type&Xl.FileType.Directory){yield*Gx(o,!1,n);continue}yield[r,a];continue}try{let a=await Gg(s,o,void 0,void 0,n);a.sort((c,l)=>i.compare(c.path,l.path));for await(let[c,l]of NU(a,n))yield[MU(e,c),l]}catch(a){yield[r,la(a)]}}}async function jU(t,e){let r=(await it("client").serverApi.spellingSuggestions(t,{uri:e.toString()})).suggestions,s=[];s.push(`Suggestions for "${t}":`),r||s.push(_t.yellow("  No suggestions"));for(let o of r){let a=o.isPreferred||o.word===t?_t.green(o.word):o.word;s.push(`  ${a}${o.isPreferred?_t.yellow("*"):""}`)}return s.join(`
`)}var JU=Fe(zU(),1);async function XU(t,e,n){let{width:i}=n,r=it("client");e=e.toString(),e.endsWith("/")||(e=e+"/");let s=await r.serverApi.traceWord({word:t,uri:e.toString(),searchAllDictionaries:!0,languageId:n.filetype,allowCompoundWords:n.allowCompoundWords});if(!s)return"No trace results";let o=[];o.push(`Trace: "${s.word}"`),s.errors&&(o.push(_t.red("Errors:")),o.push(`  ${s.errors}`));let a=JU.default.configure({maxTotalWidth:i}),c=[n.all?void 0:f=>GU(f)||f.dictEnabled,n.onlyFound?f=>GU(f):void 0,n.onlyEnabled?f=>f.dictEnabled:void 0].filter(vn),l=DQ(c);for(let f of s.traces||[]){o.push(`${f.word}: ${f.found?"":_t.yellow("Not found")}`);let p=[...f.traces].filter(l).sort((u,d)=>u.dictName.localeCompare(d.dictName)).map(u=>{let d=_t.yellow(u.dictName);return{Word:TQ(u.word,u.foundWord,u.found),F:u.forbidden?_t.red("!"):u.found?_t.whiteBright("*"):_t.dim("-"),Dictionary:u.dictEnabled?d:_t.dim(d)}});o.push(a(p))}return o.join(`
`)}function DQ(t){return e=>t.every(n=>n(e))}function TQ(t,e,n){e&&(e=e.split("+").map(_t.green).join(_t.gray("+")));let i=e||_t.green(t);return n?i:_t.dim(i)}function GU(t){return t.found||t.forbidden||t.noSuggest}var t0=Fe(require("node:stream"),1);var wQ=!1,Xi=wQ?console.debug:()=>{};function YU(t){return new Zx(t)}var xQ={ascii:!0,utf8:!0,utf16le:!0,ucs2:!0,base64:!0,base64url:!0,latin1:!0,binary:!0,hex:!0,"utf-8":!0,"ucs-2":!0,"utf-16le":!0},Zx=class extends t0.default.Writable{#e={columns:80,rows:24};constructor(e){super({write:(n,i,r)=>{let s=i in xQ?i:void 0,o=n.toString(s);Xi("write: %o",ZU(o)),e.fire(o),setTimeout(r,0)}})}get dimensions(){return this.#e}set dimensions(e){this.#e=e}clearLine(e,n){return Xi("clearLine: %o",e),this.write($g(e),n)}clearScreenDown(e){return Xi("clearScreenDown"),this.write(vU(),e)}cursorTo(e,n,i){return Xi("cursorTo: %o, %o",e,n),i=typeof n=="function"?n:i,n=typeof n=="number"?n:void 0,this.write(bU(e,n),i)}moveCursor(e,n,i){return Xi("moveCursor: %o, %o",e,n),this.write(SU(e,n),i)}getColorDepth(e){return Xi("getColorDepth"),256}hasColors(e,n){return Xi("hasColors: %o",e),typeof e!="number"||e<=256}getWindowSize(){return Xi("getWindowSize: %o",this.#e),[this.#e.columns,this.#e.rows]}get columns(){return Xi("columns: %o",this.#e.columns),this.#e.columns}get rows(){return Xi("rows: %o",this.#e.rows),this.#e.rows}get isTTY(){return Xi("isTTY"),!0}},e0=class extends t0.default.Readable{buffer=[];paused=!0;disposable;constructor(e){super({}),this.disposable=e.event(n=>{this.buffer.push(n),this.pushBuffer()})}_read(){this.paused=!1,this.pushBuffer()}_destroy(){this.disposable.dispose()}pushBuffer(){if(!this.paused)for(let e=this.buffer.shift();e!==void 0&&!this.paused;e=this.buffer.shift())Xi("read: %o",ZU(e)),this.push(e)}};function QU(t){return new e0(t)}var EQ={"\x1B":"\u241B","\n":"\u21B5","\r":"\u21A4","	":"\u21E5"," ":"\u2423"};function ZU(t){return[...t].map(e=>EQ[e]||e).join("")}var Qg=Fe(require("node:assert"),1),e2={n:`
`,r:"\r",t:"	",f:"\f",'"':'"',"'":"'"};function i0(t){return r2(n2(t))}var kQ=[" ","	",`
`,"\r"];function n2(t){let e=[],n=0,i=0,r;for(;n<t.length;){let f=t[n];switch(f){case`
`:case"\r":case"	":case" ":s(r),r=void 0,s(o(),!0);break;case"\\":if([`
`,"\r"].includes(t[n+1])){s(r),r=void 0,s(o(),!0);continue}r=(r||"")+a();break;case'"':case"'":case"`":s(r),r=void 0,s(l(),!1,f);break;default:r=(r||"")+f,++n;break}}return s(r),e;function s(f,g=!1,p=""){f!==void 0&&(e.push({i:n,value:f,original:t.slice(i,n),quote:p,separator:g}),i=n)}function o(){let f=t[n++];for(;n<t.length&&kQ.includes(t[n]);n++)f+=t[n];return f}function a(){return(0,Qg.default)(t[n]==="\\"),++n,n>=t.length?"\\":t[n++]}function c(){if(n>=t.length)return"\\";let f=t[n++];return f===`
`||f==="\r"?(f==="\r"&&t[n]===`
`&&++n,""):f in e2?e2[f]:"\\"+f}function l(){let f=t[n++],g="";for(;n<t.length;){let p=t[n++];if(p==="\\")g+=c();else{if(p===f)return g;g+=p}}return g}}var i2={"\n":"\\n","\r":"\\r","	":"\\t","\f":"\\f","\\":"\\\\"},FQ=[" ","&",";","|","<",">","`",'"',"'","\\"],PQ=Object.fromEntries(FQ.map(t=>[t,"\\"+t])),RQ={...i2,...PQ};function r2(t){return s2(t).map(n=>n.arg)}function s2(t){let e=[],n;for(let[i,r]of t.entries()){if(r.separator){n!==void 0&&(e.push(n),n=void 0);continue}if(!n){n={arg:r.value,startTokenIndex:i,tokens:[r]};continue}n.arg+=r.value,n.tokens.push(r)}return n!==void 0&&e.push(n),e}function o2(t){return new n0(n2(t))}var n0=class t{constructor(e=[]){this.tokens=e}get line(){return this.tokens.map(e=>e.original).join("")}get args(){return r2(this.tokens)}setArg(e,n,i){let s=s2(this.tokens)[e];(0,Qg.default)(s,"Invalid index"),i??=s.tokens[0].quote,this.tokens.splice(s.startTokenIndex,s.tokens.length,{value:n,original:t2(n,i),quote:i,separator:!1})}pushArg(e,n=""){let i={value:e,original:t2(e,n),quote:n,separator:!1},r=this.tokens[this.tokens.length-1];r&&!r.separator&&this.pushSeparator(),this.tokens.push(i)}hasTrailingSeparator(){return this.tokens[this.tokens.length-1]?.separator||!1}pushSeparator(e=" "){this.tokens.push({value:e,original:e,quote:"",separator:!0})}clone(){return new t([...this.tokens])}};function t2(t,e=""){return t?e?AQ(t,e):IQ(t):e+e||'""'}function AQ(t,e){(0,Qg.default)(e==='"'||e==="'","Invalid quote");let n="";for(let i of t){let r=i2[i]||i;r===e?n+="\\"+e:n+=r}return e+n+e}function IQ(t){if(!t)return'""';let e="";for(let n of t)e+=RQ[n]||n;return e}var _Q=80;function o0(){let t=new Zg;Nt.window.createTerminal({name:"Spell Checker REPL",pty:t}).show()}function a0(){return Nt.window.registerTerminalProfileProvider("cSpell.terminal-profile",{provideTerminalProfile:()=>new Nt.TerminalProfile({name:"Spell Checker REPL",pty:new Zg})})}var Zg=class{#e=new Nt.EventEmitter;#t=new Nt.EventEmitter;#n=new Nt.EventEmitter;onDidWrite=this.#t.event;onDidClose=this.#n.event;handleInput=e=>this.#e.fire(e);#i=YU(this.#t);#r=QU(this.#e);#s=e=>this.#t.fire(e);#l=new AbortController;#d={signal:this.#l.signal};#o=Qo();#a;#c;#f=!1;#u;#p;open(e){gn("Repl.open"),(0,r0.default)(!this.#c,"Repl already open"),(0,r0.default)(!this.#f,"Repl already closed"),e&&(this.#u=e,this.#i.dimensions=e),this.#c=a2.default.createInterface({input:this.#r,output:this.#i,completer:this.completer,terminal:!0});let n=this.#c;n.on("SIGTSTP",()=>{}),n.on("SIGINT",this.#I),n.on("close",()=>(gn("rl close"),this.close())),n.on("line",this.#b),this.#u=e,e&&(this.log("CSpell REPL"),this.log('Type "help" or "?" for help.'),this.#C())}setDimensions(e){this.#u=e,this.#i.dimensions=e,gn("Repl.setDimensions %o",e),this.#v()}dispose=()=>{gn("Repl.dispose"),this.close()};#b=e=>{e=e.trim(),gn("Repl.processLine %o",{line:e,args:i0(e)});let n=async()=>{if(!e)return;if(e==="?"){this.showHelp();return}let i=i0(e);return this.#h().exec(i,this.log)};this.#C(n())};#h(){if(this.#p)return this.#p;let e=new Vg("CSpell REPL"),n=new Gn("check","Spell check the files matching the globs.",{...Js("globs","string[]","File glob patterns.")},{},h=>this.#D(h.args.globs)),i=new Gn("echo","Echo the values.",{...Js("values","string[]","Echo the values to the console.")},{},h=>this.#T(h.args.values)),r=new Gn("trace","Trace which dictionaries contain the word.",{...Js("word","string","The word to trace.",!0)},{...Yo("all","boolean","Show all dictionaries.",""),...Yo("only-found","boolean","Show only found dictionaries.","f"),...Yo("only-enabled","boolean","Show only enabled dictionaries.",""),...Yo("filetype","string","The file type to use. Example: `python`","t"),...Yo("allow-compound-words","boolean","Allow compound words.","")},h=>this.#F(h.args,h.options)),s=new Gn("suggestions","Generate suggestions for a word.",{...Js("word","string","The word to make suggestions.",!0)},{...Yo("max","number","The maximum number of suggestions to generate.","")},h=>this.#A(h.args.word,h.options)),o=new Gn("pwd","Print the current working directory.",{},{},()=>this.#S()),a=new Gn("cd","Change the current working directory.",{...Js("path","string","The path to change to.")},{},h=>this.#R(h.args.path)),c=new Gn("ls","List the directory contents.",{...Js("paths","string[]","The paths to list.")},{},h=>this.#P(h.args)),l=new Gn("env","Show environment variables.",{...Js("filter","string[]","Optional filter.")},{},h=>this.#k(h.args.filter)),f=new Gn("exit","Exit the REPL.",{},{},()=>{this.log("Exiting..."),this.close()}),g=new Gn("help","Show help.",{command:{type:"string",description:"Show Help",required:!1}},{},h=>this.showHelp(h.args.command)),p=new Gn("cls","Clear the screen.",{},{},()=>this.#s(CU())),u=new Gn("info","Show information about the REPL.",{},{},()=>{this.log("CSpell REPL"),this.log('Type "help" or "?" for help.'),this.log("Working Directory: %s",Sc(this.#o.toString(!0))),this.log("Dimensions: %o",this.#u)}),d=[n,i,r,o,a,c,l,f,g,p,u,s];return e.addCommands(d),this.#p=e,e}showHelp(e){this.log(this.#h().getHelp(e))}#C(e){(async()=>{try{if(await e,e)this.#a?.dispose(),this.#a=void 0;else if(this.#a)return}catch(i){i instanceof Error&&this.error(i.message)}if(this.#v(),this.#c?.prompt(),this.#c){let{cursor:i,line:r,terminal:s}=this.#c;gn("cursor pos: %o",{cursorPos:this.#c.getCursorPos(),dim:this.#u,cursor:i,line:r,terminal:s})}})()}#v(){this.#c?.setPrompt(`cspell ${Sc(OU(Nt.Uri.joinPath(this.#o,"/"))||"")} > `)}async#D(e){gn("Repl.cmdCheck");let{log:n,error:i}=this,r=this.#s,s=Vx(e);if(s||(s=await this.#c?.question("File glob pattern: ",this.#d)),!s)return;r(Bx()+"Gathering Files...");let o=Nt.workspace.getConfiguration("search.exclude"),a=Object.keys(o).filter(f=>o[f]===!0),c=Vx(a),l=await Gg(s,this.#o||Qo(),c,void 0,this.#y());n(Bx()+"Checking..."),await kU(l,{log:n,error:i,output:r,cancellationToken:this.#y(),width:this.width})}async#T(e){gn("Repl.cmdEcho"),this.log((e||[]).join(" "))}getCommandNames(){return this.#h().getCommandNames().sort()}completer=async e=>{let n=this.getCommandNames();if(!e.trim())return[n,""];let i=o2(e),r=i.args;if(r.length===1&&e===r[0])return[this.#m(e,n).map(f=>f+" "),e];let s=r[0],o=i.hasTrailingSeparator()?0:r.length-1,a=o?r[o]:"";return[(await this.#w(s,a,r)).map(f=>{let g=i.clone();return o?g.setArg(o,f):g.pushArg(f),g.line}).filter(f=>f.startsWith(e)),e]};#w=async(e,n,i)=>{switch(console.error("Repl.cmdCompletion %o",{command:e,current:n}),e){case"check":return this.#x(n);case"cd":return this.#E(n,i);case"ls":return this.#g(n,!1);case"help":return this.#m(n,this.getCommandNames())}return[]};#x=async e=>this.#g(e,!1);#E=async(e,n)=>n.length>2||n.length===2&&n[1]!==e?[]:this.#g(e,!0);#g=async(e,n)=>{try{let i=await this.readDirEntryNames(e,n?Nt.FileType.Directory:void 0);return this.#m(e,i.map(r=>r.startsWith("-")?`./${r}`:r))}catch{return[]}};#m=(e,n)=>{let i=n.filter(s=>s.startsWith(e)),r=LQ(i);return r&&r!==e?[r]:i};#S(){gn("Repl.cmdPwd"),this.log(this.#o?.toString(!1)||"No Working Directory")}#k(e){gn("Repl.cmdEnv"),this.log("Environment:");let n=Object.entries(process.env).filter(([i])=>!e||e.find(r=>i.toLowerCase().includes(r))).sort((i,r)=>i[0].localeCompare(r[0]));for(let[i,r]of n)this.log(`${Sc(i)}${Gl("=")}${r}`)}async#F(e,n){gn("Repl.cmdTrace %o",e);let{word:i}=e;if(!i){this.log("No word specified.");return}let r=await XU(i,this.#o,{...(0,c2.default)(n),width:this.width});this.log("%s",r)}get width(){return this.#u?.columns||_Q}async#P(e){gn("Repl.cmdLs %o",e),await UU(e.paths,{log:this.log,cwd:this.#o,cancellationToken:this.#y()})}async readDir(e){return LU(e,this.#o)}async readDirEntryNames(e,n){let i=e.split("/").slice(0,-1).join("/"),r=n?([,c])=>c&n:()=>!0,s=i?[]:[["..",Nt.FileType.Directory]],o=i?i+"/":"";return[...s,...(await this.readDir(i)).map(([c,l])=>[o+c,l])].filter(r).map(([c,l])=>c+(l&Nt.FileType.Directory?"/":""))}async#R(e){if(!e)return this.#S();try{let n=zx(e,this.#o);if((await Nt.workspace.fs.stat(n)).type&Nt.FileType.Directory)this.#o=n;else throw Nt.FileSystemError.FileNotADirectory(n)}catch(n){if(n instanceof Nt.FileSystemError){this.log(`"${e}" is not a valid directory.`);return}this.log("Error: %o",n)}}async#A(e,n){if(!e)return;let i=await jU(e,this.#o);this.log("%s",i)}close=()=>{gn("Repl.close"),!this.#f&&(this.#f=!0,this.#a?.cancel(),this.#l.abort(),this.#c?.close(),this.#r.destroy(),this.#i.destroy(),this.#n.fire(),this.#a?.dispose(),this.#a=void 0)};log=(...e)=>this.#s(jx((0,s0.formatWithOptions)({colors:!0},...e)+`
`));error=(...e)=>this.#s(Kg("Error: ")+jx((0,s0.formatWithOptions)({colors:!0},...e)+`
`));#I=()=>this.#a?.cancel();#_(){return this.#N().token}#y(){return this.#a?.token||this.#_()}#N(){this.#a?.dispose();let e=NQ(this.#l);return this.#a=e,e}};function NQ(t){let e=new Nt.CancellationTokenSource;return t.signal.onabort=()=>e.cancel(),e}function LQ(t){if(!t.length)return"";let e=t[0];for(let n of t){let i=0;for(;i<e.length&&i<n.length&&e[i]===n[i];++i);if(e=e.slice(0,i),!e)return e}return e}var Zo=Fe(require("vscode"),1);var OQ=!0,MQ={command:di["cspell.showActionsMenu"],title:"menu"};function u2(t){let e=tt();if(!OQ)return e;let n=new Map,i,r,s;return e.push(Zo.default.window.onDidChangeActiveTextEditor(l)),e.push(Zo.default.workspace.onDidChangeConfiguration(g=>{g.affectsConfiguration($t)&&l()})),e.push(Jm().onDidChangeDiagnostics(()=>c())),e.push(t.onDidChangeVisibility(()=>c(!1))),c(),e;function o(g){let p=so(n,g,u=>Zo.default.languages.createLanguageStatusItem(u,{language:"*"}));return e.add(p),p}function a(g){let{enabled:p,fileEnabled:u,languageIdEnabled:d,languageId:h=""}=g||{},m=p&&u&&d,C=Zo.default.window.activeTextEditor?.document,w=(C?Jm().getSpellingIssues(C.uri):void 0)?.getStats()||{},k=[],I=w.spelling||0,B=w.flagged||0,W=I-B;m===void 0&&k.push("$(repo-sync)"),m===!1&&k.push("$(exclude)"),m&&!t.areIssuesVisible()&&k.push("$(eye-closed)"),m&&!I&&k.push("$(check)"),m&&B&&k.push(`$(error) ${B}`),m&&W&&k.push(`$(warning) ${W}`);let ie=`${k.join(" ")} Spell`,ne=[];if(m===!1&&ne.push("- Spell checking is NOT enabled for this file."),d===!1&&ne.push(`- File Type: \`${h}\` is NOT enabled.`),g?.fileIsExcluded){let N=[];g.excludedBy?.forEach($=>N.push(`- Excluded by ${$.name}`)),ne.push(...N)}let H=ne.length?ne.join(`
`):void 0;f(ie,H)}function c(g=!0){if(g){let p=Zo.default.window.activeTextEditor?.document;p!==s&&(s=p,r=void 0),rt(p?lo().isSpellCheckEnabled(p):Promise.resolve(void 0),"Language Status").then(u=>a(r=u))}a(r)}function l(){i&&clearTimeout(i),i=setTimeout(()=>{i=void 0,c()},100)}function f(g,p){let d=o("cspell-issues");Yl(d,"name","Issues"),Yl(d,"severity",Zo.default.LanguageStatusSeverity.Information),Yl(d,"text",g),Yl(d,"detail",p),Yl(d,"command",MQ)}}function Yl(t,e,n){t[e]!==n&&(t[e]=n)}var Im=require("vscode"),_j=Fe(ed(),1);function l0(t){let e;return new Promise((n,i)=>{let r=!1;e=t.subscribe(s=>{if(!r){r=!0;try{n(s)}finally{ln(e)}}})})}var ki;(function(t){t[t.none=0]="none",t[t.debug=1]="debug",t[t.log=2]="log",t[t.info=4]="info",t[t.warn=8]="warn",t[t.error=16]="error",t[t.everything=31]="everything"})(ki||(ki={}));var td;(function(t){t[t.none=0]="none",t[t.debug=1]="debug",t[t.log=2]="log",t[t.info=3]="info",t[t.warn=4]="warn",t[t.error=5]="error"})(td||(td={}));var d0=class{logger;logLevelMask=0;constructor(e,n){this.logger=e,this.logLevelMask=ZQ(n)}log=this.bindLogger("log",ki.log);error=this.bindLogger("error",ki.error);warn=this.bindLogger("warn",ki.warn);info=this.bindLogger("info",ki.info);debug=this.bindLogger("debug",ki.debug);enableLog=this.bindEnable("log");enableError=this.bindEnable("error");enableWarn=this.bindEnable("warn");enableInfo=this.bindEnable("info");enableDebug=this.bindEnable("debug");isMethodEnabled(e){return!!(ki[e]&this.logLevelMask)}setLogger(e){return this.logger=e,this}enableMethod(e,n=!0){let i=ki[e];return n?this.logLevelMask|=i:this.logLevelMask&=~i,this}setLogLevelMask(e){return this.logLevelMask=e,this}bindLogger(e,n){return(...i)=>this.logLevelMask&n&&this.logger[e](...i)||void 0}bindEnable(e){return n=>this.enableMethod(e,n)}};function ZQ(t){return t?ki.everything&ki.everything<<t-1:0}function A2(t=console,e=td.log){return new d0(t,e)}var ta=require("vscode");var ns=Fe(require("vscode"),1),nd=require("vscode");function I2(t){return e=>e===void 0?t:e}function f0(t){return e=>e===void 0?void 0:t(e)}function _2(t){if(arguments.length>1){let e=[...arguments].slice(1),n=t;for(let i of e)n=i(n);return n}return t}async function M2(t,e,n,i){let r=e||aZ(t?.uri),s=gw(r),o=await n.getConfigurationForDocument(t,{enabledFileTypes:!0,enabledLanguageIds:!0,enableFiletypes:!0,dictionaries:!0,dictionaryDefinitions:!0,languageSettings:!0,language:!0});return{knownLanguageIds:[...n.languageIds].sort(),dictionaries:U2(o.settings),configs:tZ(s,o,t,i),workspace:mZ(n.allowedSchemas,ns.workspace),activeFileUri:t?.uri.toString(),activeFolderUri:r?.toString()}}var N2={defaultValue:"default",globalValue:"user",workspaceValue:"workspace",workspaceFolderValue:"folder"},q2=["defaultValue","globalValue","workspaceValue","workspaceFolderValue"],eZ=new Map(q2.map((t,e)=>[t,e]));function tZ(t,e,n,i){return{user:p0(1,t),workspace:p0(2,t),folder:p0(3,t),file:rZ(e,n,i)}}function L2(t){return eZ.get(t)||0}function nZ(t,e){return L2(t)>L2(e)?t:e}function sm(t,e,n){for(let i=t;i>0;--i){let r=q2[i],s=n[r];if(s&&s[e])return r}return"defaultValue"}function p0(t,e){let n=sm(t,"language",e),i=sm(t,Be.enabledLanguageIds,e),r=sm(t,Be.enableFiletypes,e),s=sm(t,Be.enabledFileTypes,e),o=CZ(e[i],e[r],e[s]),a=nZ(i,r);return{inherited:{locales:N2[n],languageIdsEnabled:N2[a]},locales:h0(e[n]?.language),languageIdsEnabled:o}}function iZ(t){if(t)return t.map(e=>({...e,name:e.name||e.configUri&&Ai(Xe(e.configUri))}))}function rZ(t,e,n){if(!e)return;let{uri:i,fileName:r,languageId:s,isUntitled:o}=e,{enabled:a,enabledVSCode:c,languageIdEnabled:l,docSettings:f,fileEnabled:g,fileIsExcluded:p,fileIsIncluded:u,gitignoreInfo:d,excludedBy:h,uriUsed:m,workspaceFolderUri:C}=t,D=new Set(f&&f.dictionaries||[]),w=U2(f).filter(j=>D.has(j.name)),k=m?nd.Uri.parse(m):i,I=C&&ns.workspace.getWorkspaceFolder(nd.Uri.parse(C))||ns.workspace.getWorkspaceFolder(k);function B(){if(!d)return;let{glob:j,gitIgnoreFile:ie,line:ne,matched:H,root:N}=d,$=nd.Uri.parse(ie);return{matched:H,glob:j,line:ne,root:N,gitignoreFileUri:ie,gitignoreName:Ai($)}}return{enabled:a,enabledVSCode:c,uri:i.toString(),uriActual:k.toString(),fileName:r,name:k.path.split("/").slice(-1)[0],isUntitled:o,locales:h0(f?.language),languageId:s,dictionaries:w,languageIdEnabled:l,fileEnabled:g,configFiles:lZ(t),fileIsExcluded:p,fileIsIncluded:u,fileIsInWorkspace:!!I||!!C||o,excludedBy:iZ(h),gitignoreInfo:B(),blockedReason:t.blockedReason,workspaceFolder:sZ(I)}}function sZ(t){if(t)return{uri:t.uri.toString(),name:t.name,index:t.index}}function oZ(){return ns.workspace.workspaceFolders?.[0]}function aZ(t){return t&&ns.workspace.getWorkspaceFolder(t)?.uri||oZ()?.uri}function cZ(t){return ns.workspace.asRelativePath(t,!0)}function uZ(t){return t.scheme==="file"||ns.workspace.getWorkspaceFolder(t)?ns.workspace.asRelativePath(t,!0):t.toString(!0)}function lZ(t){let{configFiles:e,configTargets:n}=t,i=n.filter(dZ).map(({name:s,configUri:o})=>({name:s,uri:o}));return i.length?i:e.map(s=>({name:Ai(Xe(s)),uri:s}))}function dZ(t){return t.kind==="cspell"}var fZ=/\.txt$/,pZ=/(?:@|%40)cspell\//;function U2(t){if(!t)return[];let e=t.dictionaryDefinitions||[],n=new Map(e.map(hZ).map(r=>[r.name,r]));return(t.languageSettings||[]).forEach(r=>{let s=h0(r.locale||r.local),o=j2(r.languageId);(r.dictionaries||[]).forEach(c=>{let l=n.get(c);l&&(l.locales=O2(l.locales,s),l.languageIds=O2(l.languageIds,o))})}),[...n.values()]}function hZ(t){let e=gZ(t),n=e?.toString(),i=n&&(t.addWords||fZ.test(n)&&!pZ.test(n));return{name:t.name,locales:[],languageIds:[],description:t.description,uri:i?n:void 0,uriName:i&&e?uZ(e):void 0}}function gZ(t){if(!(!t.path&&!t.file))return nd.Uri.joinPath(Xe(t.path||""),t.file||"")}function h0(t){return j2(t)}function j2(t){return _2(t,f0(e=>typeof e=="string"?e:e.join(",")),f0(e=>e.replace(/\*/g,"").split(/[,;]/).map(n=>n.trim()).filter(n=>!!n)),I2([]))}function O2(t,e){return t.concat(e).filter(co())}function mZ(t,e){function n(c){let{name:l,index:f}=c;return{uri:c.uri.toString(),name:l,index:f}}function i(c){let{fileName:l,languageId:f,isUntitled:g}=c;return{uri:c.uri.toString(),fileName:cZ(l),languageId:f,isUntitled:g}}let{name:r,workspaceFolders:s,textDocuments:o}=e;return{name:r,workspaceFolders:s?s.map(n):void 0,textDocuments:o.filter(c=>t.has(c.uri.scheme)).map(i)}}function yZ(...t){let e={};return t.reduce((n,i)=>Dd(i,n),e)}function CZ(...t){let e=yZ(...t.filter(vn));return Object.entries(e).filter(([,n])=>n).map(([n])=>n)}var K2=Fe(W2());function m0(t){return new g0(t)}var g0=class extends Gs{_value;constructor(e){super(),this._value=e}get value(){return this._value}set value(e){this.set(e)}set(e){this._value===e||(0,K2.default)(this._value,e)||(this._value=e,this.notify(e))}subscribe(e){let n=super.subscribe(e);return mc(e)(this._value),n}update(e){return this.set(e(this._value))}};var hr=require("vscode"),V2=Fe(ed(),1);var $2=[{uuid:1,done:!1,text:"finish Svelte tutorial"},{uuid:2,done:!1,text:"build an app"},{uuid:3,done:!1,text:"world domination"}];function y0(t){return SZ(t,Zs())}var vZ={...console},z2=A2(vZ,td.none);function Fc(){return z2}function SZ(t,e){let n,i=new Set,r=tt([()=>ln(n)],"bindApiAndStore"),s=r.dispose,a=(0,V2.createServerSideSpellInfoWebviewApi)(t,{serverRequests:{whatTimeIsIt:l,getLogDebug:()=>e.state.logDebug.value,getTodos:()=>H2(e.state.todos),getCurrentDocument:()=>H2(e.state.currentDocument),getDocSettings:C0,updateEnabledFileTypes:g=>$s(g.enabledFileTypes,g.url),setLogDebug:g=>e.state.logDebug.value=g,setTodos:g=>bZ(g,e.state.todos),watchFields:c,resetTodos:f},serverNotifications:{async showInformationMessage(g){await hr.window.showInformationMessage("Show Message: "+g)},async openTextDocument(g,p){if(!g)return;let u=hr.Uri.parse(g),d=await hr.window.showTextDocument(u);if(p){let{line:h,column:m=1}=p;if(h){let C=new hr.Position(h-1,m-1),D=new hr.Range(C,C);d.revealRange(D),d.selection=new hr.Selection(D.start,D.end)}}}},clientRequests:{},clientNotifications:{onStateChange:!0}},z2);return r.push(ss(a)),uo({...a},s,"bindApiAndStore");function c(g){ln(n),g.forEach(p=>i.add(p)),n=G2(i,p=>{a.clientNotification.onStateChange(p)})}function l(){return new Date().toString()}function f(){return v0(void 0,$2.map(g=>({...g})),e.state.todos)}}function bZ(t,e){return v0(t.seq,t.value,e)}function H2(t){return DZ(l0(t))}async function DZ(t){let e=await t;return TZ(e)}function TZ(t){return{seq:Zs().seq,value:t}}var wZ=!1;wZ&&Fc().setLogLevelMask(ki.everything);var id;function Zs(){if(id)return id;let t=Ul(xZ),e=Jo(t,ql(500),Cx);function n(){ln(t);let s=id;id=void 0,s&&Object.values(s.state).forEach(o=>ln(o))}let i={logDebug:m0(Fc().isMethodEnabled("debug")),todos:m0([])};return id=uo({seq:1,state:{...i,currentDocument:e}},n,"getWebviewGlobalStore")}function xZ(t){let e=mc(t),n=[],i=Sd(n);return r(ta.window.activeTextEditor),n.push(X2(ta.window.onDidChangeActiveTextEditor(r,void 0))),n.push(X2(ta.window.onDidChangeTextEditorSelection(s=>s.textEditor===ta.window.activeTextEditor&&r(s.textEditor),void 0))),i;function r(s){if(!s)return;let o=s.document,a={url:o.uri.toString(),version:o.version};e(a)}}async function C0(t){let e=t&&EZ(t)||void 0,n=$c();return M2(e,void 0,n.client,console.log)}function v0(t,e,n){let i=Zs();return t&&t!==i.seq?{seq:i.seq,value:n.value,success:!1}:(i.seq++,n.set(e),{seq:i.seq,value:n.value,success:!0})}function G2(t,e){let n=Zs(),r=[...t].map(s=>({field:s,sub:n.state[s]})).map(s=>s.sub.subscribe(()=>e([s.field])));return Sd(r)}function EZ(t){for(let e of ta.workspace.textDocuments)if(!kZ(e.uri,t))return e}function kZ(t,e){let n=J2(t),i=J2(e);return n===i?0:n<i?-1:1}function J2(t){return decodeURIComponent(decodeURIComponent(t.toString())).normalize("NFC").replace(/^file:\/\/\/[a-z]:/i,n=>n.toLowerCase())}function X2(t){return Kn(()=>t.dispose(),void 0,"disposeClassic")}var ld=require("vscode");var Aj=Fe(ed(),1);var _E=require("vscode");var Mc=Fe(Fj(),1),RE=class extends Mc.AbstractMessageReader{webview;logger;constructor(e,n){super(),this.webview=e,this.logger=n}listen(e){return this.logger?.debug("start listening"),this.webview.onDidReceiveMessage(n=>{this.logger?.debug("listen: %o",n),e(n)})}},AE=class extends Mc.AbstractMessageWriter{webview;logger;errorCount;constructor(e,n){super(),this.webview=e,this.logger=n,this.errorCount=0}async write(e){try{await this.webview.postMessage(e),this.errorCount=0}catch(n){return this.handleError(n,e),Promise.reject(n)}}handleError(e,n){this.errorCount++,this.fireError(e,n,this.errorCount)}end(){}};function IE(t,e){return(0,Mc.createMessageConnection)(new RE(t,e),new AE(t,e),e)}function Pj(){let t="",e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let n=0;n<32;n++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}var Rj=require("vscode");function km(t,e,...n){return t.asWebviewUri(Rj.Uri.joinPath(e,...n))}var ro=class t{constructor(e,n,i){this.webview=e;this.extensionUri=n;this.viewName=i;e.options=this.calcOptions(),e.html=this._getWebviewContent();let r=IE(e,Fc());this._disposables.push(ss(y0(r),"createApi")),r.listen(),this._disposables.push(ss(r,"rpc"))}_disposables=tt(void 0,"AppView");dispose=this._disposables.dispose;calcOptions(){let e=this.extensionUri;return{enableScripts:!0,localResourceRoots:[_E.Uri.joinPath(e,"out"),_E.Uri.joinPath(e,"packages/webview-ui/public")]}}_getWebviewContent(){let{webview:e,extensionUri:n,viewName:i}=this,r=km(e,n,"packages/webview-ui/public/build/bundle.css"),s=km(e,n,"packages/webview-ui/public/assets/css/codicon.css"),o=km(e,n,"packages/webview-ui/public/build/bundle.js"),a=Pj();return`
      <!DOCTYPE html>
      <html lang="en">
        <head>
          <title>Hello World</title>
          <meta charset="UTF-8" />
          <meta name="viewport" content="width=device-width, initial-scale=1.0" />
          <meta http-equiv="Content-Security-Policy" content="
            default-src 'none';
            font-src ${e.cspSource};
            style-src 'nonce-${a}';
            style-src-elem 'nonce-${a}';
            script-src 'nonce-${a}';
          ">
          <meta property="csp-nonce" content="${a}" />
          <meta property="view-name" content="${i}" />
          <link rel="stylesheet" type="text/css" nonce="${a}" href="${r}">
          <link rel="stylesheet" type="text/css" nonce="${a}" href="${s}">
          <script nonce="${a}">
            var process = { env: { NODE_ENV: 'production' } };
          </script>
          <script defer nonce="${a}" src="${o}"></script>
        </head>
        <body>
        </body>
      </html>
    `}static bindView(e,n,i){return new t(e,n,i)}};var Fm=class{static bindView(e,n){return new ro(e,n,Aj.supportedViewsByName["hello-world"])}};var dd=class t{static currentPanel;_panel;_disposables=tt(void 0,"HelloWorldPanel");constructor(e,n){this._panel=e,this._disposables.push(this._panel),this._disposables.push(this._panel.onDidDispose(()=>this.dispose())),this._disposables.push(Fm.bindView(this._panel.webview,n))}static render(e){if(t.currentPanel){t.currentPanel._panel.reveal(ld.ViewColumn.One);return}let n=ld.window.createWebviewPanel("showHelloWorld","Hello World",ld.ViewColumn.One,{});t.currentPanel=new t(n,e)}dispose(){t.currentPanel===this&&(t.currentPanel=void 0),this._disposables.dispose()}};var Ij=Fe(ed(),1);var Pm=class{static bindView(e,n){return new ro(e,n,Ij.supportedViewsByName.todo)}};var Rm=class{constructor(e){this.extensionUri=e}viewType="cspell-info.todoView";_view;resolveWebviewView(e,n,i){this._view=e;let r=Pm.bindView(e.webview,this.extensionUri);this._view.onDidDispose(()=>r.dispose())}};var Am=class{constructor(e,n,i){this.extensionUri=e;this.viewName=n;this.viewType=i}_view;resolveWebviewView(e,n,i){this._view=e;let r=ro.bindView(e.webview,this.extensionUri,this.viewName);this._view.onDidDispose(()=>r.dispose())}};var Nj=["cspell-info.showHelloWorld"],cee=Object.fromEntries(Nj.map(t=>[t,t]));function NE(t){let{subscriptions:e,extensionUri:n}=t,i=[new Rm(n),new Am(n,_j.supportedViewsByName["cspell-info"],"cSpellInfoView")];for(let s of i)e.push(Im.window.registerWebviewViewProvider(s.viewType,s));let r=Im.commands.registerCommand(cee["cspell-info.showHelloWorld"],()=>{dd.render(t.extensionUri)});e.push(r,{dispose:()=>dd.currentPanel?.dispose()}),e.push(Zs())}Yt.mark("cspell_done_import");var Oj=!1,fd;iU();function uee(t){try{Yt.mark("cspell_activate_start"),Hc("extensionContext",t);let e=jw(t.globalStorageUri);Hc("eventLogger",e),e.logActivate(),qj();let n=new Ot.EventEmitter,i=new Promise(r=>n.event(r));return Yt.mark("activateIssueViewer"),_x(t,i),Yt.mark("activateFileIssuesViewer"),kx(t,i),Yt.mark("start_async_activate"),lee({context:t,eIssueTracker:n}).catch(r=>{throw Lj(r)})}catch(e){throw Lj(e)}}function Lj(t){return new Error(`Failed to activate: (${Yt.getLastEventName()}) ${t}`,{cause:t})}async function lee(t){let{context:e,eIssueTracker:n}=t,i=Ot.window.createOutputChannel("Code Spell Checker",{log:!0}),r=dee(i);Yt.mark("create client");let s=await Kh.create(e);if(e.subscriptions.push(s,i,r),Hc("client",s),Oj){let $=Ot.Uri.joinPath(e.globalStorageUri,"data.json");console.log('Extension "Code Spell Checker" is now active! %o',{extensionUri:e.extensionUri.toJSON(),globalStorageUri:e.globalStorageUri.toJSON(),dataFileUri:$.toJSON(),dataFileDirUri:Ot.Uri.joinPath($,"..").toJSON(),workspaceState:e.workspaceState.keys(),globalState:e.globalState.keys()})}Yt.mark("ExtensionRegEx.activate"),Xq(e,s),Yt.mark("start client"),await s.start(),Yt.mark("start IssueTracker");let o=new _g(s);Hc("issueTracker",o),n.fire(o),n.dispose();function a($=0){setTimeout(c,$)}function c(){po(s.triggerSettingsRefresh(),"triggerGetSettings").then(()=>{}).catch(()=>{})}function l($){gi.log(`Configuration Change: ${$.toString()}`),fd=void 0,a()}Yt.mark("createConfigWatcher");let f=Lq(),g=new Ml(e,o),p=new jl(e,s),u={"cSpell.toggleTraceMode":()=>p.toggleVisible(),"cSpell.toggleVisible":()=>g.toggleVisible(),"cSpell.show":()=>g.visible=!0,"cSpell.hide":()=>g.visible=!1,"cSpell.createCSpellTerminal":o0};Yt.mark("register"),e.subscriptions.push(o,f,f.onDidChangeConfig(l),Ot.workspace.onDidSaveTextDocument(h),Ot.workspace.onDidRenameFiles(m),Ot.workspace.onDidDeleteFiles(C),Ot.workspace.onDidCreateFiles(D),Ot.workspace.onDidOpenTextDocument(w),Ot.workspace.onDidChangeConfiguration(k),Ot.window.onDidChangeActiveTextEditor(I),Ot.window.onDidChangeVisibleTextEditors(B),o.onDidChangeDiagnostics(W),g,p,_q(o),ZM(g.visible,g.onDidChangeVisibility),a0(),...xq(u),Ot.workspace.onDidChangeConfiguration(d),u2({areIssuesVisible:()=>g.visible,onDidChangeVisibility:g.onDidChangeVisibility}),Fq({areIssuesVisible:()=>g.visible}),s.onBlockFile(fee)),Yt.mark("registerCspellInlineCompletionProviders"),await Aq(e.subscriptions).catch(()=>{});function d($){$.affectsConfiguration(wi)&&a()}function h($){j([$.uri])}function m($){let te=$.files.map(K=>K.newUri).concat($.files.map(K=>K.oldUri));j(te)}function C($){j($.files)}function D($){j($.files)}function w($){}function k($){$.affectsConfiguration(IM("logLevel"))&&qj()}function I($){dn(dc(s,$?.document),"handleOnDidChangeActiveTextEditor")}function B($){dn(dc(s,Ot.window.activeTextEditor?.document),"handleOnDidChangeVisibleTextEditors")}function W($){let te=Ot.window.activeTextEditor;if(!te)return;new Set($.uris.map(G=>G.toString())).has(te.document.uri.toString())&&setTimeout(()=>{dn(dc(s,te.document),"handleOnDidChangeDiagnostics")},10)}function j($){for(let te of $)if(Fv.has(Cr.basename(te))){a();break}}function ie($){s.registerConfiguration($)}let ne={enableLocale:($,te)=>ox($,te,!0),disableLocale:($,te)=>ox($,te,!1)},H=($,te)=>s.getConfigurationForDocument($,te);Yt.mark("setup Extension API");let N={registerConfig:ie,triggerGetSettings:a,enableLanguageId:rx,disableLanguageId:sx,enableCurrentFileType:Nl,disableCurrentFileType:Ll,addWordToUserDictionary:Ad,addWordToWorkspaceDictionary:Rd,enableLocale:ne.enableLocale,disableLocale:ne.disableLocale,updateSettings:()=>!1,cSpellClient:()=>s,getConfigurationForDocument:H,checkDocument:Dg,enableLocal:ne.enableLocale,disableLocal:ne.disableLocale,enableCurrentLanguage:Nl,disableCurrentLanguage:Ll};return Yt.mark("activateWebview"),NE(e),Yt.mark("cspell_activate_end"),Yt.measure("cspell_activation","cspell_activate_start","cspell_activate_end"),N}function dee(t){let e=tt(),n=Mj(),i={log:(...r)=>Oj||n==="Debug"?t.info(...r):t.debug(...r),error:t.error.bind(t),info:t.info.bind(t),warn:t.warn.bind(t)};return gi.setConnection({console:i,onExit:r=>e.push(r)}),gi.logTime=!1,gi.logSequence=!1,e}Yt.mark("cspell_done_load");function Mj(){return fd||(fd=Zr("logLevel",void 0)||"Error",fd)}function qj(t){let e=t??Mj();gi.level=e}async function fee(t){try{let{uri:e,reason:n}=t;if(!JM(e))return;let i={title:"Open Settings"},r={title:"Manage Notifications"},s=[{title:"Ok"},i,r],o=await Ot.window.showInformationMessage(`File "${Ai(Ot.Uri.parse(e))}" not spell checked:
${n.notificationMessage}
`,...s);o===i&&await Ot.commands.executeCommand("workbench.action.openSettings",n.settingsID),o===r&&await Ot.commands.executeCommand("workbench.action.openSettings","cSpell.enabledNotifications")}catch{}}0&&(module.exports={activate});
/*! Bundled license information:

repeat-string/index.js:
  (*!
   * repeat-string <https://github.com/jonschlinkert/repeat-string>
   *
   * Copyright (c) 2014-2015, Jon Schlinkert.
   * Licensed under the MIT License.
   *)
*/
//# sourceMappingURL=extension.cjs.map
